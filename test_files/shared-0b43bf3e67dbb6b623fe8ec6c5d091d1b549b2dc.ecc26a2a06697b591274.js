(self.webpackChunkheifetz=self.webpackChunkheifetz||[]).push([[2433],{92525:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var o=n(55164),r=n(94009),i=n(85879),a=n(87363),l=n(17103),c=n(75798),s=n(65733),d=["block","inline-block","flex","inline-flex","grid","inline-grid","table","flow-root","list-item"],u=function(t){if(!t)return null;for(var e=null==t?void 0:t.parentElement;e;){var n=getComputedStyle(e).display;if(d.includes(n))return e;e=e.parentElement}return document.documentElement},f=function(t,e){var n=(0,r._)((0,a.useState)(null),2),o=n[0],i=n[1];return(0,a.useEffect)(function(){e&&t&&i(u(t))},[e,t]),o},p=(0,a.forwardRef)(function(t,e){var n=t.children,d=t.className,u=t.top,p=t.bottom,h=t.offset,v=void 0===h?0:h,m=t.onPositionStatusChange,g=t.onStickyChange,C=t.scroller;"boolean"==typeof p?p=v:"boolean"==typeof u&&(u=v);var y=[n,g,m].some(function(t){return"function"==typeof t}),x=(0,a.useRef)(null),Z=(0,l.Z)(e,x),b=(null==C?void 0:C.current)||C,_=f(x.current,y),w=(0,r._)((0,c.Z)({root:b},void 0===C||!!b),3),k=w[0],E=w[1],S=w[2],L=(0,r._)((0,c.Z)({root:_},!!_),3),N=L[0],I=L[1],T=L[2],P=!E&&!!S,R=P&&!(!I&&T),A=!!S&&!!T,M=(0,s.Z)(function(t,e){null==m||m(t?"fixed":"normal"),null==g||g(t,e)});(0,a.useEffect)(function(){A&&M(R,P)},[R,P,A,M]);var B="function"==typeof n?n({isFixed:R,isOff:P}):n;return(0,i.BX)(i.HY,{children:[y&&"number"==typeof u&&(0,i.tZ)("div",{ref:k,css:{position:"relative",top:-u-1}}),(0,i.BX)("div",{className:d,ref:Z,css:{position:"sticky",bottom:p,top:u},children:[y&&("number"==typeof u||"number"==typeof p)&&(0,i.tZ)("div",{ref:N,css:(0,o._)({position:"absolute",height:1},"number"==typeof u&&{bottom:-2},"number"==typeof p&&{top:-2})}),B]}),y&&"number"==typeof p&&(0,i.tZ)("div",{ref:k,css:{position:"relative",bottom:-p-1}})]})})},87628:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var o=n(55164),r=n(57477),i=n(71728),a=n(94009),l=n(87363),c=n(14168),s=n.n(c),d=n(91877),u=n(85879),f=n(68159);function p(t){if(!t)return null;var e=new URL(t).pathname.match(/^\/video\/(\d+)$/);return e&&e[1]?e[1]:null}var h=function(t,e){var n=new URL(t),o=!0,r=!1,i=void 0;try{for(var a,l=Object.keys(e)[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var c=a.value;n.searchParams.set(c,e[c])}}catch(t){r=!0,i=t}finally{try{o||null==l.return||l.return()}finally{if(r)throw i}}return n.toString()},v=(0,l.forwardRef)(function(t,e){var n=t.style,i=t.src,a=t.className,c=t.iframeProps,s=t.griffithProps,f=t.griffithProps.autoplay,v=t.zaProps,m=(0,l.useMemo)(function(){return h(i,{player:JSON.stringify(s)})},[i,s]),g=p(i),C=(0,l.useRef)(null),y=(0,l.useMemo)(function(){return(0,o._)({autoplay:f},v)},[f,v]);return(0,u.tZ)(d.ZO,(0,r._)((0,o._)({id:g},y),{children:(0,u.tZ)("div",{style:n,ref:C,className:a,children:(0,u.tZ)("iframe",(0,r._)((0,o._)({title:"video",ref:e,src:m},c),{frameBorder:"0",css:{width:"100%",height:"100%"}}))})}))});v.propTypes={className:s().string,src:s().string.isRequired,iframeProps:s().object,griffithProps:s().object},v.defaultProps={src:"",griffithProps:{autoplay:!1,useMSE:!1,shouldShowPageFullScreenButton:!1}};var m={video:(0,l.forwardRef)(function(t,e){var n=t.src,c=t.griffithProps,s=(0,i._)(t,["src","griffithProps"]),d=(0,a._)((0,l.useState)(!1),2),h=d[0],m=d[1],g=(0,l.useRef)(void 0===c?{}:c);g.current.shouldShowPageFullScreenButton=!0;var C=p(n),y=(0,l.useRef)((0,f.Wn)(C,"*",!0)),x=(0,l.useCallback)(function(t){t===f.FP.ENTER_PAGE_FULLSCREEN?m(!0):t===f.FP.EXIT_PAGE_FULLSCREEN&&m(!1)},[m]);return(0,l.useEffect)(function(){var t=y.current.subscribeMessage(x);return function(){return t&&t.unsubscribe()}},[x]),(0,u.tZ)(v,(0,r._)((0,o._)({ref:e,griffithProps:g.current},s),{src:n,style:h?{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e5}:{width:"100%",height:"100%"}}))}),log:v},g=(0,l.forwardRef)(function(t,e){var n=t.type,r=(0,i._)(t,["type"]),a=m[void 0===n?"video":n];return(0,u.tZ)(a,(0,o._)({ref:e},r))});g.propTypes={type:s().oneOf(["video","log"])}},51940:function(t,e,n){"use strict";n.d(e,{OU:function(){return R},ZP:function(){return U},e1:function(){return A},wT:function(){return M}});var o,r,i,a=n(20857),l=n(22107),c=n(94707),s=n(87320),d=n(86325),u=n(55164),f=n(57477),p=n(71728),h=n(94009),v=n(49899),m=n(85626),g=n(85879),C=n(87363),y=n.n(C),x=n(88423),Z=n(25628),b=n.n(Z),_=n(84871),w=n.n(_),k=n(95548),E=n.n(k),S=n(36208),L=n(36762),N=n.n(L),I=n(75798),T=n(17103),P=function(t){var e=[];return{value:t,listen:function(t){e.push(t)},unlisten:function(t){e=e.filter(function(e){return e!==t})},emit:function(t){this.value=t,e.forEach(function(e){return e(t)})}}};(o=i||(i={}))[o.Initial=0]="Initial",o[o.Loading=1]="Loading",o[o.Ok=2]="Ok",o[o.Failed=3]="Failed";var R=function(t){return(0,g.BX)("svg",(0,f._)((0,u._)({width:50,height:50,viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},t),{children:[(0,g.BX)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,g.tZ)("ellipse",{fill:"#000",opacity:.45,cx:30,cy:30,rx:30,ry:30}),(0,g.tZ)("ellipse",{stroke:"#FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.5",cx:30,cy:30,rx:26,ry:26})]}),(0,g.tZ)("svg",{x:16,y:18.5,children:(0,g.tZ)("g",{fill:"#fff",children:(0,g.tZ)("path",{x:"100",y:"100",d:"M12.8422852,12.9814453 L12.8422852,11.3994141 L7.63916016,11.3994141 L7.63916016,13.0517578 L10.9086914,13.0517578 L10.9086914,13.3242188 C10.8911133,15.2050781 9.46728516,16.4707031 7.39306641,16.4707031 C5.01123047,16.4707031 3.51708984,14.625 3.51708984,11.6367188 C3.51708984,8.70117188 5.00244141,6.84667969 7.34912109,6.84667969 C9.08056641,6.84667969 10.284668,7.68164062 10.7768555,9.2109375 L12.7543945,9.2109375 C12.3237305,6.64453125 10.2319336,5.00976562 7.34912109,5.00976562 C3.79833984,5.00976562 1.50439453,7.61132812 1.50439453,11.6542969 C1.50439453,15.75 3.77197266,18.3076172 7.36669922,18.3076172 C10.6889648,18.3076172 12.8422852,16.2246094 12.8422852,12.9814453 Z M17.5180664,18 L17.5180664,5.31738281 L15.5493164,5.31738281 L15.5493164,18 L17.5180664,18 Z M22.659668,18 L22.659668,12.7441406 L28.1088867,12.7441406 L28.1088867,11.0039062 L22.659668,11.0039062 L22.659668,7.11035156 L28.6098633,7.11035156 L28.6098633,5.31738281 L20.690918,5.31738281 L20.690918,18 L22.659668,18 Z"})})})]}))},A=function(t){return(0,g.BX)("svg",(0,f._)((0,u._)({width:50,height:50,viewBox:"0 0 60 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),{children:[(0,g.BX)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,g.tZ)("ellipse",{fill:"#000000",opacity:"0.45",cx:"30",cy:"30",rx:"30",ry:"30"}),(0,g.tZ)("ellipse",{stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.5",cx:"30",cy:"30",rx:"26",ry:"26"}),(0,g.BX)("ellipse",{stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.5",cx:"30",cy:"30",rx:"26",ry:"26",children:[(0,g.tZ)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 30 30",to:"90 30 30",dur:"0.15s"}),(0,g.tZ)("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.15",fill:"freeze"})]})]}),(0,g.tZ)("svg",{x:"16",y:"18.5",children:(0,g.tZ)("g",{fill:"#ffffff",children:(0,g.tZ)("path",{x:"100",y:"100",d:"M12.8422852,12.9814453 L12.8422852,11.3994141 L7.63916016,11.3994141 L7.63916016,13.0517578 L10.9086914,13.0517578 L10.9086914,13.3242188 C10.8911133,15.2050781 9.46728516,16.4707031 7.39306641,16.4707031 C5.01123047,16.4707031 3.51708984,14.625 3.51708984,11.6367188 C3.51708984,8.70117188 5.00244141,6.84667969 7.34912109,6.84667969 C9.08056641,6.84667969 10.284668,7.68164062 10.7768555,9.2109375 L12.7543945,9.2109375 C12.3237305,6.64453125 10.2319336,5.00976562 7.34912109,5.00976562 C3.79833984,5.00976562 1.50439453,7.61132812 1.50439453,11.6542969 C1.50439453,15.75 3.77197266,18.3076172 7.36669922,18.3076172 C10.6889648,18.3076172 12.8422852,16.2246094 12.8422852,12.9814453 Z M17.5180664,18 L17.5180664,5.31738281 L15.5493164,5.31738281 L15.5493164,18 L17.5180664,18 Z M22.659668,18 L22.659668,12.7441406 L28.1088867,12.7441406 L28.1088867,11.0039062 L22.659668,11.0039062 L22.659668,7.11035156 L28.6098633,7.11035156 L28.6098633,5.31738281 L20.690918,5.31738281 L20.690918,18 L22.659668,18 Z"})})}),(0,g.BX)("path",{d:"M56,30 C56,15.6405965 44.3594035,4 30,4",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",fill:"none",children:[(0,g.tZ)("animate",{attributeName:"opacity",from:"0",to:"1",dur:".6",fill:"freeze"}),(0,g.tZ)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 30 30",to:"360 30 30",dur:"1.625s",repeatCount:"indefinite"})]})]}))},M=function(t){return(0,g.tZ)("svg",(0,f._)((0,u._)({width:50,height:50,viewBox:"0 0 60 60"},t),{children:(0,g.BX)("g",{fill:"none",fillRule:"evenodd",children:[(0,g.tZ)("ellipse",{fill:"#282828",opacity:.45,cx:30,cy:30,rx:30,ry:30}),(0,g.tZ)("path",{d:"M41.552 18.93A15.954 15.954 0 0 0 30 14c-8.837 0-16 7.163-16 16s7.163 16 16 16c7.811 0 14.315-5.597 15.72-13",stroke:"#FFF",strokeWidth:2,strokeLinecap:"round"}),(0,g.tZ)("path",{d:"M45.108 16.236c.44-.33.797-.151.797.4v7.005c0 .55-.358.73-.797.4L40.7 20.736c-.44-.33-.439-.866 0-1.195l4.407-3.305z",fill:"#FFF"})]})}))},B="300px",z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,n='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(t,'" height="').concat(e,'"></svg>');return"data:image/svg+xml;utf8,".concat(encodeURIComponent(n).replace(/\(/g,"%28").replace(/\)/g,"%29"))},F=function(t){var e=t.width,n=t.height;return(0,g.tZ)("img",{className:"GifPlayer-cover",alt:"",src:z(e,n),css:function(t){return{background:t.colors.GBK10A}}})},D=function(t){var e=t.onChange,n=t.onRef,o=t.threshold,r=t.autoplayOnShow,i=(0,p._)(t,["onChange","onRef","threshold","autoplayOnShow"]),a=(0,h._)((0,I.Z)({threshold:o}),3),l=a[0],c=a[2];return(0,C.useEffect)(function(){c&&e&&e(c)},[c,e]),(0,g.tZ)("div",(0,u._)({ref:(0,T.Z)(n,r?l:null)},i))};function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H=function(){return new Promise(requestAnimationFrame)},G=function(t){(0,d._)(n,t);var e=(0,m._)(n);function n(){for(var t,o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return(0,l._)(this,n),t=e.call.apply(e,[this].concat((0,v._)(r))),O((0,a._)(t),"state",{isLoaded:!1}),O((0,a._)(t),"lastIcon",void 0),O((0,a._)(t),"videoEle",null),O((0,a._)(t),"imgRef",(0,C.createRef)()),O((0,a._)(t),"onPlay",function(){var e=t.props.onSuccess;e&&e()}),O((0,a._)(t),"onError",function(e){var n=t.props,o=n.onFailed,r=n.gifKey;o&&o(e.currentTarget.error),t.props.updateGif({gifKey:r,loadState:i.Failed})}),O((0,a._)(t),"handleClick",function(e){var n=t.props,o=n.onClick,r=n.disableTogglePlayOnClick,a=n.loadState;o&&o(e),r&&a!==i.Failed||t.togglePlayState()}),O((0,a._)(t),"handleImageLoad",function(){return t.setState({isLoaded:!0})}),O((0,a._)(t),"handleIntersectionChange",function(e){var n,o;t.props.autoplayOnShow&&(e.isIntersecting&&e.intersectionRatio>=.3&&t.triggerPlayGif(),e.isIntersecting||0!==e.intersectionRatio||null===(o=(n=t.props).updateGif)||void 0===o||o.call(n,{gifKey:t.props.gifKey,isPlaying:!1}))}),O((0,a._)(t),"wrapperIcon",function(t){return(0,g.tZ)("div",{className:"GifPlayer-icon",css:{position:"absolute",top:"50%",left:"50%",pointerEvents:"none",transition:"0.3s ease-out",transitionProperty:"transform, opacity",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"left top",opacity:"1"},children:t})}),t}return(0,c._)(n,[{key:"canPlay",get:function(){return this.props.loadState===i.Ok}},{key:"componentDidMount",value:function(){var t;(null===(t=this.imgRef.current)||void 0===t?void 0:t.complete)&&this.handleImageLoad()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isPlaying,o=e.videoUrl,r=e.loadState;this.videoEle&&n&&o!==t.videoUrl&&this.videoEle.play(),!t.videoUrl&&o&&(r===i.Loading||n)&&this.triggerPlayGif(),this.videoEle&&this.videoEle.duration&&!n&&t.isPlaying!==n&&(this.videoEle.currentTime=0,this.videoEle.controls=!1,this.videoEle.pause())}},{key:"componentWillUnmount",value:function(){this.props.removeGif({gifKey:this.props.gifKey})}},{key:"triggerPlayGif",value:function(){this.props.isPlaying||this.togglePlayState()}},{key:"togglePlayState",value:function(){var t=this.props,e=t.onPlayChange,n=t.isPlaying,o=t.videoUrl;return(e&&e(n),o)?this.toggleVideo():this.canPlay?this.toggleGifImage():void this.loadGif()}},{key:"toggleGifImage",value:function(){var t=this.props,e=t.gifKey,n=t.isPlaying;this.props.updateGif({gifKey:e,isPlaying:!n})}},{key:"toggleVideo",value:function(){var t=this.props,e=t.gifKey,n=t.onLoadStart,o=t.loadState,r=t.isPlaying;this.videoEle&&(r?this.videoEle.pause():(o===i.Failed&&(this.videoEle.src=this.videoEle.src),this.videoEle.play(),n&&n())),this.props.updateGif({gifKey:e,isPlaying:!r})}},{key:"loadGif",value:function(){var t=this,e=this.props,n=e.gifKey,o=e.src,r=e.onLoadStart,a=e.onSuccess,l=e.onFailed;e.loadState!==i.Loading&&(this.props.updateGif({gifKey:n,loadState:i.Loading}),r&&r(),Promise.all([(0,x.loadImage)(o),H().then(H)]).then(function(){a&&a(),t.props.videoUrl||t.props.updateGif({gifKey:n,isPlaying:!0,loadState:i.Ok})}).catch(function(e){l&&l(e),t.props.videoUrl||t.props.updateGif({gifKey:n,loadState:i.Failed})}))}},{key:"render",value:function(){var t,e,n,o,r=this,a=this.props,l=a.poster,c=a.src,s=a.size,d=a.width,u=a.height,f=a.loadState,p=a.isPlaying,h=a.onRef,v=a.videoUrl,m=a.customIcons,C=a.autoplayOnShow,y=a.renderToolbar,x=a.originalToken,Z=this.canPlay&&p,_=f===i.Loading,w=f===i.Failed,k=this.state.isLoaded;return _?t=this.wrapperIcon(null!==(e=null==m?void 0:m.loading)&&void 0!==e?e:(0,g.tZ)(A,{})):w?t=this.wrapperIcon(null!==(n=null==m?void 0:m.failed)&&void 0!==n?n:(0,g.tZ)(M,{})):p||(t=this.wrapperIcon(null!==(o=null==m?void 0:m.normal)&&void 0!==o?o:(0,g.tZ)(R,{}))),t&&(this.lastIcon=t),(0,g.BX)(D,{threshold:[0,.3],onChange:this.handleIntersectionChange,autoplayOnShow:C,onRef:h,className:b()("GifPlayer",{isPlaying:p}),"data-size":s,onClick:this.handleClick,css:[{position:"relative",display:"block",margin:"0 auto",overflow:"hidden",maxWidth:"100%",cursor:"pointer",textAlign:"center",width:"fit-content",img:{maxWidth:"100%",verticalAlign:"top",margin:"0 auto"}},"small"===s&&{maxWidth:"40%"},p&&{".GifPlayer-icon":{transform:"scale(0.3) translate(-50%, -50%)",opacity:"0"}}],children:[!k&&(0,g.tZ)(F,{width:d,height:u}),(0,g.tZ)("img",{className:b()("ztext-gif",{"GifPlayer-gif2mp4Image":v}),style:{display:k?"block":"none"},width:d,role:"presentation",src:Z?c:l,"data-thumbnail":l,"data-size":s,"data-original-token":x,ref:this.imgRef,onLoad:this.handleImageLoad,alt:Z?"动图":"动图封面"}),v&&(0,g.tZ)("video",{ref:function(t){r.videoEle=t},className:"ztext-gif GifPlayer-gif2mp4",src:v,"data-thumbnail":l,poster:l,"data-size":s,controls:!1,preload:"metadata",loop:!0,muted:!0,onPlay:this.onPlay,onError:this.onError,playsInline:!0,css:{height:"100%",objectFit:"cover",position:"absolute",left:"50%",top:"0",transform:"translateX(-50%)"}}),t||this.lastIcon,null==y?void 0:y(p)]})}}]),n}(y().Component);O(G,"defaultProps",{isPlaying:!1,loadState:i.Initial});var U=(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E();return function(n){return w()(function(o){(0,d._)(i,o);var r=(0,m._)(i);function i(){for(var t,n,o,c=arguments.length,s=Array(c),d=0;d<c;d++)s[d]=arguments[d];return(0,l._)(this,i),o=r.call.apply(r,[this].concat((0,v._)(s))),t=(0,a._)(o),n=e(),"key"in t?Object.defineProperty(t,"key",{value:n,enumerable:!0,configurable:!0,writable:!0}):t.key=n,o}return(0,c._)(i,[{key:"render",value:function(){return(0,g.tZ)(n,(0,f._)((0,u._)({},this.props),(0,s._)({},t,this.key)))}}]),i}(y().Component),n)}})("gifKey")((r={updateGif:function(t){return function(e){var n=t.gifKey,o=t.isPlaying,r=(0,p._)(t,["gifKey","isPlaying"]),i=(0,u._)({},e);if(o){var a=!0,l=!1,c=void 0;try{for(var d,h=Object.keys(i)[Symbol.iterator]();!(a=(d=h.next()).done);a=!0){var v=d.value,m=i[v];v!==n&&m.isPlaying&&(i[v]=(0,f._)((0,u._)({},m),{isPlaying:!1}))}}catch(t){l=!0,c=t}finally{try{a||null==h.return||h.return()}finally{if(l)throw c}}}return(0,f._)((0,u._)({},i),(0,s._)({},n,(0,u._)((0,f._)((0,u._)({},e[n]),{isPlaying:o}),r)))}},removeGif:function(t){return function(e){var n=(0,u._)({},e);return delete n[t.gifKey],n}}},function(t){var e,n=P({}),o=(0,S.createSubscription)({getCurrentValue:function(t){return t.value},subscribe:function(t,e){return t.listen(e),function(){return t.unlisten(e)}}}),i=(e=function(t){return n.emit(t(n.value))},r?N()(r,function(t){return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e(t.apply(void 0,(0,v._)(o)))}}):{dispatch:e}),a=Object.assign(function(e){return(0,g.tZ)(o,{source:n,children:function(n){return(0,g.tZ)(t,(0,u._)({},e,n[e.gifKey],i))}})},{source:n});return w()(a,t)})(G))},32098:function(t,e,n){"use strict";/** @license React v17.0.0
 * create-subscription.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=function(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."},r=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},i=n(87363);e.createSubscription=function(t){var e,n,a,l=t.getCurrentValue,c=t.subscribe;return e=i.Component,r(n=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={source:t.props.source,value:null!=t.props.source?l(t.props.source):void 0},t._hasUnmounted=!1,t._unsubscribe=null,t},e),n.getDerivedStateFromProps=function(t,e){return t.source!==e.source?{source:t.source,value:null!=t.source?l(t.source):void 0}:null},(a=n.prototype).componentDidMount=function(){this.subscribe()},a.componentDidUpdate=function(t,e){this.state.source!==e.source&&(this.unsubscribe(),this.subscribe())},a.componentWillUnmount=function(){this.unsubscribe(),this._hasUnmounted=!0},a.render=function(){return this.props.children(this.state.value)},a.subscribe=function(){var t=this,e=this.state.source;if(null!=e){var n=c(e,function(n){t._hasUnmounted||t.setState(function(t){return n===t.value||e!==t.source?null:{value:n}})});if("function"!=typeof n)throw Error(o(266));this._unsubscribe=n,(n=l(this.props.source))!==this.state.value&&this.setState({value:n})}},a.unsubscribe=function(){"function"==typeof this._unsubscribe&&this._unsubscribe(),this._unsubscribe=null},n}},36208:function(t,e,n){"use strict";t.exports=n(32098)},91877:function(t,e,n){"use strict";n.d(e,{Ss:function(){return O},ZO:function(){return U}});var o,r=n(9338),i=n(55164),a=n(57477),l=n(94009),c=n(49899),s=n(30971),d=n(82083),u=n(87363),f=n.n(u),p=n(43384),h=n(65733),v=n(45564),m=n(87804),g=n(90270),C=n(83697),y=n(54231),x=n(68159),Z=n(88329),b=n.n(Z),_=new Uint8Array(16);function w(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(_)}for(var k=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,E=[],S=0;S<256;++S)E.push((S+256).toString(16).substr(1));var L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(E[t[e+0]]+E[t[e+1]]+E[t[e+2]]+E[t[e+3]]+"-"+E[t[e+4]]+E[t[e+5]]+"-"+E[t[e+6]]+E[t[e+7]]+"-"+E[t[e+8]]+E[t[e+9]]+"-"+E[t[e+10]]+E[t[e+11]]+E[t[e+12]]+E[t[e+13]]+E[t[e+14]]+E[t[e+15]]).toLowerCase();if(!("string"==typeof n&&k.test(n)))throw TypeError("Stringified UUID is invalid");return n},N=function(t,e,n){var o=(t=t||{}).random||(t.rng||w)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=o[r];return e}return L(o)},I=n(65995),T=n.n(I),P=f().forwardRef(function(t,e){var n=t.id,o=t.attachedInfo,r=t.type,i=t.token,a=t.children,l=(0,u.useRef)(null),c=(0,h.Z)(function(){return{trackPlayer:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Play",r=arguments.length>1?arguments[1]:void 0,i=r.playId,a=r.elapsed,c=r.duration,s=r.progressTime,d=r.playMode,u=r.playSpeed,f=r.name;null==l||null===(t=l.current)||void 0===t||t.trackPlayer({eventType:"Unknown",action:e,elementLocation:{type:"Video",text:void 0===f?"":f}},{attachedInfoBytes:o||"",mediaInfo:{videoInfo:{videoId:n,soundRate:void 0===u?"":u},playEventIdentifier:i||"",elapsed:void 0===a?0:a,duration:void 0===c?0:c,progressTime:s,playMode:d}})}}});return(0,u.useImperativeHandle)(e,c),(0,d.jsxs)(p.eV,{content:{type:r,id:i,token:i},children:[(0,d.jsx)(p.pS,{ref:l}),a]})}),R={Play:{type:"Play",txt:"开始播放"},Pause:{type:"Pause",txt:"播放暂停"},EndPlay:{type:"EndPlay",txt:"播放结束"},AutoPlay:{type:"AutoPlay",txt:"自动播放"}},A={IOS:"7.33",ANDROID:"7.33"};function M(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.forEach(function(e){"function"==typeof e?e(t):e&&(e.current=t)})}}function B(t){return{statscIncrement:function(e){y.ZP.increment("VideoLog.".concat(t,".").concat(e,".count"))}}}var z={NaN:isNaN,Infinity:function(t){return t===1/0},negative:function(t){return t<0},isTimestamp:function(t){return 13===t.toString().length},overThreshold:function(t){return t>72e5}};function F(t){for(var e in z)if(z[e](t))return e;return null}var D=function(t){var e=t.id,n=t.onSuspend,o=t.ref,r=t.handleTrack,l=t.getPlayerInfo,s=t.autoplay,d=void 0!==s&&s,f=t.useTrack,p=void 0===f||f,v=t.reporter,m=void 0===v?{current:{}}:v,g=(0,u.useRef)({isPlaying:!1,currentTime:0,duration:0,playMode:1,playSpeed:"1",elapsed:0,playId:"",sumElapsed:0}),C=(0,u.useMemo)(function(){return(0,x.Wn)(e,"*",!0)},[e]),y=(0,u.useRef)(!0),Z=(0,u.useRef)(0),_=(0,u.useRef)(0),w=(0,u.useRef)(0),k=(0,u.useRef)(0),E=(0,u.useRef)([]),S=(0,u.useCallback)(function(){return new Promise(function(t,e){return l().then(function(e){t(e)},e)})},[l]),L=(0,u.useCallback)(function(t){var e,o,r,l,c=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=g.current;if(!c||s.isPlaying){if(!_.current){null===(o=(e=m.current).statscIncrement)||void 0===o||o.call(e,"default.process.event.pauseNoPlay");return}w.current=Date.now(),Z.current=w.current-_.current-k.current;var d=F(Z.current);d&&(null===(l=(r=m.current).statscIncrement)||void 0===l||l.call(r,"default.process.elapsed.pause.".concat(d)));var u=(0,a._)((0,i._)({},s,t),{elapsed:Z.current});return n&&n(u),u}},[m,n]),N=(0,h.Z)(function(){k.current=0,Z.current=0,_.current=0,y.current=!0,g.current.elapsed=0}),I=(0,h.Z)(function(){g.current.isPlaying?E.current.push(N):N()}),T=(0,u.useCallback)(function(){_.current||(_.current=Date.now())},[]),P=(0,h.Z)(function(t,e){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=L(e,n);if(o){g.current.isPlaying=!1,E.current.length>0&&((0,c._)(new Set(E.current)).forEach(function(t){return null==t?void 0:t()}),E.current=[]);var l=(o||{}).elapsed;r(t,(0,a._)((0,i._)({},o),{elapsed:l+g.current.sumElapsed}))}});(0,u.useEffect)(function(){return function(){I(),P(R.Pause,g.current)}},[P,I,e]);var A=(0,h.Z)(p?function(t,e){var n,o,l=g.current,c=(0,i._)({},l,e);switch(t){case x.FP.TIMEUPDATE:g.current=(0,a._)((0,i._)({},l),{currentTime:e.currentTime,duration:e.duration});break;case x.FP.PLAYING:T();break;case x.FP.PLAY:if(!y.current){if(!w.current){null===(u=(s=m.current).statscIncrement)||void 0===u||u.call(s,"default.process.event.playNoPause");return}var s,u,f,p,h=Date.now()-w.current;k.current+=h;var v=F(k.current);v&&(null===(p=(f=m.current).statscIncrement)||void 0===p||p.call(f,"default.process.elapsed.start.".concat(v)))}S().then(function(t){var e,n,o=t.playId,s=t.elapsed,u=F(s);u&&(null===(n=(e=m.current).statscIncrement)||void 0===n||n.call(e,"default.process.elapsed.native.".concat(u))),o!==g.current.playId&&(N(),T()),g.current=(0,a._)((0,i._)({},l),{playId:o,isPlaying:!0,sumElapsed:s}),r(!s&&y.current&&d?R.AutoPlay:R.Play,(0,a._)((0,i._)({},c),{playId:o,elapsed:s+Z.current})),y.current=!1});break;case x.FP.PLAYBACK_RATE_CHANGE:g.current.playSpeed=String(null===(n=e.rate)||void 0===n?void 0:n.value),r(R.Play,(0,a._)((0,i._)({},c),{playSpeed:String(null===(o=e.rate)||void 0===o?void 0:o.value)}));break;case x.FP.ENTER_FULLSCREEN:g.current.playMode=2,r(R.Play,(0,a._)((0,i._)({},c),{playMode:2}));break;case x.FP.ENTER_PAGE_FULLSCREEN:g.current.playMode=4,r(R.Play,(0,a._)((0,i._)({},c),{playMode:4}));break;case x.FP.EXIT_FULLSCREEN:case x.FP.EXIT_PAGE_FULLSCREEN:g.current.playMode=1,r(R.Play,(0,a._)((0,i._)({},c),{playMode:1}));break;case x.FP.PAUSE:P(R.Pause,c);break;case x.FP.ENDED:P(R.EndPlay,c,!1)}}:b());(0,u.useEffect)(function(){return C.subscribeMessage(A),C.dispose},[A,C]);var M=(0,h.Z)(function(){return{reStart:N,getIfPause:L,reset:I}});(0,u.useImperativeHandle)(o,M)},O=(0,u.forwardRef)(function(t,e){var n=t.id,o=t.type,c=t.autoplay,f=t.token,p=t.attachedInfo,y=t.onSuspend,x=t.children,Z=(0,C.n)(),b=(0,u.useRef)(null),_=(0,u.useRef)(null),w=(0,u.useRef)(B("HybridVideoManager")),k=(0,l._)((0,u.useState)(n),2),E=k[0],S=k[1],L=(0,l._)((0,u.useState)(!0),2),N=L[0],I=L[1],T=(0,v.Z)(n),R=(0,u.useMemo)(function(){return(0,g.FI)(Z,A)},[Z]);(0,u.useEffect)(function(){T!==n?I(!1):I(!0)},[n,T]);var z=(0,h.Z)(function(t,e){var o,r=t.type,i=t.txt;if(e){var a=e.currentTime,l=e.duration,c=e.playMode,s=e.playSpeed,d=e.elapsed,u=e.playId;r||w.current.statscIncrement("default.result.playType");var f=F(d);f&&w.current.statscIncrement("default.result.elapsed.all.".concat(f)),null===(o=b.current)||void 0===o||o.trackPlayer(r,{elapsed:d,duration:1e3*l,playMode:void 0===c?1:c,playSpeed:s,progressTime:1e3*a,name:i,playId:u}),T!==n&&S(n),w.current.statscIncrement("default.result.intention")}}),O=(0,u.useCallback)((0,r._)(function(){var t;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return[3,1];case 1:return[4,(0,m.Z)("base/getPlayInfo").dispatch({videoId:n})];case 2:t=e.sent(),e.label=3;case 3:return[2,t]}})}),[n]);D({id:n,autoplay:void 0!==c&&c,onSuspend:y,handleTrack:z,getPlayerInfo:O,ref:M(_,e),useTrack:R,reporter:w});var H=(0,u.useRef)({attachedInfo:void 0===p?"":p,type:o,token:String(void 0===f?"":f)});return(0,d.jsx)(P,(0,a._)((0,i._)({ref:b,id:E},H.current),{children:N&&x}))}),H=function(t,e){var n=(0,u.useRef)(!1),o=(0,h.Z)(function(){try{var t=new URL(location.href),e=t.hostname,n=t.pathname,o=(null===(r=n.match(/^\/([\w|-]+).*/))||void 0===r?void 0:r[1])||"index";if("www.zhihu.com"===e)return"".concat(o,".default");var r,i,a=(null===(i=e.match(/(.+).zhihu\.com$/))||void 0===i?void 0:i[1])||"unknown";return"other.".concat(a,"_").concat(o)}catch(t){return"unknown.unknown"}});return(0,u.useEffect)(function(){n.current=!1},[t]),(0,h.Z)(function(){if(!n.current){var t=o();null==e||e.current.statscIncrement("".concat(t,".process.event.playback")),n.current=!0}})},G=(0,u.forwardRef)(function(t,e){var n=t.id,o=t.type,r=t.autoplay,c=t.token,s=t.attachedInfo,f=t.onSuspend,p=t.children,m=(0,u.useRef)(null),g=(0,u.useRef)(N()),C=(0,u.useRef)(null),y=(0,u.useRef)(B("WebPlayer")),x=(0,l._)((0,u.useState)(n),2),Z=x[0],b=x[1],_=(0,l._)((0,u.useState)(!0),2),w=_[0],k=_[1],E=(0,v.Z)(n),S=(0,u.useRef)({attachedInfo:void 0===s?"":s,type:o,token:String(void 0===c?"":c)}),L=H(n,y);(0,u.useEffect)(function(){g.current=N()},[n]),(0,u.useEffect)(function(){void 0!==E&&E!==n?k(!1):k(!0)},[n,E]);var I=(0,h.Z)(function(t,e){var o,r=t.type,i=t.txt;if(e){var a=e.currentTime,l=e.duration,c=e.playMode,s=e.playSpeed,d=e.elapsed,u=e.playId;null===(o=m.current)||void 0===o||o.trackPlayer(r,{elapsed:d,duration:(void 0===l?0:l)*1e3,playMode:void 0===c?1:c,playSpeed:s,progressTime:1e3*a,name:i,playId:u}),L(),E!==n&&b(n)}});D({id:n,autoplay:void 0!==r&&r,onSuspend:f,handleTrack:I,getPlayerInfo:(0,u.useCallback)(function(){return Promise.resolve({playId:g.current,elapsed:0})},[]),ref:M(C,e)});var A=(0,h.Z)(T()(function(){var t=C.current.getIfPause();I(R.Pause,t)},50,{trailing:!1,leading:!0}));return(0,u.useEffect)(function(){return window.addEventListener("pagehide",A,!1),window.addEventListener("beforeunload",A,!1),function(){window.removeEventListener("pagehide",A,!1),window.removeEventListener("beforeunload",A,!1)}},[A]),(0,d.jsx)(P,(0,a._)((0,i._)({ref:m,id:Z},S.current),{children:w&&p}))}),U=(0,u.memo)(G)},26257:function(t,e,n){"use strict";n.d(e,{PO:function(){return j},$n:function(){return U},fo:function(){return th},YZ:function(){return V},XD:function(){return tg},Rg:function(){return tp},f1:function(){return Y},PD:function(){return $},b6:function(){return tm},cy:function(){return Q}});var o=n(55164),r=n(57477),i=n(71728),a=n(94009),l=n(87363),c=n.n(l),s=n(61533),d=n(87641),u=n(65733),f=n(43384),p=n(25628),h=n.n(p),v=n(80565),m=n(89042),g=n(28753),C=n(64137),y=n(99878),x=n(64099),Z=n(85879),b=n(25352),_=n(37831),w=n(69383),k=n(65995),E=n.n(k),S=n(62618),L=n(92525),N=Object.prototype.hasOwnProperty,I=Object.getOwnPropertySymbols,T=Object.prototype.propertyIsEnumerable,P=Object.assign,R=function(t,e){var n={};for(var o in t)N.call(t,o)&&0>e.indexOf(o)&&(n[o]=t[o]);var r=!0,i=!1,a=void 0;if(null!=t&&I)try{for(var l,c=I(t)[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var o=l.value;0>e.indexOf(o)&&T.call(t,o)&&(n[o]=t[o])}}catch(t){i=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n},A=function(t){var e=t.size,n=t.text,o=t.center,r=R(t,["size","text","center"]);n&&(e="1.2em");var i=c().createElement("svg",P(P({},r),e&&{width:e,height:e}));return o?c().createElement("span",{style:A.strutStyle},"​",i):i};A.defaultProps={fill:"currentColor"},A.strutStyle={display:"inline-flex",alignItems:"center"};var M=Object.assign,B=function(t){return c().createElement(A,M(M({width:"24",height:"24",viewBox:"0 0 24 24"},t),{className:"ZDI ZDI--Catalog24"+(t.className?" ".concat(t.className):"")}),c().createElement("path",{d:"M10 5a1 1 0 011-1h10a1 1 0 110 2H11a1 1 0 01-1-1zm4 6a1 1 0 100 2h7a1 1 0 100-2h-7zm0 7a1 1 0 100 2h7a1 1 0 100-2h-7zm-8.335.25a.915.915 0 01-.915-.915V12.75H10a.75.75 0 000-1.5H4.75V6.665c0-.505.41-.915.915-.915H7a.75.75 0 000-1.5H5.665A2.415 2.415 0 003.25 6.665v10.67a2.415 2.415 0 002.415 2.415H10a.75.75 0 000-1.5H5.665z"}))},z=function(t){var e=t.children,n=t.pl,a=t.targetId,l=t.handleScroll,c=t.index,s=(0,i._)(t,["children","pl","targetId","handleScroll","index"]);return(0,Z.tZ)(d.Text,(0,r._)((0,o._)({flexShrink:0,display:"flex",alignItems:"center",color:"GBK02A",fontSize:"12px",height:"20px",lineHeight:"19px",css:{"&+.Catalog-FirstLevelTitle":{marginTop:"12px"},"&+.Catalog-SecondLevelTitle":{marginTop:"6px"}}},s),{children:(0,Z.BX)(d.Flex,{pl:n,css:{cursor:"pointer",alignItems:"center"},"data-catalog-target-id":a,"data-za-detail-view-id":"9745","data-za-detail-view-action":"Click","data-za-detail-view-name":"正文",onClick:function(t){l(t,c)},children:[(0,Z.tZ)(d.Text,{css:[(0,v.S)(1),{pointerEvents:"none",wordBreak:"break-all"}],dangerouslySetInnerHTML:{__html:e}}),(0,Z.tZ)(m.W,{size:"20px",css:function(t){var e;return{color:null===(e=t.colors)||void 0===e?void 0:e.GBK08A,flex:"0 0 auto",pointerEvents:"none"}}})]})}))},F=function(t){var e=t.className,n=(0,i._)(t,["className"]);return(0,Z.tZ)(z,(0,o._)({className:h()(e,"Catalog-FirstLevelTitle"),fontWeight:"bold",css:{"&+.Catalog-FirstLevelTitle":{marginTop:"12px"},"&+.Catalog-SecondLevelTitle":{marginTop:"6px"}}},n))},D=(0,l.forwardRef)(function(t,e){var n=t.isFold,o=t.onClick,r=n?g.f:C.v;return(0,Z.BX)(Z.HY,{children:[!!n&&(0,Z.tZ)("div",{className:"bottom-shadow",css:function(t){return{position:"absolute",bottom:"25px",width:"100%",height:"40px",background:"linear-gradient(to bottom, ".concat(t.colorMod(t.colors.GBK99A).alpha(0),", ").concat(t.colors.GBK99A,")")}}}),(0,Z.tZ)(d.Flex,{justifyContent:"center",children:(0,Z.BX)(d.Flex,{ref:e,alignItems:"center",justifyContent:"center",height:"25px",fontSize:"12px",color:"GBL05A",css:{cursor:"pointer"},onClick:o,children:[n?"展开目录":"收起目录",(0,Z.tZ)(r,{size:18,css:{marginTop:"1px"}})]})})]})}),O={1:F,2:function(t){var e=t.className,n=(0,i._)(t,["className"]);return(0,Z.tZ)(z,(0,o._)({className:h()(e,"Catalog-SecondLevelTitle"),pl:"10px",css:{"&+.Catalog-FirstLevelTitle":{marginTop:"12px"},"&+.Catalog-SecondLevelTitle":{marginTop:"0px"}}},n))}},H=function(t){var e=t.catalog,n=t.className,o=t.canFold,r=t.inEditor,i=t.scrollOffset,a=void 0===i?0:i,c=o&&!r&&(null==e?void 0:e.length)>3,s=(0,l.useCallback)(function(t,e){if(r){var n=document.querySelector(".DraftEditor-editorContainer");if(n){var o=Array.from(n.querySelectorAll("h2,h3"))[e];o&&requestAnimationFrame(function(){return(0,x.TS)(o,a)})}}},[r,a]);return null!=e&&e.length?(0,Z.BX)(d.Box,{className:h()(n,"Catalog"),mb:"48px",css:{"& .Catalog-wrapper":{position:"relative"}},"data-za-detail-view-name":"正文",children:[(0,Z.tZ)("h2",{css:{marginBottom:"18px !important",marginTop:"0px !important"},children:"目录"}),(0,Z.BX)(d.Box,{className:"Catalog-wrapper",children:[(0,Z.tZ)(d.Flex,{className:"Catalog-content",flexDirection:"column",fontSize:"12px",overflow:"hidden",height:c?"84px":"auto",children:e.map(function(t){var e=t.titleLevel,n=t.text,o=t.targetId,r=t.index,i=O[e]||F;return(0,Z.tZ)(i,{targetId:o,handleScroll:s,index:r,children:n},String([o,r]))})}),!!c&&(0,Z.tZ)(D,{isFold:!0})]})]}):r?(0,Z.BX)(d.Flex,{flexDirection:"column",alignItems:"center",mb:"18px",children:[(0,Z.tZ)(d.Box,{size:"160px",mb:"10px",children:(0,Z.tZ)(d.Image,{size:"100%",src:"https://pic1.zhimg.com/v2-acf70e51e6f95a027a65a9209fd6a330_r.png"})}),(0,Z.tZ)(d.Text,{color:"GBK06A",fontSize:"17px",lineHeight:"24px",textAlign:"center",children:"在内容中设置标题将会在此处同步展示"})]}):null},G=function(t){var e=t.contentHTML,n=(0,a._)((0,l.useState)(!0),2),o=n[0],r=n[1],i=(0,u.Z)(function(){r(!o)});return(0,Z.BX)(f.eV,{block:"ZTextCatalog",children:[(0,Z.tZ)(f.Wi,{as:d.Flex,zaType:"Block",className:"Catalog-content",flexDirection:"column",css:{fontSize:"12px",overflow:"hidden"},style:{height:o?"84px":"auto"},dangerouslySetInnerHTML:{__html:e}}),(0,Z.tZ)(f.$U,{as:D,zaType:"Button",zaAction:o?"Expand":"Collapse",isFold:o,onClick:i})]})},U=function(t){var e=t.root,n=(0,a._)((0,l.useState)(null),2),o=n[0],r=n[1];return(0,l.useEffect)(function(){if(e){var t=e.querySelector(".Catalog-wrapper");if(t&&t.querySelector(".bottom-shadow")){var n=t.querySelector(".Catalog-content").innerHTML,o=document.createElement("div");o.className="Catalog-wrapper",t.parentNode.replaceChild(o,t),r((0,s.createPortal)((0,Z.tZ)(G,{contentHTML:n}),o))}}},[e]),o},V={removed:"removed",toAdd:"toAdd",added:"added"},W={min:180,max:250,inEditor:180,collapse:100,foldIcon:76},j=10,K=/<(h2|h3)[^>]*>(.*?)<\/\1>/g,X={h2:1,h3:2},Y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t)return{catalog:[],html:t};var o=[];return e=e||"editor",n="function"==typeof n?n:function(){return String(n)},t=t.replace(K,function(t,r){var i,a,l,c,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d=s.replace(x.Zd,"").replace(/<[^>]*>/g,""),u=X[r],f=(i=e,a=o.length,"h_".concat(i||"editor","_").concat(a)),p=(null===(l=t.match(/(data-into-catalog-status=\\{0,1}"\S{1,}\\{0,1}")/))||void 0===l?void 0:null===(c=l[0])||void 0===c?void 0:c.indexOf(V.removed))>-1?V.removed:"";return o.push({text:d,titleLevel:u,Tag:r,targetId:f,status:p}),n({text:d,titleLevel:u,targetId:f,Tag:r,originText:s,status:p})}),{catalog:o,html:t}},q=function(t){var e=t.originText,n=t.targetId,o=t.Tag,r=t.status;return(0,_.renderToStaticMarkup)((0,Z.tZ)(o,{id:n,"data-into-catalog-status":r,dangerouslySetInnerHTML:{__html:e}}))},$=function(t){return function(e,n){var o=n.sourceId,r=n.theme,i=n.shouldShowCatalog,a=n.shouldFoldCatalog;if(!e||!i)return e;var l=Y(e,o,q),c=l.catalog,s=l.html;return!c.length||t?s:(0,_.renderToStaticMarkup)((0,Z.tZ)(b.f6,{theme:r,children:(0,Z.tZ)(H,{catalog:c,canFold:a})})).concat(s)}},J=function(t,e,n,o){if(!t.defaultPrevented){var r=t.target.getAttribute("data-catalog-target-id");if(r){n({action:"OpenUrl",block:"ZTextCatalog",eventType:"Click",elementLocation:{type:"Button",text:t.target.innerText}},{link:{url:window.location.href}}),w.Z.trackEvent(t.target);var i=e.querySelector("#"+r);i&&(t.preventDefault(),(0,x.TS)(i,10+o,!1))}}},Q=function(t,e,n){var o=(0,f.Q4)().trackEvent,r=(0,l.useCallback)(function(r){J(r,e||t,o,n)},[t,e,o,n]);(0,l.useEffect)(function(){if(t)return t.addEventListener("click",r),function(){t.removeEventListener("click",r)}},[t,r])},tt=function(t){var e=t.children,n=t.targetId,a=t.active,l=t.setCursor,c=(0,i._)(t,["children","targetId","active","setCursor"]);return(0,Z.tZ)(f.$U,(0,r._)((0,o._)({as:d.Text,zaType:"Text",color:a?"GBL01A":"GBK02A",fontWeight:a?"bold":"normal",css:{fontSize:"14px"}},c),{children:(0,Z.BX)(d.Flex,{css:{cursor:"pointer",alignItems:"center",height:"48px"},sx:{borderBottom:"1px solid",borderColor:"GBK09A"},onClick:function(){var t=document.querySelector("#"+n);l(n),t&&(0,x.TS)(t)},children:[(0,Z.tZ)(d.Text,{css:(0,v.S)(1),children:e}),(0,Z.tZ)(y.N,{size:"24px",css:function(t){return{color:t.colors.GBL05A,flex:"0 0 auto",marginLeft:"auto"}}})]})}))},te=function(t){return(0,Z.tZ)(tt,(0,o._)({},t))},tn={1:te,2:function(t){return(0,Z.tZ)(tt,(0,o._)({pl:"20px"},t))}},to=function(t){var e=t.catalog,n=t.className,o=(0,a._)((0,l.useState)(null),2),r=o[0],i=o[1];return((0,l.useEffect)(function(){if(null!=e&&e.length){var t=null,n=(0,x.cx)();e.forEach(function(e){var o=document.querySelector("#"+e.targetId);(null==o?void 0:o.getBoundingClientRect().top)<=n+2&&(t=e.targetId)}),i(t)}},[]),null!=e&&e.length)?(0,Z.tZ)(f.eV,{block:"Popup",children:(0,Z.tZ)(f.Wi,{zaType:"Popup",as:d.Box,className:h()(n),children:(0,Z.tZ)(d.Flex,{flexDirection:"column",css:{fontSize:"12px"},children:e.map(function(t){var e=t.titleLevel,n=t.text,o=t.targetId,a=tn[e]||te;return(0,Z.tZ)(a,{targetId:o,active:r===o,setCursor:i,children:n},o)})})})}):null},tr=function(t){var e=t.className,n=t.shown,o=t.onClose,r=t.zaContent,i=t.catalog;return(0,Z.tZ)(S.Z,{wrapperClassName:"CatalogModal-wrapper",className:h()("CatalogModal",e),title:"目录",onClose:o,children:n&&(0,Z.tZ)(to,{css:{paddingBottom:"16px"},catalog:i,zaContent:r})})},ti=function(t){var e=t.isCollapsed,n=t.inEditor,r=t.catalogRef,a=t.contentRoot,c=t.shouldShowFoldIcon,s=t.stickyOffset,u=t.catalogStyles,p=u.width,h=u.maxHeight,v=(0,i._)(t,["isCollapsed","inEditor","catalogRef","contentRoot","shouldShowFoldIcon","stickyOffset","catalogStyles"]),m=(0,l.useMemo)(function(){return p||(n?W.inEditor:c?W.foldIcon:e?W.collapse:W.max)},[p,n,c,e]);return n||a?(0,Z.tZ)(f.eV,{block:n?"EditPage":"AnswerPage",children:(0,Z.tZ)(L.Z,{top:s,children:(0,Z.tZ)("div",{children:(0,Z.tZ)(f.Wi,(0,o._)({ref:r,zaType:"Block",as:d.Box,css:{position:"relative",left:e?"calc(100% - ".concat(W.collapse,"px)"):0,width:m,zIndex:1,maxWidth:c?W.collapse:"100%",maxHeight:h||"calc(100vh - ".concat(s,"px - 20px)")}},v))})})}):null},ta=function(t){var e=t.isCollapsed,n=t.isCollapsedChange,o=t.inEditor,r=t.onClose;return(0,Z.tZ)(L.Z,{top:!0,children:(0,Z.BX)(d.Flex,{px:"10px",py:"8px",bg:"GBK99A",alignItems:"center",justifyContent:"space-between",color:"GBL05A",css:{width:"100%",height:"40px",borderRadius:e?o?"0px 4px 4px 0px":"4px 0px 0px 4px":"4px",zIndex:"1",boxShadow:"0px 1px 3px rgba(18, 18, 18, 0.1)"},children:[(0,Z.BX)(d.Flex,{alignItems:"center",children:[(0,Z.tZ)(B,{size:15,text:!0,center:!0}),(0,Z.tZ)(f.KC,{as:d.Text,zaType:"Button",zaText:!0,shouldTrackShow:!0,shouldTrackClick:e,ml:"10px",fontSize:"14px",css:e&&{cursor:"pointer",whiteSpace:"nowrap"},onClick:function(){e&&n(!1)},children:e&&!o?"展开目录":"目录"})]}),o&&(0,Z.tZ)(d.Image,{src:"https://pic1.zhimg.com/v2-6264c104a2b3efcd0bd3c4876232aec3.png",onClick:r,css:{width:"15px",height:"15px",cursor:"pointer"}}),!o&&!e&&(0,Z.tZ)(f.$U,{as:d.Text,zaType:"Button",zaText:"收起目录",p:"2px 6px",bg:"GBK10A",color:"GBL05A",fontSize:"12px",lineHeight:"16px",css:{borderRadius:"10px",cursor:"pointer"},onClick:function(){n(!0)},children:"收起"})]})})},tl=function(t){var e=t.children,n=t.pl,a=t.targetId,c=t.index,s=t.status,u=t.className,p=t.isCollapsed,m=t.inEditor,g=t.active,C=t.catalog,y=t.onChange,b=t.scrollOffset,_=(0,i._)(t,["children","pl","targetId","index","status","className","isCollapsed","inEditor","active","catalog","onChange","scrollOffset"]),w=(0,l.useCallback)(function(t,e,n){var o=document.querySelector(".DraftEditor-editorContainer");if(o){var r=Array.from(o.querySelectorAll("h2,h3"))[e].getAttribute("data-offset-key").split("-")[0];C[e].status=V.removed,y(r,n)}},[C,y]),k=(0,l.useCallback)(function(t,e){if(m){var n=document.querySelector(".DraftEditor-editorContainer");if(n){var o=Array.from(n.querySelectorAll("h2,h3"))[e];o&&requestAnimationFrame(function(){return(0,x.TS)(o,b)})}}},[m,b]);return(0,Z.tZ)(f.$U,(0,r._)((0,o._)({as:d.Text,zaType:"Text",className:h()(u,"Catalog-Title"),flexShrink:0,display:"flex",alignItems:"center",color:"GBL05A",fontSize:"12px",height:"20px",lineHeight:"20px",pl:"30px",css:function(t){return{position:"relative",height:"30px",lineHeight:"30px","&.Catalog-FirstLevelTitle, &.Catalog-SecondLevelTitle":{position:"relative",height:"30px",color:g?t.colors.GBL01A:t.colors.GBL05A,"&::before":{content:'" "',position:"absolute",backgroundColor:g?t.colors.GBL01A:t.colors.GBL05A,display:"inline-block",borderRadius:"50%",top:"12px",marginRight:"12px"},"&:hover::before":{backgroundColor:t.colors.GBL01A}},"&.Catalog-FirstLevelTitle::before":{left:p?"78px":"16px",width:"6px",height:"6px"},"&.Catalog-SecondLevelTitle::before":{left:p?"79px":"17px",width:"4px",height:"4px"},".Catalog-TitleIcon":(0,o._)({position:"absolute",right:"10px",width:"12px",height:"12px",objectFit:"contain"},("toAdd"!==s||!e)&&{display:"none"}),"&::after":{content:'" "',display:"block",position:"absolute",left:p?"81px":"19px",top:0,transform:"translateX(-50%)",width:"2px",height:"40px",marginTop:"12px",background:t.colorMod(t.colors.GBL05A).alpha(.12)},"&:last-child":{"&::after":{height:0}}}}},_),{onClick:function(t){k(t,c)},children:!p&&(0,Z.BX)(d.Flex,{px:"10px",ml:n,css:function(t){return(0,r._)((0,o._)({cursor:"pointer",alignItems:"center",width:"100%"},"toAdd"===s&&!!e&&{color:t.colors.GBL01A,background:t.colors.GBK09A,borderRadius:"4px"}),{"&:hover":{color:t.colors.GBL01A,background:t.colors.GBK09A,borderRadius:"4px",".Catalog-TitleIcon":{display:"block"}}})},"data-catalog-target-id":a,"data-za-detail-view-id":"9745","data-za-detail-view-action":"Click","data-za-detail-view-name":"正文",children:[(0,Z.tZ)(d.Text,{css:[(0,v.S)(1),{pointerEvents:"none",wordBreak:"break-all",width:"calc(100% - 22px)"}],dangerouslySetInnerHTML:{__html:e}}),m&&("toAdd"===s?(0,Z.tZ)(d.Image,{src:"https://pic3.zhimg.com/v2-b01c062116d91b98059d7c90bb1139d2.png",className:"Catalog-TitleIcon",onClick:function(t){t.stopPropagation(),w(t,c,V.added)}}):(0,Z.tZ)(d.Image,{src:"https://pic2.zhimg.com/v2-4bf4e045dbe37447d257b72b5a79b05c.png",className:"Catalog-TitleIcon",onClick:function(t){t.stopPropagation(),w(t,c,V.removed)}}))]})}))},tc=function(t){var e=t.className,n=(0,i._)(t,["className"]);return(0,Z.tZ)(tl,(0,o._)({className:h()(e,"Catalog-FirstLevelTitle"),fontWeight:"500",css:{"&+.Catalog-FirstLevelTitle":{marginTop:"4px"},"&+.Catalog-SecondLevelTitle":{marginTop:"4px"}}},n))},ts={1:tc,2:function(t){var e=t.className,n=(0,i._)(t,["className"]);return(0,Z.tZ)(tl,(0,o._)({className:h()(e,"Catalog-SecondLevelTitle"),pl:"10px",fontWeight:"400",css:{"&+.Catalog-FirstLevelTitle":{marginTop:"4px"},"&+.Catalog-SecondLevelTitle":{marginTop:"4px"}}},n))}},td=function(){return(0,Z.BX)(d.Flex,{flexDirection:"column",alignItems:"center",mb:"18px",children:[(0,Z.tZ)(d.Box,{size:"160px",mb:"10px",children:(0,Z.tZ)(d.Image,{size:"100%",src:"https://pic1.zhimg.com/v2-acf70e51e6f95a027a65a9209fd6a330_r.png"})}),(0,Z.tZ)(d.Text,{color:"GBK05A",fontSize:"12px",lineHeight:"19px",textAlign:"center",children:"在内容中设置标题会在此展示"})]})},tu=function(t){var e=t.catalogContainerRef,n=t.isShowScrollerArrow,r=t.catalog,i=t.isCollapsed,c=t.cursor,s=t.inEditor,u=t.maskGradientColor,f=t.onChange,p=t.scrollOffset,h=t.catalogLength,v=t.stickyOffset,m=t.catalogStyles.maxHeight,g=(0,a._)((0,l.useState)(!1),2),C=g[0],y=g[1],x=(0,a._)((0,l.useState)(!1),2),b=x[0],_=x[1],w=(0,l.useMemo)(function(){return E()(function(){(null===(t=e.current)||void 0===t?void 0:t.scrollTop)<20?y(!1):y(!0);var t,n=e.current||{};n.scrollHeight-n.clientHeight-n.scrollTop<20?_(!1):_(!0)})},[e]),k=(0,l.useCallback)(function(){w()},[w]),S=e.current;return((0,l.useEffect)(function(){if(S)return S.addEventListener("scroll",k),function(){return S.removeEventListener("scroll",k)}},[S,k]),h)?(0,Z.tZ)(d.Box,{mt:"20px",ref:e,css:function(t){return(0,o._)({maxHeight:m?"calc(".concat(m,"px - 80px)"):"calc(100vh - ".concat(v,"px - 20px - 80px)"),overflow:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},n&&{"&::before, &::after":{content:'" "',position:"absolute",width:"calc(100% - 15px)",height:"36px",pointerEvents:"none",marginLeft:"15px",zIndex:1,transition:"opacity .2s ease-in-out"},"&::before":{opacity:C?1:0,top:"60px",background:"linear-gradient(180deg, ".concat(t.colors[u]," 0%, ").concat(t.colorMod(t.colors[u]).alpha(0)," 100%)")},"&::after":{opacity:b?1:0,bottom:"20px",background:"linear-gradient(180deg, ".concat(t.colorMod(t.colors[u]).alpha(0)," 0%, ").concat(t.colors[u]," 100%)")}})},children:(0,Z.tZ)(d.Flex,{className:"Catalog-content",flexDirection:"column",fontSize:"12px",children:r.map(function(t){var e=t.titleLevel,n=t.text,o=t.targetId,a=t.status,l=t.index,d=ts[e]||tc;return a!==V.removed?(0,Z.tZ)(d,{targetId:o,scrollOffset:p,index:l,status:a,isCollapsed:i,inEditor:s,active:c===(o||l),catalog:r,onChange:f,children:n},String([o,l])):null})})}):(0,Z.tZ)(td,{})},tf=function(t){var e=t.setShownCatalogModal;return(0,Z.tZ)(L.Z,{top:!0,children:(0,Z.BX)(d.Flex,{px:"10px",py:"8px",bg:"GBK99A",alignItems:"center",justifyContent:"space-between",color:"GBL05A",css:{width:"100%",height:"40px",borderRadius:"0px 4px 4px 0px",zIndex:"1",boxShadow:"0px 1px 3px rgba(18, 18, 18, 0.1)",pointerEvents:"auto"},children:[(0,Z.tZ)(B,{size:15,text:!0,center:!0}),(0,Z.tZ)(f.KC,{as:d.Text,zaType:"Button",zaText:!0,shouldTrackShow:!0,shouldTrackClick:!0,ml:"10px",fontSize:"14px",css:{cursor:"pointer",whiteSpace:"nowrap"},onClick:function(){e(!0)},children:"目录"})]})})},tp=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object.values(V).find(function(e){return t.includes(e)})},th=function(t){var e=t.catalog,n=t.className,o=t.inEditor,r=t.scrollOffset,i=void 0===r?0:r,c=t.onClose,u=t.contentRoot,f=t.onChange,p=t.catalogRef,v=t.shouldShowFoldIcon,m=t.stickyOffset,g=void 0===m?0:m,C=t.maskGradientColor,y=t.catalogStyles,b=void 0===y?{}:y,_=t.container,w=(0,l.useRef)(),k=(0,l.useRef)(),S=p||w,L=(0,a._)((0,l.useState)(!1),2),N=L[0],I=L[1],T=(0,a._)((0,l.useState)(!1),2),P=T[0],R=T[1],A=(0,a._)((0,l.useState)(null),2),M=A[0],B=A[1],z=(0,a._)((0,l.useState)(!1),2),F=z[0],D=z[1];Q(null==S?void 0:S.current,u,i);var O=null==k?void 0:k.current;(0,l.useEffect)(function(){O&&O.scrollHeight>O.clientHeight&&D(!0)},[O]);var H=(0,l.useCallback)(function(){var t=null,n=(0,x.cx)();e.forEach(function(e){if(e.status!==V.removed){var o=document.querySelector("#"+e.targetId);(null==o?void 0:o.getBoundingClientRect().top)<=n+2&&(t=e.targetId)}}),t!==M&&B(t)},[e,M]),G=(0,l.useMemo)(function(){return null==e?void 0:e.filter(function(t){return t.status!==V.removed})},[e]),U=G.length,W=(0,l.useMemo)(function(){return E()(function(){!U||o||N||H()},100)},[H,o,N,U]),j=(0,l.useCallback)(function(){W()},[W]),K=(0,l.useCallback)(function(){return R(!1)},[]);return((0,l.useEffect)(function(){return document.addEventListener("scroll",j),function(){document.removeEventListener("scroll",j)}},[u,v,j]),(o||U&&u)&&_)?(0,s.createPortal)((0,Z.tZ)(d.Box,{height:u.getBoundingClientRect().height,children:(0,Z.tZ)(ti,{catalogRef:S,inEditor:o,isCollapsed:N,contentRoot:u,shouldShowFoldIcon:v,stickyOffset:g,catalogStyles:b,className:h()(n,"Catalog","isCatalogV2",{isCollapsed:N}),pb:"20px","data-za-detail-view-name":"正文",children:v?(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(tf,{setShownCatalogModal:R}),(0,Z.tZ)(tr,{shown:P,catalog:G,onClose:K})]}):(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(ta,{inEditor:o,isCollapsed:N,isCollapsedChange:I,onClose:c}),(0,Z.tZ)(tu,{catalogContainerRef:k,isShowScrollerArrow:F,catalog:e,isCollapsed:N,cursor:M,inEditor:o,maskGradientColor:void 0===C?"GBK10A":C,onChange:f,scrollOffset:i,catalogLength:U,catalogStyles:b,stickyOffset:g})]})})}),_):null},tv=function(t){return t-2*j},tm=function(t){return tv(t)<W.min},tg=function(t){return tm(t)?W.foldIcon:Math.min(tv(t),W.max)}},60927:function(t,e,n){"use strict";n.d(e,{Em:function(){return D},Tw:function(){return k},fv:function(){return O}});var o,r=n(9338),i=n(55164),a=n(57477),l=n(94009),c=n(79065),s=n(49899),d=n(30971),u=n(87363),f=n(61533),p=n(75554),h=n.n(p),v=n(75798),m=n(82083);function g(){var t=(0,c._)(["("],["\\("]);return g=function(){return t},t}function C(){var t=(0,c._)([")"],["\\)"]);return C=function(){return t},t}function y(){var t=(0,c._)(["$$"]);return y=function(){return t},t}function x(){var t=(0,c._)(["$$"]);return x=function(){return t},t}function Z(){var t=(0,c._)(["["],["\\["]);return Z=function(){return t},t}function b(){var t=(0,c._)(["]"],["\\]"]);return b=function(){return t},t}function _(){var t=(0,c._)(["\\"],["\\\\"]);return _=function(){return t},t}var w=/<img src="([^"]*)" alt="([^"]*)" eeimg="(\w+)"\/?>/g,k=function(t){return t?t.replace(w,function(t,e,n,o){return'<span class="ztext-math" data-eeimg="'.concat(o,'" data-tex="').concat(n,'">').concat(n,"</span>")}):t},E=function(t){var e,n=!1;return function(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n||(n=!0,e=t.apply(void 0,(0,s._)(r))),e}},S={skipStartupTypeset:!0,showProcessingMessages:!1,messageStyle:"none",showMathMenu:!1,styles:{".MathJax_SVG .noError":{"white-space":"normal"},'html[data-theme="dark"] .MathJax_SVG .noError':{filter:"invert(1)"},".ztext-math-scrollable .MathJax_SVG":{"max-width":"100%","overflow-x":"auto","overflow-y":"hidden"},".ztext-math-scrollable .MathJax_SVG svg":{"max-width":"unset"},".MathJax_SVG svg":{"max-width":"100%"},"div.MathJax_SVG_Display":{display:"none"},".MathJax_Preview ~ .math-holder":{display:"none"}},SVG:{linebreaks:{automatic:!0}},TeX:{extensions:["autoload-all.js"],Macros:{bm:"\\boldsymbol",bold:["{\\bf #1}",1],hdots:"\\ldots",textendash:"–",emph:"\\textit",dag:"\\dagger",ddag:"\\ddagger",DeclareMathOperator:{disabled:!0},begingroup:{disabled:!0},endgroup:{disabled:!0},gdef:{disabled:!0},global:{disabled:!0},def:{disabled:!0},let:{disabled:!0},newcommand:{disabled:!0},renewcommand:{disabled:!0},newenvironment:{disabled:!0},renewenvironment:{disabled:!0},href:{disabled:!0},style:{disabled:!0}}},Safe:{allow:{require:"safe"},safeRequire:{begingroup:!1,newcommand:!1}}},L=E(function(){return window.MathJax=S,new Promise(function(t,e){var n=document.createElement("script");n.onload=function(){return t()},n.onerror=e,n.src="https://unpkg.zhimg.com/mathjax@2.7.9/MathJax.js?config=TeX-AMS_SVG",document.body.appendChild(n)}).then(function(){MathJax.Hub.processSectionDelay=0,MathJax.Hub.Register.StartupHook("TeX autoload-all Ready",function(){var t=MathJax.InputJax.TeX.Definitions.macros;t.color="Color",delete t.fcolorbox,delete t.colorbox,delete t.definecolor,delete t.textcolor})})}),N=[[String.raw(g()),String.raw(C())]],I=[[String.raw(y()),String.raw(x())],[String.raw(Z()),String.raw(b())]],T=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,l._)(e?I[0]:N[0],2);return n[0]+t+n[1]},P=(0,s._)(N.map(function(t){return(0,s._)(t).concat(["inline"])})).concat((0,s._)(I.map(function(t){return(0,s._)(t).concat(["display"])}))),R=function(t){var e=!0,n=!1,o=void 0;try{for(var r,i=P[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=(0,l._)(r.value,3),c=a[0],s=a[1],d=a[2];if(t.startsWith(c)&&t.endsWith(s))return[t.slice(c.length,-s.length),d]}}catch(t){n=!0,o=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}return[t,null]},A=function(t){var e=t.querySelector(".MathJax_SVG_Display");if(e){var n,o,r=document.createElement("span");r.className=e.className,null===(n=e.parentNode)||void 0===n||n.insertBefore(r,e),Array.from(e.children).forEach(function(t){return r.appendChild(t)}),null===(o=e.parentNode)||void 0===o||o.removeChild(e)}},M=h()(1,(o=(0,r._)(function(t){var e,n,o=arguments;return(0,d.__generator)(this,function(r){switch(r.label){case 0:return n=void 0!==(e=(o.length>1&&void 0!==o[1]?o[1]:{}).linebreak)&&e,[4,L()];case 1:return r.sent(),[2,new Promise(function(e){MathJax.Hub.Config({SVG:{linebreaks:{automatic:n}}}),MathJax.Hub.Queue(["Typeset",MathJax.Hub,t]),MathJax.Hub.Queue(function(){A(t),e()})})]}})}),function(t){return o.apply(this,arguments)})),B=E(function(){var t,e=document.createElement("style");e.textContent=".MathJax_Preview ~ .math-holder {display: none}",null===(t=document.head)||void 0===t||t.appendChild(e)}),z=String.raw(_()),F=/\\tag(\d+|\{.*\})$/,D=u.memo(function(t){var e=t.tex,n=t.display,o=t.encloseMode,r=void 0===o?"script":o,c=t.children,s=(0,l._)((0,v.Z)({once:!0,rootMargin:"500px"}),2),d=s[0],f=s[1],p=(0,u.useRef)(null),h=(0,l._)((0,u.useMemo)(function(){var t=(0,l._)(R(e),1)[0],o=(null!=n?n:t!==z&&t.endsWith(z)||F.test(t)||!1)?"display":"inline";return[t,o]},[n,e]),2),g=h[0],C=h[1],y=g.length<800;return(0,u.useEffect)(function(){f&&p.current&&M(p.current,{linebreak:y})},[f,g,y]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{ref:d}),(0,m.jsxs)("span",(0,a._)((0,i._)({ref:p},!y&&{className:"ztext-math-scrollable"}),{children:["script"===r?(0,m.jsx)("script",{type:"math/tex;mode=".concat(C),dangerouslySetInnerHTML:{__html:g}}):"span"===r?T(g,"display"===C):null,c]}),g)]})}),O=function(t){var e=(0,l._)((0,u.useState)([]),2),n=e[0],o=e[1];return(0,u.useEffect)(function(){if(t){var e=t.querySelectorAll(".ztext-math");e.length&&(B(),o(Array.from(e).map(function(t){var e=t.dataset.tex;return t.textContent="",(0,f.createPortal)((0,m.jsx)(D,{tex:e,encloseMode:"script",children:(0,m.jsx)("span",{className:"tex2jax_ignore math-holder",children:e})}),t)})))}},[t]),n}},55283:function(t,e,n){"use strict";n.d(e,{ZP:function(){return tn},cD:function(){return tr},o6:function(){return to}});var o=n(9338),r=n(55164),i=n(57477),a=n(94009),l=n(30971),c=n(85879),s=n(87363),d=n(43384),u=n(87804),f=n(83697),p=n(54928),h=n(7753),v=n(80565),m=n(23579),g=n(9478),C=n.n(g),y=n(74135),x=function(t,e){return fetch(t,(0,r._)({credentials:"include",headers:{"X-Requested-With":"Fetch"}},e)).then(function(t){if(t.ok)return t.json();throw Error("".concat(t.status," ").concat(t.statusText))})},Z=function(){var t;if("undefined"!=typeof window){var e=(null===(t=window.location)||void 0===t?void 0:t.host)||"";if(e.indexOf(".zpres.zhihu.com")>-1){var n=e.match(/-\d+-/g),o=null==n?void 0:n[0].replace(/-/g,"");return o?"https://education-webapp--box-".concat(o,".zpres.zhihu.com/api.zhihu.com"):""}}return""}()||"https://api.zhihu.com",b=function(){return"undefined"!=typeof window&&window.Raven&&window.Raven.captureException.bind(window.Raven)||function(){}},_=function(){return(0,c.BX)("div",{css:{display:"flex",flexDirection:"column",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",backgroundColor:"#FFFFFF",borderRadius:"8px",padding:"15px 12px 0 12px",boxSizing:"border-box",width:"180px",fontFamily:"PingFang SC",":after":{position:"absolute",top:"50%",left:"-20px",marginTop:"-13px",content:'""',display:"block",width:0,height:0,borderTop:"13px solid transparent",borderBottom:"13px solid transparent",borderLeft:"10px solid transparent",borderRight:"10px solid #FFFFFF"}},children:[(0,c.tZ)("img",{css:{width:"156px",height:"156px",borderRadius:"4px",border:"0.5px solid #EBEBEB"},src:"https://pica.zhimg.com/v2-d5d2651cb8c5fb1a20a696ef7751c877.png?source=6a64a727",alt:"https://oiz.zhihu.com"},void 0),(0,c.tZ)("span",{css:{display:"inline-block",padding:"10px 0 11px 0",fontWeight:400,fontSize:"13px",lineHeight:"18px",textAlign:"center",color:"#444444"},children:"手机扫码即可下载"},void 0)]},void 0)},w=function(){var t=(0,a._)((0,s.useState)(NaN),2),e=t[0],n=t[1],o=(0,s.useCallback)(function(){var t;"visible"!==document.visibilityState&&e&&("function"==typeof(null===(t=null==window?void 0:window.statsc)||void 0===t?void 0:t.timing)&&window.statsc.timing({name:"edu-card.click",options:{version:"all"}},window.performance.now()-e,1),window.removeEventListener("visibilitychange",o,!1))},[e]);return(0,s.useEffect)(function(){return window.addEventListener("visibilitychange",o,!1),function(){window.removeEventListener("visibilitychange",o,!1)}},[o]),{startRecord:function(){n(window.performance.now())},clearRecord:function(){n(NaN)}}},k=function(t){var e=t.id,n=t.url,o=t.eduCardShowId,l=t.backendMapBytes,h=void 0===l?"":l,v=t.contentType,m=t.templateType,g=t.token,C=t.materialId,y=t.missionId,Z=t.missionComponentType,k=t.skuId,E=t.channelTrackingUrl,S=t.Popover,L=t.onError,N=(0,f.n)(),I=(0,d.Q4)().trackEvent,T=(0,a._)((0,s.useState)(!1),2),P=T[0],R=T[1],A=w(),M=A.startRecord,B=A.clearRecord,z=(0,s.useRef)(null),F="5"===String(Z)&&!N.Mobile&&S;(0,s.useEffect)(function(){z.current=document.createElement("a"),z.current.setAttribute("target","_blank")},[]);var D={id:(null==e?void 0:e.toString())||"",materialId:(null==C?void 0:C.toString())||"",missionId:(null==y?void 0:y.toString())||"",templateType:(null==m?void 0:m.toString())||"",skuId:(null==k?void 0:k.toString())||"",contentType:(null==v?void 0:v.toString())||"",token:(null==g?void 0:g.toString())||""},O=function(){var t=L||b();if(M(),!n||!e){t(Error("EducationCard Error: missing key info"),{level:"warning",extra:{url:n,id:e}});return}var l="".concat(o||"").concat(+new Date),c=n.split("?")[0],s=p.parse(n.split("?")[1]),d="".concat(c,"?").concat(p.stringify((0,i._)((0,r._)({},s),{edu_card_id:e,edu_click_id_fe:l,refer:window.location.href})));if(I({action:"OpenUrl",eventType:"Click",elementLocation:{moduleId:"edu_card",type:"Card",content:{type:"Training",id:(null==e?void 0:e.toString())||""}}},{link:{url:d},configMap:(0,i._)((0,r._)({},D),{click_id_fe:l}),backendMapBytes:h}),E&&N.Mobile)try{var f=(0,a._)(E.split("?"),2),v=f[0],m=f[1],g=p.parse(m).callback_url,C=(0,a._)(decodeURIComponent(g).split("?"),2),y=C[0],Z=C[1],_="".concat(y,"?").concat(p.stringify((0,i._)((0,r._)({},p.parse(Z)),{edu_click_id_fe:l}))),w="".concat(v,"?").concat(p.stringify((0,i._)((0,r._)({},p.parse(m)),{callback_url:encodeURIComponent(_)})));x(w).catch(function(e){t(Error("EducationCard Fetch Error: ".concat((null==e?void 0:e.message)||"unknow")),{level:"warning",extra:{channelTrackingUrl:E,clickIdFe:l}})})}catch(e){t(Error("EducationCard Parse URL Error"),{level:"warning",extra:{channelTrackingUrl:E,clickIdFe:l}})}if(F){R(!0),B();return}N.ZhihuHybrid?(0,u.Z)("base/openURL").dispatch({url:d}).catch(function(t){return console.error(t)}):z.current&&(z.current.href=d,z.current.click())};return(0,c.tZ)(d.eV,{content:{type:"Training",id:(null==e?void 0:e.toString())||""},children:(0,c.tZ)(d.Wi,{as:"div",shouldTrackShow:!0,shouldTrackClick:!1,zaType:"Card",zaModuleId:"edu_card",extra:{configMap:D,backendMapBytes:h},onClick:F?void 0:O,"data-draft-node":"block","data-draft-type":"edu-card","data-edu-card-id":e,zaShowOptions:{once:!1},css:{textAlign:4===m?"center":"inherit"},children:F?(0,c.tZ)(S,{globalClose:!0,listenResize:!0,arrowed:!1,toggler:(0,c.tZ)("div",{style:{width:"390px"},children:t.children},void 0),hoverDelay:100,placement:"right",isOpen:P,onClose:function(){return R(!1)},onOpen:O,style:{borderRadius:"8px"},children:(0,c.tZ)(_,{},void 0)},void 0):t.children},void 0)},void 0)},E={display:"flex",justifyContent:"space-between",flexWrap:"nowrap",alignItems:"center"},S={display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%"},L=function(t){var e;return{boxSizing:"border-box",padding:"12px",background:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBK10A)||"#F6F6F6",backdropFilter:"blur(27.1828px)",borderRadius:"8px"}},N=function(){return{position:"relative",flex:"0 0 auto",marginRight:"12px",borderRadius:"6px",backgroundColor:"#E2E2E2",backgroundSize:"100% 100%",img:{borderRadius:"6px",width:"100%",height:"100%"}}},I=function(t){var e;return(0,r._)({flex:"0 0 auto",width:"100%",lineHeight:"20px",fontWeight:700,fontSize:"15px",wordBreak:"break-word",color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBK02A)||"#121212"},(0,v.S)(2))},T=function(t){var e;return(0,r._)({flex:"0 0 auto",width:"100%",lineHeight:"18px",fontSize:"13px",wordBreak:"break-word",color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBK06A)||"#999999"},(0,v.S)(1))},P=function(t){return function(e){var n,o,r=(null===(n=null==e?void 0:e.colors)||void 0===n?void 0:n.GBK06A)||"#999999",i=(null===(o=null==e?void 0:e.colors)||void 0===o?void 0:o[t])||t;return{display:"flex",justifyContent:"flex-end",alignItems:"center",flex:"0 0 auto",textAlign:"right",fontSize:"13px",lineHeight:"17px",fontWeight:500,color:t?i:r}}},R=function(t){var e=t.markInfo,n=t.type;return e&&e.text?"image"===n?(0,c.tZ)("span",{css:function(t){return e.shadowColor?{position:"absolute",display:"inline-block",padding:"2px 3px 1.5px 3px",right:"3px",bottom:"3px",borderRadius:"2px",color:"#FFFFFF",fontSize:"10px",fontWeight:500,lineHeight:"1",letterSpacing:"0.02em",wordBreak:"break-all",backgroundColor:(0,m.a)((null==t?void 0:t.colors[e.shadowColor])||"#000").alpha(.3)}:{position:"absolute",display:"inline-block",padding:"0px",right:"6px",bottom:"6px",color:"#FFFFFF",fontSize:"9px",fontWeight:500,lineHeight:"1",letterSpacing:"0.02em",wordBreak:"break-all",textShadow:"0px 0px 4px rgba(0, 0, 0, 0.5)"}},children:e.text},void 0):(0,c.tZ)("span",{css:{flex:"0 0 auto","&::before":"text-with-point"===n?{display:"inline-block",content:'"\xb7"',padding:"0 0.5em"}:{}},children:e.text},void 0):null},A=function(t){var e=t.title,n=t.subtitle,o=t.enableButton,a=t.buttonText,l=t.buttonTextColor,s=t.markInfo;return(0,c.BX)("div",{css:function(t){return(0,i._)((0,r._)({},E,L(t)),{height:"84px"})},children:[(0,c.BX)("div",{css:function(){return(0,r._)({},S)},children:[(0,c.tZ)("span",{css:I,children:e},void 0),n&&(0,c.BX)("span",{css:function(t){var e;return{display:"flex",justifyContent:" flex-start",flexWrap:"nowrap",alignItems:"center",width:"100%",lineHeight:"18px",fontSize:"13px",wordBreak:"break-word",color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBK06A)||"#999999"}},children:[(0,c.tZ)("span",{css:(0,r._)({flex:"0 1 auto"},(0,v.S)(1)),children:n},void 0),(0,c.tZ)(R,{type:"text-with-point",markInfo:s},void 0)]},void 0)]},void 0),(0,c.tZ)("div",{css:{flex:"0 1 12px"}},void 0),(0,c.BX)("div",{css:P(o&&l||""),children:[o?a:"",(0,c.tZ)(h.ZP,{size:12},void 0)]},void 0)]},void 0)},M=function(t){var e=t.tags;return(0,c.tZ)("div",{css:{overflow:"hidden",display:"flex",flexWrap:"wrap",alignItems:"center",height:"20px"},children:Array.isArray(e)&&e.map(function(t,e){return t.text&&(0,c.tZ)("span",{css:function(t){var e,n;return{margin:"0px 6px 0px 0px",padding:"0 7px",boxSizing:"border-box",height:"20px",borderRadius:"4px",backgroundColor:(0,m.a)((null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GYL06A)||"#F8E2C4").alpha(.3),fontSize:"10px",fontWeight:500,lineHeight:"20px",color:(null===(n=null==t?void 0:t.colors)||void 0===n?void 0:n.GYL01A)||"#FF9607"}},children:t.text},"".concat(e).concat(t.text))})},void 0)},B=function(t){var e,n,o,a=t.title,l=t.subtitle,s=t.thumbnail,d=t.enableButton,u=t.buttonText,f=t.buttonTextColor,p=t.markInfo,m=t.tags,g=t.bottomInfo,C=function(t){return(0,i._)((0,r._)({},I(t)),{fontWeight:500})},y=function(t){var e;return(0,r._)({color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GRD12A)||"#FF3230",fontSize:"12px",fontWeight:400,lineHeight:"normal"},(0,v.S)(1))},x=l||(null==m?void 0:m.length)||(null===(e=null==g?void 0:g.specialTag)||void 0===e?void 0:e.text);return(0,c.BX)("div",{css:function(t){return(0,i._)((0,r._)({},E,L(t)),{height:"109px"})},children:[(0,c.tZ)("div",{css:function(t){return(0,i._)((0,r._)({},N()),{width:"85px",height:"85px",backgroundImage:s?"url(".concat(s,")"):""})},children:(0,c.tZ)(R,{type:"image",markInfo:p},void 0)},void 0),(0,c.tZ)("div",{css:function(){return(0,i._)((0,r._)({},E),{flex:"1 1 auto",height:"100%"})},children:d?(0,c.BX)("div",{css:(0,i._)((0,r._)({},S),{justifyContent:"space-between",width:"100%"}),children:[(0,c.BX)("div",{children:[(0,c.tZ)("span",{css:C,children:a},void 0),l&&(0,c.tZ)("span",{css:T,children:l},void 0),!l&&m&&(0,c.tZ)("div",{css:{marginTop:"4px"},children:(0,c.tZ)(M,{tags:m},void 0)},void 0)]},void 0),(0,c.BX)("div",{css:E,children:[(0,c.tZ)("span",{css:y,children:(null===(n=null==g?void 0:g.specialTag)||void 0===n?void 0:n.text)||""},void 0),(0,c.BX)("span",{css:P(f||""),children:[(0,c.tZ)("span",{children:u},void 0),(0,c.tZ)(h.ZP,{size:12},void 0)]},void 0)]},void 0)]},void 0):(0,c.BX)(c.HY,{children:[(0,c.BX)("div",{css:(0,i._)((0,r._)({},S),{justifyContent:"center"}),children:[(0,c.tZ)("span",{css:C,children:a},void 0),!!x&&(0,c.BX)(c.HY,{children:[(0,c.tZ)("div",{css:{flex:"0 1 18px"}},void 0),l&&(0,c.tZ)("span",{css:T,children:l},void 0),!l&&m&&(0,c.tZ)(M,{tags:m},void 0),!l&&!m&&g&&(0,c.tZ)("span",{css:y,children:(null===(o=null==g?void 0:g.specialTag)||void 0===o?void 0:o.text)||""},void 0)]},void 0)]},void 0),(0,c.tZ)("div",{css:P(""),children:(0,c.tZ)(h.ZP,{size:12},void 0)},void 0)]},void 0)},void 0)]},void 0)},z=function(t){var e=t.title,n=t.subtitle,o=t.thumbnail,a=t.buttonText,l=t.buttonTextColor,s=t.markInfo;return(0,c.BX)("div",{css:function(t){return(0,i._)((0,r._)({},E,L(t)),{height:"124px"})},children:[(0,c.tZ)("div",{css:function(t){return(0,i._)((0,r._)({},(0,i._)((0,r._)({},N()),{width:"75px",height:"100px"})),{backgroundImage:o?"url(".concat(o,")"):""})},children:(0,c.tZ)(R,{type:"image",markInfo:s},void 0)},void 0),(0,c.tZ)("div",{css:function(){return(0,i._)((0,r._)({},E),{flex:"1 1 auto",height:"100%"})},children:(0,c.BX)("div",{css:function(){return(0,i._)((0,r._)({},S),{justifyContent:"center",width:"100%"})},children:[(0,c.tZ)("span",{css:I,children:e},void 0),(0,c.tZ)("span",{css:{display:"block",content:'""',flex:"0 1 auto",height:"30px",width:"100%"}},void 0),(0,c.BX)("div",{css:function(){return(0,i._)((0,r._)({},E),{"span:first-of-type":{fontSize:"15px"}})},children:[(0,c.tZ)("span",{css:P("GRD10A"),children:n},void 0),(0,c.BX)("span",{css:P(l||""),children:[a,(0,c.tZ)(h.ZP,{size:12},void 0)]},void 0)]},void 0)]},void 0)},void 0)]},void 0)},F=function(){return(0,c.tZ)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55162 12.5885C2.76925 11.8062 2.76925 10.5377 3.55162 9.75534L5.29004 8.01692C5.4853 7.82166 5.4853 7.50507 5.29004 7.30981C5.09478 7.11455 4.7782 7.11455 4.58294 7.30981L2.84451 9.04824C1.67162 10.2211 1.67162 12.1228 2.84451 13.2956C4.0174 14.4685 5.91902 14.4685 7.09191 13.2956L8.83034 11.5572C9.0256 11.362 9.0256 11.0454 8.83034 10.8501C8.63508 10.6548 8.31849 10.6548 8.12323 10.8501L6.38481 12.5885C5.60244 13.3709 4.33398 13.3709 3.55162 12.5885ZM7.1702 4.72255C6.97494 4.91781 6.97494 5.23439 7.1702 5.42965C7.36546 5.62492 7.68205 5.62492 7.87731 5.42965L9.65378 3.65318C10.4361 2.87082 11.7046 2.87082 12.487 3.65318C13.2693 4.43554 13.2693 5.70401 12.487 6.48637L10.7105 8.26284C10.5152 8.4581 10.5152 8.77469 10.7105 8.96995C10.9058 9.16521 11.2223 9.16521 11.4176 8.96995L13.1941 7.19348C14.367 6.02059 14.367 4.11896 13.1941 2.94607C12.0212 1.77319 10.1196 1.77318 8.94668 2.94607L7.1702 4.72255ZM10.719 6.13357C10.9142 5.9383 10.9142 5.62172 10.719 5.42646C10.5237 5.2312 10.2071 5.2312 10.0119 5.42646L5.29782 10.1405C5.10255 10.3358 5.10255 10.6523 5.29782 10.8476C5.49308 11.0429 5.80966 11.0429 6.00492 10.8476L10.719 6.13357Z",fill:"#175199"},void 0)},void 0)},D=function(){return(0,c.tZ)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.65469 2.70604C7.87379 2.60645 8.12525 2.60645 8.34436 2.70604L13.7908 5.18167C13.921 5.24089 13.921 5.42592 13.7907 5.48513L8.34436 7.96076C8.12525 8.06036 7.87379 8.06036 7.65469 7.96076L2.20829 5.48513C2.07803 5.42592 2.07803 5.24089 2.2083 5.18167L7.65469 2.70604ZM8.75816 1.79568C8.27613 1.57657 7.72291 1.57657 7.24088 1.79568L1.79449 4.27131C0.882632 4.68579 0.882629 5.98101 1.79449 6.3955L7.24088 8.87113C7.72291 9.09023 8.27613 9.09023 8.75816 8.87113L14.2046 6.3955C15.1164 5.98102 15.1164 4.68579 14.2046 4.27131L8.75816 1.79568ZM4.49952 8.66674C4.49952 8.39059 4.27567 8.16674 3.99952 8.16674C3.72338 8.16674 3.49952 8.39059 3.49952 8.66674V11.3474C3.49952 11.8792 3.68936 12.4518 4.16627 12.8326C4.84015 13.3706 6.14995 14.1667 7.99952 14.1667C10.4721 14.1667 11.6637 13.2397 12.1666 12.6383C12.4345 12.3179 12.4995 11.9289 12.4995 11.6147V8.66674C12.4995 8.39059 12.2757 8.16674 11.9995 8.16674C11.7234 8.16674 11.4995 8.39059 11.4995 8.66674V11.6147C11.4995 11.8083 11.4572 11.9277 11.3994 11.9969C11.0936 12.3627 10.187 13.1667 7.99952 13.1667C6.44907 13.1667 5.35323 12.5006 4.79019 12.0511C4.60889 11.9063 4.49952 11.6578 4.49952 11.3474V8.66674Z",fill:"#175199"},void 0)},void 0)},O=function(t){var e=t.title,n=t.thumbnail,o=t.markInfo,a=F;return"cap"===n?a=D:"none"===n&&(a=null),(0,c.BX)(c.HY,{children:[(0,c.BX)("span",{css:function(t){var e;return(0,i._)((0,r._)({color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBL07A)||"#175199",fontSize:"17px",fontWeight:400,lineHeight:"27px"},(0,v.S)(2)),{"svg, span":{verticalAlign:"middle"}})},children:[a&&(0,c.tZ)(a,{},void 0),(0,c.tZ)("span",{children:e},void 0)]},void 0),(0,c.tZ)("span",{css:function(t){var e;return{marginTop:"4px",padding:(null==o?void 0:o.shadowColor)?"2px 4px":"2px 0",borderRadius:"2px",fontSize:"9px",fontWeight:500,color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBK07A)||"#BFBFBF",backgroundColor:(null==o?void 0:o.shadowColor)?(0,m.a)((null==t?void 0:t.colors[null==o?void 0:o.shadowColor])||"#F6F6F6").alpha(.5):""}},children:null==o?void 0:o.text},void 0)]},void 0)},H=function(t){var e=t.title,n=t.subtitle,o=t.thumbnail,a=t.enableButton,l=t.buttonText,s=t.buttonTextColor,d=t.markInfo;return(0,c.BX)("div",{css:function(t){return(0,i._)((0,r._)({},S,L(t)),{padding:"15px 16px",borderRadius:"10px"})},children:[(0,c.BX)("div",{css:function(t){var e;return(0,i._)((0,r._)({},E),{fontSize:"15px",fontWeight:500,color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBK02A)||"#121212",lineHeight:"normal"})},children:[(0,c.tZ)("span",{css:(0,r._)({},I,(0,v.S)(1)),children:e},void 0),(0,c.BX)("span",{css:function(t){return(0,i._)((0,r._)({},P(a&&s||"")(t)),{fontSize:"12px",fontWeight:500,lineHeight:"normal"})},children:[a&&(0,c.tZ)("span",{children:l},void 0),(0,c.tZ)(h.ZP,{size:12},void 0)]},void 0)]},void 0),n&&(0,c.tZ)("div",{css:function(t){var e;return(0,r._)({paddingTop:"5px",fontSize:"14px",fontWeight:400,lineHeight:"25px",color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBK03A)||"#444444"},(0,v.S)(2))},children:n},void 0),(0,c.tZ)("div",{css:function(t){return(0,i._)((0,r._)({},N()),{position:"relative",margin:"10px 0 0 0",paddingBottom:"57%",height:0,width:"100%",backgroundImage:o?"url(".concat(o,")"):""})},children:(0,c.tZ)(R,{type:"image",markInfo:d},void 0)},void 0)]},void 0)},G=function(){var t=(0,f.n)(),e=t.origin||"",n=/zhixuetang/.test(e),o=/osee2unifiedRelease|Futureve/.test(e),l="",c="",s="",d="";if(n){if(t.iOS){var u=(0,a._)(e.match(/zhixuetang\/(\d+)/)||[],2)[1];u&&(l=u);var p=(0,a._)(e.match(/zhixuetangVersion\/(\d+\.\d+\.\d+)/)||[],2)[1],h=(0,a._)(e.match(/zhixuetang\/(\d+\.\d+\.\d+)/)||[],2)[1],v=p||h;v&&(c=v);var m=(0,a._)(e.toLowerCase().match(/os\s+(\d+)_(\d+)_?(\d+)?/)||[],4),g=m[1],C=m[2],y=m[3];g&&(d="".concat(g,".").concat(C,".").concat(y||0))}else if(t.Android){var x=(0,a._)(e.match(/Ravenclaw\/(\d+\.\d+\.\d+)/)||[],2)[1];x&&(s=x)}}else if(t.iOS){var Z=(0,a._)(e.match(/osee2unifiedRelease\/(\d+)/)||[],2)[1];Z&&(l=Z);var b=(0,a._)(e.match(/osee2unifiedReleaseVersion\/(\d+\.\d+\.\d+)/)||[],2)[1];b&&(c=b);var _=(0,a._)(e.toLowerCase().match(/os\s+(\d+)_(\d+)_?(\d+)?/)||[],4),w=_[1],k=_[2],E=_[3];w&&(d="".concat(w,".").concat(k,".").concat(E||0))}else if(t.Android){var S=(0,a._)(e.match(/Futureve\/(\d+\.\d+\.\d+)/)||[],2)[1];S&&(s=S)}return(0,i._)((0,r._)({},t),{iOSBuildVersion:l,iOSAppVersion:c,androidAppVersion:s,iOSVersion:d,ZhihuNew:o})},U=function(t,e){t.ZhihuHybrid?(0,u.Z)("base/checkHadViewAppeared").dispatch().then(function(t){t.hadViewAppeared?e():(0,u.Z)("base/viewDidAppear").listen(function(){e()})}):e()},V=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,a._)((0,s.useState)({images:[],static:[]}),2),o=n[0],r=n[1],i=(0,s.useRef)(!1),l=(0,f.n)();return(0,s.useEffect)(function(){!C()(t)&&(null==t?void 0:t.isPreload)&&(null==t?void 0:t.componentTargetId)&&!e&&U(l,function(){i.current||(i.current=!0,setTimeout(function(){var e=(null==t?void 0:t.preloadActivityId)||(null==t?void 0:t.componentTargetId)||"";x("".concat(Z,"/edu-marketing/activities/preload/").concat(e)).then(function(t){t&&t.data&&r(t.data)}).finally(function(){i.current=!1})},2e3))})},[t,e,l]),o},W=function(t,e){if(!t||!e)return t?1:e?-1:0;t=t.toString(),e=e.toString(),t=t.split("-")[0],e=e.split("-")[0];for(var n=t.split(".").map(function(t){return Number(t)}),o=e.split(".").map(function(t){return Number(t)}),r=Math.min(t.length,o.length),i=0;i<r;i++){if(n[i]>o[i])return 1;if(n[i]<o[i])return -1}return t.length-e.length},j={gt:function(t,e){return W(t,e)>0},lt:function(t,e){return 0>W(t,e)},eq:function(t,e){return 0===W(t,e)},gte:function(t,e){return W(t,e)>=0},lte:function(t,e){return 0>=W(t,e)}},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.iOS,o=e.Android;return!!(t.iOS&&n&&j.gte(t.iOSAppVersion,n)||t.Android&&o&&j.gte(t.androidAppVersion,o))},X=function(t){var e=G();return!Array.isArray(t)||t.length<=0?[]:t.map(function(t){return({supportResourceImageIOS:K(e,{iOS:"4.32.1"}),supportZhihuPreload:K(e,{Android:"10.1.0",iOS:"10.1.0"})})[t]})},Y=/^https.*\.css$/,q=/^https.*\.js$/,$=function(t){var e=t.data,n=(0,s.useRef)(null),o=G(),r=(0,a._)(X(["supportResourceImageIOS","supportZhihuPreload"]),2),i=r[0],l=r[1],f=(0,s.useMemo)(function(){return o.ZhihuNew&&l},[l,o.ZhihuNew]),p=V(e,f),h=(0,d.Q4)().trackEvent,v=e.preloadUrl,m=void 0===v?"":v,g=e.componentTargetId,y=e.preloadActivityId,x=(void 0===y?"":y)||(void 0===g?"":g);console.log("supportZhihuPreload",l),(0,s.useEffect)(function(){if(n.current)try{n.current.onload=function(){window.parent.postMessage("frame-loaded","*")}}catch(t){console.log("frame onload error")}},[p,h]),(0,s.useEffect)(function(){var t=function(t){var e,n;C()(null==p?void 0:p.images)&&C()(null==p?void 0:p.static)||"frame-loaded"!==t.data||h({eventType:"Unknown",elementLocation:{type:"Block",moduleId:"edu_loading_time_block",content:{type:"Training",id:x}}},{configMap:{preload_image:(null===(e=null==p?void 0:p.images)||void 0===e?void 0:e[0])||"",preload_static:(null===(n=null==p?void 0:p.static)||void 0===n?void 0:n[0])||""}})};try{window.addEventListener("message",t)}catch(t){console.log("add message event error")}return function(){try{window.removeEventListener("message",t)}catch(t){console.log("remove message event error")}}},[x,null==p?void 0:p.images,null==p?void 0:p.static,h]);var Z=(0,s.useMemo)(function(){var t="";if(f)return t;var e=p||{},n=e.static,r=e.images;if(Array.isArray(n)&&n.length>0&&n.forEach(function(e){Y.test(e)&&(t+='<link rel="stylesheet" href="'.concat(e,'"></link>')),q.test(e)&&(t+='<script rel="preload" src="'.concat(e,'"></script>'))}),Array.isArray(r)&&r.length>0){var a="";r.forEach(function(t){var e=t;o.ZhihuNew&&o.iOS&&i&&(e=t.replace("https","resource")),a+="<img src=".concat(e," />")}),a&&(t+=a="<body>".concat(a,"</body>"))}return t},[f,p,i,o.ZhihuNew,o.iOS]);return((0,s.useEffect)(function(){U(o,function(){if(f&&x){var t="".concat("https://www.zhihu.com","/education/preload-static/activity/").concat(x,"?pkey=").concat(x),e=m||t;e&&setTimeout(function(){(0,u.Z)("edu/preload").dispatch({url:e})},2e3)}})},[x,m,f,o]),C()(e)||!Z)?null:(0,c.tZ)("iframe",{title:"preload",ref:n,width:0,height:0,style:{display:"none"},srcDoc:Z},void 0)},J=function(t){var e=t.templateType,n=t.className;return(0,c.BX)("div",{css:6===e?function(){return{display:"inline-block",margin:"0 auto",fontFamily:"PingFang SC",borderRadius:"8px",textAlign:"left",cursor:"pointer",":hover":{textDecoration:"none"}}}:function(){return{display:"block",margin:"1em auto",maxWidth:"390px",fontFamily:"PingFang SC",borderRadius:"8px",textAlign:"left",cursor:"pointer",":hover":{textDecoration:"none"}}},className:n,children:[6===e?(0,c.tZ)(O,(0,r._)({},t),void 0):5===e?(0,c.tZ)(H,(0,r._)({},t),void 0):4===e||3===e?(0,c.tZ)(B,(0,r._)({},t),void 0):2===e?(0,c.tZ)(A,(0,r._)({},t),void 0):1===e?(0,c.tZ)(z,(0,r._)({},t),void 0):null,!!(null==t?void 0:t.isPreload)&&(0,c.tZ)($,{data:t},void 0)]},void 0)},Q=Z.indexOf("ming.in.zhihu.com")>0?"".concat(Z,"/api/mocks/education-card.web/edu_cards"):"".concat(Z,"/education-card/edu-cards"),tt=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=(0,a._)((0,s.useState)(null),2),i=r[0],c=r[1],d=(0,f.n)();return(0,s.useEffect)(function(){var r;(r=(0,o._)(function(){var o,r,i;return(0,l.__generator)(this,function(a){switch(a.label){case 0:if(!(t&&e))return[3,5];if(o="",r="",!d.ZhihuHybrid)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,u.Z)("base/getHybridConfig").dispatch()];case 2:return o=(i=a.sent())&&i["x-app-za"]||"",r=i&&i["x-udid"]||"",[3,4];case 3:return a.sent(),[3,4];case 4:x("".concat(Q,"?card_ids=").concat(t),{headers:{"x-udid":r,"x-app-za":o,"X-Requested-With":"Fetch"}}).then(function(t){t&&t.data&&c((0,y.camelizeKeys)(t.data))}).catch(function(e){(n||b())(Error("EducationCard Fetch Error: ".concat((null==e?void 0:e.message)||"unknow")),{level:"warning",extra:{eduCardId:t}})}),a.label=5;case 5:return[2]}})}),function(){return r.apply(this,arguments)})()},[t,n,e,d.ZhihuHybrid]),i},te=function(t){var e=t.title,n=t.buttonText,o=t.thumbnail,a=t.enableButton,l=t.markInfo,s=t.buttonTextColor,d=void 0===s?"":s,u=null==l?void 0:l.text;return(0,c.BX)("div",{css:function(t){return(0,i._)((0,r._)({},E,L(t)),{fontFamily:"PingFang SC",padding:"8px 12px 8px 8px",height:u?"42px":"36px",borderRadius:"6px"})},children:[(0,c.BX)("div",{css:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[o&&(0,c.tZ)("img",{src:o,alt:"",css:{marginRight:"8px",borderRadius:"2px",width:u?"26px":"20px",height:u?"26px":"20px"}},void 0),(0,c.BX)("div",{css:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,c.tZ)("span",{css:function(t){var e,n;return(0,r._)({fontSize:"14px",fontWeight:(null===(e=null==t?void 0:t.fontWeights)||void 0===e?void 0:e.bold)||600,color:(null===(n=null==t?void 0:t.colors)||void 0===n?void 0:n.GBK03A)||"#444444",lineHeight:"18px",textAlign:"left",wordBreak:"break-word"},(0,v.S)(1))},children:e},void 0),u&&(0,c.tZ)("span",{css:function(t){var e;return{paddingTop:"2px",fontSize:"9px",fontWeight:400,color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e.GBK06A)||"#999999",lineHeight:"10px"}},children:(0,c.tZ)(R,{type:"text",markInfo:l},void 0)},void 0)]},void 0)]},void 0),(0,c.tZ)("div",{css:function(t){var e;return{flex:"0 0 auto",marginLeft:"3px",fontSize:"14px",fontWeight:t.fontWeights.bold,color:(null===(e=null==t?void 0:t.colors)||void 0===e?void 0:e[d])||"#FF7955",lineHeight:"18px"}},children:a?n:""},void 0)]},void 0)},tn=s.memo(function(t){var e=t.id,n=t.position,o=void 0===n?"editor":n,a=t.originData,l=t.isSmallCard,s=t.contentType,d=t.token,u=t.className,f=t.Popover,p=t.onData,h=t.onError,v=!!(!a&&e),m=tt((null==e?void 0:e.toString())||"",v,h),g=a||(null==m?void 0:m[e]),C=(null==o?void 0:o.toLowerCase())!=="editor"&&(null==s?void 0:s.toLowerCase())!=="activities"?null==g?void 0:g.markInfo:void 0;return"function"==typeof p&&p(g),g?"editor"===o?(0,c.tZ)(J,(0,i._)((0,r._)({},g),{markInfo:C,className:u}),void 0):(0,c.tZ)(k,(0,i._)((0,r._)({},g),{contentType:null==s?void 0:s.toLowerCase(),token:d,id:e,isSmallCard:l,Popover:f,onError:h,children:l?(0,c.tZ)(te,(0,i._)((0,r._)({},g),{markInfo:C}),void 0):(0,c.tZ)(J,(0,i._)((0,r._)({},g),{markInfo:C,className:u}),void 0)}),void 0):null}),to={RICHCONTENT:'<a data-draft-node="block" data-draft-type="edu-card" data-edu-card-id="1"></a>',IDAttr:"data-edu-card-id",TYPE:"edu-card",WebInsertCommand:"insert-edu-card:",HybridInsertCommand:"editor/insertEduCard",AvailableCardID:"1470725970378772481",EDU_CARD_LIMIT:30},tr=function(t){var e=t.root,n=t.eduCardProps,o=t.Popover,l=t.createLinkCardPortal,d=t.onError,u=(0,a._)((0,s.useState)([]),2),f=u[0],p=u[1];(0,s.useEffect)(function(){var t=e&&e.querySelectorAll("*[data-draft-type=".concat(to.TYPE,"]"));if(t&&0!==t.length){var n=[],o=!0,r=!1,i=void 0;try{for(var a,l,c,s=t.keys()[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var d=c.value,u=null===(l=null===(a=t[d])||void 0===a?void 0:a.dataset)||void 0===l?void 0:l.eduCardId;u&&n.push(u)}}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}p(n)}},[e]);var h=tt(f.join(","),!!f.length,d),v=function(t){return(0,c.tZ)(tn,(0,i._)((0,r._)({},t),{position:"content"}),void 0)},m=(0,s.useMemo)(function(){return l({idAttr:to.IDAttr,selector:"a[".concat(to.IDAttr,"]"),targetClassName:"RichText-EduCardContainer",component:v,getCardProps:function(t){return{id:t.id,originData:h&&h[t.id],Popover:o}}})},[o,h,l]);return h&&(0,c.tZ)(m,(0,i._)((0,r._)({},n),{root:e}),void 0)}},30512:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var o=n(22107),r=n(94707),i=n(86325),a=n(49899),l=n(85626),c=n(87363),s=n(37831),d=n.n(s);function u(){var t=null;return"undefined"!=typeof window&&window.document?t=window.Raven:void 0!==n.g&&(t=n.g.Raven),t}var f=function(t,e){u()&&u().captureException(t,e)},p=n(14168),h=n.n(p),v=function(t){(0,i._)(n,t);var e=(0,l._)(n);function n(){for(var t,r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return(0,o._)(this,n),(t=e.call.apply(e,[this].concat((0,a._)(i)))).state={hasError:!1},t}return(0,r._)(n,[{key:"componentDidCatch",value:function(t,e){var n=this.props.onCatch;"function"==typeof n&&n(t,e),f(t,{logger:"clientErrorBoundary",fingerprint:["error-boundary"],extra:{info:e,passWhitelistUrlsTest:!0}})}},{key:"render",value:function(){var t=this.props,e=t.fallbackComponent,n=t.children;if("undefined"==typeof window||!window.document)try{return d().renderToString(n),n}catch(t){return f(t,{logger:"serverErrorBoundary",fingerprint:["error-boundary"],extra:{passWhitelistUrlsTest:!0}}),e||null}return this.state.hasError?e||null:this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(c.Component);v.defaultProps={fallbackComponent:null,onCatch:function(){}},v.propTypes={fallbackComponent:h().oneOfType([h().func,h().node,h().element]),onCatch:h().func};var m=v},16544:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var o=n(87363),r=n.n(o),i=n(9478),a=n.n(i),l=n(25628),c=n.n(l),s=n(94009),d=n(56270),u=n(41402),f="GoodsItemCardPromoTag",p=r().memo(function(t){var e=t.countdown,n=(0,s._)((0,o.useState)(e),2),i=n[0],a=n[1],l=(0,o.useRef)();(0,o.useEffect)(function(){if(i<=0){clearInterval(l.current),a(0);return}return l.current=setInterval(function(){a(i-1)},1e3),function(){return clearInterval(l.current)}},[i]);var c=(0,d.c5)(i),p=c.d,h=c.h,v=c.m,m=c.s,g="".concat(p?p+"天":""," ").concat(h,":").concat(v,":").concat(m);return(0,u.tZ)("div",{className:f},(0,u.tZ)("div",{className:"".concat(f,"-right")},i?(0,u.tZ)(r().Fragment,null,(0,u.tZ)("span",null,"距结束还剩 "),(0,u.tZ)("span",{className:"".concat(f,"-rightText")},g)):(0,u.tZ)("span",null,"活动已结束")))}),h=function(t){var e=t.text;return(0,u.tZ)("div",{className:"GoodsRecommendCard-couponTag"},(0,u.tZ)("span",{className:"GoodsRecommendCard-couponMark"},"券"),(0,u.tZ)("span",{className:"GoodsRecommendCard-couponText"},e))},v=function(t){var e=t.text;return(0,u.tZ)("div",{className:"GoodsRecommendCard-textTag"},e)},m=function(t){var e=t.className,n=t.style,o=t.tags,r=void 0===o?[]:o,i=t.isPromo,l=t.promoTagShow,s=t.countdown;return!a()(r)&&r.length||i?(0,u.tZ)("div",{className:c()("GoodsRecommendCard-tags",e),style:n},(0,u.tZ)("div",{className:"GoodsRecommendCard-tagsScale"},l?(0,u.tZ)(p,{countdown:s||0}):r.map(function(t,e){var n=t.type,o=t.value,r=t.imgUrl;return r?(0,u.tZ)("img",{className:"GoodsRecommendCard-tagsImage",src:r,key:e}):"coupon"===n&&o?(0,u.tZ)(h,{key:e,text:o}):"text"===n&&o?(0,u.tZ)(v,{key:e,text:o}):null}))):null}},20330:function(t,e,n){"use strict";n.d(e,{Be:function(){return s},LK:function(){return u},Mi:function(){return f},Ow:function(){return o},TP:function(){return c},WK:function(){return a},eQ:function(){return i},fY:function(){return d},nw:function(){return p},oN:function(){return l},uL:function(){return r}});var o={Normal:"",Invalid:"isInvalid",Fold:"isCollapsed",NotEditable:"isNotEditable"},r={Editor:"editor",Content:"content"},i={Content:0,MentionedInContent:1,Showcase:2,LivingTheater:3},a={CPSCommonCard:"cpsCommonCard",CPSMeituanCard:"cpsMeituanCard",ZhiGoodsCard:"zhihuGoodsCard",RedPacketCard:"redPacketCard",EducationCard:"educationCard",PolymericCard:"polymericCard",MainCard:"mainCard",HideCard:""},l={jingdong:0,taobao:1,zhihu:2,pinduoduo:3,meituanhotel:4,suning:5,youzan:6,zhiGoods:7,zhi_goods:7,zhiEducation:8,zhi_education:8},c={0:"jingdong",1:"taobao",2:"zhihu",3:"pinduoduo",4:"meituanhotel",5:"suning",6:"youzan",7:"zhiGoods",8:"zhiEducation"},s={0:"京东",1:"淘宝",2:"知乎会员",3:"拼多多",4:"美团酒旅",5:"苏宁易购",6:"有赞",7:"知乎商品",8:"知乎教育课程"},d={Ecommerce:1,Hotel:2,Tickets:3,Advertising:4,Store:5,RedPacket:6,Vop:7,Kepler:8,SelfPurchase:9,SelfPublishedBooks:10,Education:11},u={2:"酒店",3:"门票"},f={Common:"common",Datum:"datum"},p={ZhiXuanGoods:1}},169:function(t,e,n){"use strict";n.d(e,{Z:function(){return tC}});var o=n(94009),r=n(87363),i=n.n(r),a=n(14168),l=n.n(a),c=n(9478),s=n.n(c),d=n(74135),u=n(87804),f=n(76759),p=n(5655),h=n(20330),v=n(25628),m=n.n(v),g=n(69383),C=n(43384),y=n(7629),x=n(99878),Z=n(17132),b=n.n(Z),_=n(56270),w=n(41402),k="GoodsRecommendCardPrice",E=function(t){var e,n,i,a=t.price,l=t.prefix,c=t.suffix,s=t.zhihuVipText,d=(n=(e=(0,o._)((0,r.useState)(!1),2))[0],i=e[1],(0,r.useEffect)(function(){document.body.clientWidth<=370&&i(!0)},[]),n);return null===a?null:s?(0,w.tZ)("div",{className:"".concat(k,"-vip")},(0,w.tZ)("span",{className:"".concat(k,"-vipHint")},s),(0,w.tZ)("span",{className:"".concat(k,"-original"),style:{display:d?"none":"inline"}},"\xa5".concat((0,_.T4)(a)).concat(c))):(0,w.tZ)("div",{className:k},l&&!d&&(0,w.tZ)("span",{className:"".concat(k,"-prefix")},l),(0,w.tZ)("span",{className:"".concat(k,"-sell")},"\xa5".concat((0,_.T4)(a,{onlyKeepUnit:d}))),c&&(0,w.tZ)("span",{className:"".concat(k,"-suffix")},c))},S=n(16544),L=n(87462),N=n(63366),I=n(22107),T=n(94707),P=n(86325),R=n(85626),A=function(t){(0,P._)(n,t);var e=(0,R._)(n);function n(){return(0,I._)(this,n),e.apply(this,arguments)}return(0,T._)(n,[{key:"render",value:function(){return(0,w.tZ)("svg",{width:"30",height:"30",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",className:"CircleLoadingBar","aria-hidden":"true"},(0,w.tZ)("g",null,(0,w.tZ)("circle",{className:"path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})))}}]),n}(r.Component),M=n(51924),B=function(t){var e=t.className,n=t.url,o=t.source,r=(0,N.Z)(t,["className","url","source"]),i=o===h.oN.suning?"拼购":"",a="目前".concat(h.Be[o],"暂不支持在电脑端购买").concat(i,"商品");return(0,w.tZ)(M.Z,(0,L.Z)({className:m()("QRCodeModal",e)},r),(0,w.tZ)("div",{className:"QRCodeModal-title"},"用知乎 App 扫码查看"),(0,w.tZ)("div",{className:"QRCodeModal-tip"},a),(0,w.tZ)("div",{className:"QRCodeModal-qrcode"},(0,w.tZ)(A,null),(0,w.tZ)("img",{src:"https://www.zhihu.com/qrcode?url=".concat(encodeURI("zhihu://hybrid?zh_url=".concat(n)))})))},z=n(35829),F=n(51753),D=n(29404),O=n(20072),H=n(82525),G=function(t){var e=t.id,n=t.skuId,o=t.bottomInfo,r=t.type,i=t.scenes,a=t.attachedInfoBytes,l=o||{},c=l.icon,s=l.text,u=c||{},h=u.iconUrl,v=u.iconText,g=u.clickUrl,y=u.clickType,Z=s||{},b=Z.text,_=Z.clickUrl,k=(0,f.Z)(),E=k.iOS,S=k.Android,L=function(t,e){if(t){var n=t.clickUrl,o=t.clickType;if(n){if(e.preventDefault(),e.stopPropagation(),"redirect"===o){(0,p._)(n).then(function(t){var e=(0,d.camelizeKeys)(t.data)||{},n=e.url,o=e.appSchemaIos,a=e.appSchemaAndroid;(0,H.Y)(E?o:S?a:n,{hybridOpenAction:"mcn/openURL",params:{type:r,scenes:i,url:n,fallbackUrl:n}})});return}if("linkcard"===o)return(0,H.Y)(n,{hybridOpenAction:"mcn/openURL"});if("showcase"===o){var a="https://www.zhihu.com/appview/goods/show_case/".concat(n);return(0,H.Y)(a,{hybridOpenAction:"base/openURL"})}(0,H.Y)(n)}}};return(0,w.tZ)(C.eV,{content:{id:String(n),token:String(e),type:"GoodsRecommend"},extra:{attachedInfoBytes:a}},(0,w.tZ)(C.Wi,{as:"div",zaType:"Card",shouldTrackClick:!0,shouldTrackShow:!0,zaBlock:"goodsRecommendCard_bottomInfo",className:"BottomInfo",extra:{link:{url:g},configMap:{type:y}}},(0,w.tZ)(C.$U,{as:"div",zaText:!0,zaAction:"OpenUrl",zaBlock:"goodsRecommendCard_bottomInfo_icon",zaType:"Button",extra:{link:{url:g},configMap:{type:y}},onClick:function(t){return L(c,t)}},h&&(0,w.tZ)("img",{src:h,alt:""}),v&&(0,w.tZ)("span",{className:m()({"MCNLinkCard-cardBottom-iconText":["linkcard","redirect"].includes(y),"MCNLinkCard-cardBottom-showCaseText":["showcase"].includes(y)})},v)),(0,w.tZ)(C.$U,{as:"span",className:"MCNLinkCard-cardBottom-arrowText",zaText:!0,zaAction:"OpenUrl",zaBlock:"goodsRecommendCard_bottomInfo_text",zaType:"Text",extra:{link:{url:_},configMap:{type:y}},onClick:function(t){return L(s,t)}},b,_&&(0,w.tZ)(x.N,null))))},U=n(50220),V=function(t){var e=t.text,n=void 0===e?"已失效":e;return(0,w.tZ)("div",{className:"GoodsRecommendCard-invalid",onClick:function(t){t.preventDefault(),t.stopPropagation()}},(0,w.tZ)("div",{className:"GoodsRecommendCard-invalidButton"},(0,w.tZ)(U.l,{size:17,center:!0}),(0,w.tZ)("span",{className:"GoodsRecommendCard-invalidText"},n)))},W=function(t){var e=t.width,n=t.height;return(0,w.tZ)("svg",(0,L.Z)({width:void 0===e?"18":e,height:void 0===n?"18":n,viewBox:"0 0 18 18",fill:"none"},t),(0,w.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17ZM12.7778 11.6667C12.9005 11.6667 13 11.5672 13 11.4444V9.88889C13 9.76616 12.9005 9.66667 12.7778 9.66667H9.70703C9.5843 9.66667 9.48481 9.56717 9.48481 9.44444V5.22222C9.48481 5.09949 9.38531 5 9.26258 5H7.88889C7.76616 5 7.66667 5.09949 7.66667 5.22222V10.7778C7.66667 11.2687 8.06464 11.6667 8.55556 11.6667H12.7778Z",fill:"#FD5409"}))},j=function(t){var e=t.width,n=t.height;return(0,w.tZ)("svg",{width:void 0===e?"65":e,height:void 0===n?"18":n,viewBox:"0 0 65 18",fill:"none"},(0,w.tZ)("path",{d:"M7.70741 7.17922C8.0658 8.32992 8.13105 9.52489 7.90317 10.7641C7.72592 11.7279 7.35197 12.8098 6.78132 14.0097H4.98132C5.67548 12.6819 6.10124 11.5903 6.25859 10.7346C6.34902 10.2428 6.36898 9.72651 6.31845 9.18558C6.2625 8.67415 6.12245 8.15781 5.89831 7.63655L7.51851 3.63859H6.12351L3.88263 15.8243H2.20263L4.72023 2.13382H9.82023L7.70741 7.17922ZM14.2726 12.0181C14.7205 12.736 15.3743 13.3409 16.2339 13.8327L15.8676 15.8243C14.5197 15.1063 13.5047 14.1818 12.8227 13.0508C12.127 11.9394 11.7902 10.5084 11.8121 8.75775H10.7921L9.88058 13.7146L12.3655 12.6819L12.0426 14.4375L7.80321 15.957L10.3452 2.13382H17.6202L16.4021 8.75775H13.5521C13.5329 9.51505 13.5926 10.1691 13.7313 10.7198L16.7409 9.36261L16.4181 11.1182L14.2726 12.0181ZM11.7389 3.60908L11.0607 7.29724L14.973 7.31199L15.6539 3.60908H11.7389ZM11.8928 4.73028H15.0278L14.7619 6.17604H11.6269L11.8928 4.73028ZM32.8637 5.70396H31.0937L29.5446 14.1277C29.4415 14.6883 29.2465 15.0965 28.9594 15.3522C28.6642 15.5981 28.2366 15.721 27.6766 15.721H25.3666L25.3105 14.0687H27.1555C27.3855 14.0687 27.5695 14.0195 27.7076 13.9212C27.8339 13.8327 27.916 13.6851 27.954 13.4786L29.3837 5.70396L24.7664 5.6892L25.0513 4.14018L29.6686 4.15493L30.1596 1.48471H31.8696L31.3786 4.15493H33.1486L32.8637 5.70396ZM24.9145 2.35511L22.5868 15.0129H17.3218L19.6495 2.35511H24.9145ZM22.9701 3.87463H21.0201L20.2849 7.87259H22.2349L22.9701 3.87463ZM27.051 7.6218L27.7552 10.9706H25.8352L25.056 7.6218H27.051ZM19.254 13.4786H21.204L21.9609 9.36261H20.0109L19.254 13.4786Z",fill:"#FD5409"}),(0,w.tZ)("path",{d:"M45.1938 1.54372L43.5714 10.3658H41.9214L43.5438 1.54372H45.1938ZM38.247 12.4016C37.6853 11.5952 37.2517 10.6903 36.9462 9.68717L35.8122 15.8538H34.1622L35.2908 9.71667C34.4485 11.1428 33.3957 12.4361 32.1323 13.5966L32.645 10.8084C33.6323 9.84453 34.5629 8.59055 35.4368 7.04645H33.5318L33.8113 5.52693H36.0613L36.4167 3.59433L34.2799 3.71235L34.5485 2.25184L40.2768 1.85352L39.9973 3.37304L38.0856 3.49106L37.7113 5.52693H39.6163L39.3368 7.04645H37.5818C37.8254 7.95127 38.1912 8.76267 38.6792 9.48063C39.5037 7.55295 40.2673 5.63019 40.97 3.71235H42.635C41.8514 5.6892 41.0629 7.66606 40.2693 9.64291H38.7543L38.247 12.4016ZM46.0292 9.48063C45.4059 10.7494 44.6674 11.8017 43.8136 12.6377C42.9563 13.4933 41.9888 14.1867 40.9111 14.7178C39.8571 15.2292 38.6316 15.6669 37.2346 16.0308L37.5683 14.2162C39.4597 13.7736 41.024 13.0704 42.2613 12.1066C43.5022 11.1231 44.4458 9.77076 45.0923 8.04962H45.5123C45.5092 6.65304 45.48 5.20729 45.425 3.71235H47.09C47.1227 4.67619 47.1441 6.59895 47.1542 9.48063H46.0292ZM61.6659 7.97586L55.8068 5.6597L48.9459 7.97586L49.2579 6.27931L53.6352 4.90731L53.8615 4.8188L50.1986 3.28453L50.516 1.55847L55.9498 4.06642L62.456 1.55847L62.1386 3.28453L57.8938 4.83355L61.9779 6.27931L61.6659 7.97586ZM55.859 10.1888L55.1183 14.2162C55.0207 14.7473 54.826 15.126 54.5344 15.3522C54.2092 15.5981 53.7666 15.721 53.2066 15.721H51.2416L51.225 14.0982H52.8C53.02 14.0982 53.1882 14.0539 53.3045 13.9654C53.4225 13.8671 53.4952 13.7441 53.5223 13.5966L54.149 10.1888H48.224L48.5034 8.66923H54.4284L54.697 7.20872H56.407L56.1384 8.66923H61.8834L61.604 10.1888H55.859ZM52.5393 11.0297C51.2354 12.5738 50.0322 13.9507 48.9297 15.1604H46.7997C47.9022 13.9507 49.1254 12.5738 50.4693 11.0297H52.5393ZM59.1543 11.0297C59.7867 12.4852 60.4384 13.8622 61.1097 15.1604H58.9647C58.2953 13.8523 57.6435 12.4754 57.0093 11.0297H59.1543Z",fill:"#121212"}))},K="GoodsRecommendCardPromo",X=function(t){var e=t.countdown,n=(0,o._)((0,r.useState)(e),2),a=n[0],l=n[1],c=(0,r.useRef)();(0,r.useEffect)(function(){if(a<=0){clearInterval(c.current),l(0);return}return c.current=setInterval(function(){l(a-1)},1e3),function(){return clearInterval(c.current)}},[a]);var s=(0,_.c5)(a),d=s.d,u=s.h,f=s.m,p=s.s,h="".concat(d?d+"天":""," ").concat(u,":").concat(f,":").concat(p);return(0,w.tZ)("div",{className:K},(0,w.tZ)("div",{className:"".concat(K,"-left")},(0,w.tZ)(W,null),(0,w.tZ)(j,null)),(0,w.tZ)("div",{className:"".concat(K,"-right")},a?(0,w.tZ)(i().Fragment,null,(0,w.tZ)("span",null,"距结束还剩 "),(0,w.tZ)("span",{className:"".concat(K,"-rightText")},h)):(0,w.tZ)("span",null,"活动已结束")))},Y=n(24405),q=function(t){var e=t.width,n=t.height;return(0,w.tZ)("svg",(0,L.Z)({width:void 0===e?"16":e,height:void 0===n?"16":n,viewBox:"0 0 17 18",fill:"none"},t),(0,w.tZ)("path",{d:"M1.0625 9.35608C1.0625 8.30122 1.58765 7.0788 2.4781 5.98825C2.57525 5.86927 2.75342 5.86364 2.86204 5.97226L3.61782 6.72804C3.71564 6.82587 3.72141 6.98213 3.63591 7.09089C2.96496 7.94435 2.65625 8.78889 2.65625 9.35608C2.65625 10.0917 3.17553 11.2939 4.33089 12.3769C5.44533 13.4217 6.93093 14.1373 8.5 14.1373C9.16884 14.1373 9.8225 14.0073 10.4387 13.7772C10.5388 13.7398 10.652 13.7622 10.7275 13.8378L11.5457 14.656C11.6734 14.7837 11.6392 14.9988 11.4746 15.0731C10.5636 15.4846 9.5576 15.7311 8.5 15.7311C4.39238 15.7311 1.0625 12.0123 1.0625 9.35608Z",fill:"#0066FF"}),(0,w.tZ)("path",{d:"M5.3125 9.35608C5.3125 9.22968 5.31986 9.105 5.33417 8.98244C5.35789 8.77928 5.60131 8.71153 5.74594 8.85617L8.99991 12.1101C9.14455 12.2548 9.0768 12.4982 8.87364 12.5219C8.75108 12.5362 8.6264 12.5436 8.5 12.5436C6.73959 12.5436 5.3125 11.1165 5.3125 9.35608Z",fill:"#0066FF"}),(0,w.tZ)("path",{d:"M8.12591 6.1903C7.92276 6.21405 7.85504 6.45745 7.99966 6.60208L11.254 9.85642C11.3986 10.001 11.642 9.93332 11.6658 9.73017C11.6801 9.60747 11.6875 9.48264 11.6875 9.35608C11.6875 7.59567 10.2604 6.16858 8.5 6.16858C8.37344 6.16858 8.24861 6.17595 8.12591 6.1903Z",fill:"#0066FF"}),(0,w.tZ)("path",{d:"M14.3438 9.35608C14.3438 9.92333 14.035 10.768 13.3639 11.6215C13.2784 11.7303 13.2841 11.8866 13.382 11.9844L14.1377 12.7402C14.2464 12.8488 14.4245 12.8432 14.5217 12.7242C15.4123 11.6336 15.9375 10.411 15.9375 9.35608C15.9375 6.69983 12.6076 2.98108 8.5 2.98108C7.44227 2.98108 6.4361 3.22767 5.52509 3.6392C5.36051 3.71354 5.32623 3.92864 5.45392 4.05634L6.27212 4.87454C6.34765 4.95006 6.46088 4.97249 6.56094 4.93512C7.17726 4.70491 7.83104 4.57483 8.5 4.57483C10.0691 4.57483 11.5547 5.2905 12.6691 6.33522C13.8245 7.41829 14.3438 8.62045 14.3438 9.35608Z",fill:"#0066FF"}),(0,w.tZ)("path",{d:"M3.43966 3.1689C3.33592 3.06517 3.16774 3.06517 3.06401 3.1689L2.3127 3.92021C2.20897 4.02394 2.20897 4.19212 2.3127 4.29586L13.5822 15.5654C13.686 15.6691 13.8541 15.6691 13.9579 15.5654L14.7092 14.8141C14.8129 14.7103 14.8129 14.5422 14.7092 14.4384L3.43966 3.1689Z",fill:"#0066FF"}))},$=function(t){var e=t.text,n=void 0===e?"隐藏中":e,o=(0,Y.F)().isDarkMode;return(0,w.tZ)("div",{className:"GoodsRecommendCard-shade",onClick:function(t){t.preventDefault(),t.stopPropagation()}},(0,w.tZ)("div",{className:"GoodsRecommendCard-shadeHide",style:{backgroundColor:o?"#182232":"#dde8f7"}},(0,w.tZ)(q,{width:"17",height:"18"}),(0,w.tZ)("span",{className:"GoodsRecommendCard-shadeHideText"},n)))},J=function(t){return(0,r.forwardRef)(function(e,n){var a=(0,r.useContext)(D.Z),l=(0,C.Q4)().trackEvent,c=(0,r.useRef)(null),d=e.component,u=e.className,p=e.trackInfo,v=e.position,y=e.scenes,x=e.id,Z=void 0===x?"":x,b=e.goods,_=e.promoInfo,k=void 0===_?{}:_,E=e.bottomInfo,S=void 0===E?{}:E,N=e.utmInfo,I=e.isPolymericCard,T=void 0!==I&&I,P=e.isInvalid,R=void 0!==P&&P,A=e.isFolded,M=void 0!==A&&A,B=e.onMouseDown,H=e.onClick,U=void 0===H?function(){}:H,W=e.trackUrl,j=b||{},K=j.skuId,Y=j.source,q=j.productType,J=j.goodsUrl,Q=j.limitFlag,tt=void 0===Q?3:Q,te=(W||{}).view,tn=void 0===te?[]:te,to=J||{},tr=to.url,ti=to.iosSchema,ta=to.androidSchema,tl=p||{},tc=tl.blockText,ts=tl.zaText,td=tl.trackExtra,tu=void 0===td?{}:td,tf=Number((null==k?void 0:k.countdown)||0)>0,tp=(0,f.Z)().ZhihuHybrid,th=!s()(S)&&v===h.uL.Content&&(3==tt||2==tt&&tp),tv=(0,o._)(i().useState(""),2),tm=tv[0],tg=tv[1],tC=function(){var t=Math.random().toString().slice(-4),e=Date.now();tg("fe-".concat(e).concat(t))};(0,r.useEffect)(function(){return tC()},[]),(0,r.useEffect)(function(){c.current&&(0,O.y3)(c.current.parentNode,function(){(0,F.o)(tn,a),g.Z.trackCardShow(c.current.parentNode,{id:6108,path:[{module_name:"".concat(Z,"_").concat(K,"_").concat(Y,"_").concat(q)}]})})},[Z,K,Y,q,tn,a]);var ty=(0,r.useCallback)(function(t){if(v===h.uL.Editor){U(t,{scenes:y,position:v,id:Z,goods:b});return}t.preventDefault(),t.stopPropagation(),g.Z.trackEvent(null,{id:6208,action:"Click",path:[{module_name:"".concat(Z,"_").concat(K,"_").concat(Y,"_").concat(q)}]}),(0,z.R)({element:t,id:Z,url:tr,source:Y,scenes:y,utmInfo:N,appSchemaIos:ti,appSchemaAndroid:ta,isOpenPopup:T,trackEvent:l,extraInfo:{configMap:{tempId:tm}},onClick:U,isAlertPage:!1,trackUrl:W,zhiExtraData:a}),tC()},[ta,b,Z,ti,T,U,v,q,y,K,Y,tm,l,W,tr,N,a]);return(0,w.tZ)(C.eV,{content:{type:"GoodsRecommend",id:String(K),token:String(Z)},extra:tu},(0,w.tZ)(C.Wi,{as:void 0===d?"a":d,ref:n,shouldTrackClick:!0,zaBlock:void 0===tc?"goodsRecommendCard":tc,zaModuleId:"goods_consumption_card",zaText:void 0===ts||ts,zaType:"Card",zaEventType:"Click",zaAction:"OpenUrl",className:m()("GoodsRecommendCard",u,{"GoodsRecommendCard-promo":tf,"GoodsRecommendCard-link":1==tt&&tp}),extra:{configMap:{tempId:tm}},"data-draft-node":"block","data-draft-type":"mcn-link-card","data-mcn-id":Z,"data-mcn-skuid":K,"data-mcn-source":Y,"data-mcn-product-type":q,"data-mcn-app-schema-android":ta,"data-mcn-app-schema-ios":ti,href:tr,target:"_blank",rel:"noopener noreferrer",onClick:ty,onMouseDown:void 0===B?function(){}:B},tf&&(0,w.tZ)(X,{countdown:null==k?void 0:k.countdown}),(0,w.tZ)(t,(0,L.Z)({},e,{ref:c})),R&&(0,w.tZ)(V,null),M&&(0,w.tZ)($,null),th&&(0,w.tZ)(G,{id:Z,skuId:K,type:h.TP[Y],scenes:y,bottomInfo:S,attachedInfoBytes:null==tu?void 0:tu.attachedInfoBytes})))})},Q=J((0,r.forwardRef)(function(t,e){var n=t.id,a=t.goods,l=t.tags,c=t.goodsExtra,d=t.trackInfo,u=void 0===d?{}:d,p=t.position,v=t.ADTag,Z=(0,o._)((0,r.useState)(!1),2),_=Z[0],k=Z[1],L=(0,C.Q4)().trackEvent,N=a||{},I=N.title,T=N.subtitle,P=N.price,R=N.goodsImg,A=N.goodsUrl,M=N.btnText,z=N.source,F=N.skuId,D=N.productType,O=N.iconImg,H=N.imgType,G=N.goodsTags,U=N.limitFlag,V=void 0===U?3:U,W=R||{},j=W.imgUrl,K=W.imgShape,X=W.cornerText,Y=!s()(P),q=P||{},$=q.price,J=q.prefix,Q=q.suffix,tt=c||{},te=tt.zhihu,tn=tt.suning,to=(0,f.Z)().ZhihuHybrid,tr=(null==G?void 0:G.length)?G.map(function(t){return{type:"text",value:t}}):[],ti=2==V&&to,ta=function(t){var e=b()(navigator.userAgent)||{},o=e.Zhihu,r=e.ZhihuHybrid,i=e.Mobile,a=e.Tablet;if(!o&&!r&&!i&&!a&&(z===h.oN.pinduoduo||z===h.oN.suning&&(null==tn?void 0:tn.isPingou))){if(p===h.uL.Editor)return;t.preventDefault(),t.stopPropagation(),k(!0),L({block:"goodsConsumptionCard_cpsCommonCard",action:"OpenUrl",eventType:"Click",elementLocation:{type:"Card",content:{id:String(F),token:String(n),type:"GoodsRecommend"},moduleId:"goods_consumption_card"}},(null==u?void 0:u.trackExtra)||{}),g.Z.trackEvent(null,{id:6208,action:"Click",path:[{module_name:"".concat(n,"_").concat(F,"_").concat(z,"_").concat(D)}]})}};return 1==V&&to?(0,w.tZ)(C.Wi,{shouldTrackShow:!0,shouldTrackClick:!0,zaType:"Card",zaAction:"OpenUrl",zaBlock:"goodsRecommendCard_Link",extra:{configMap:{id:String(F),text:I}}},(0,w.tZ)("div",{className:"CPSCommonCard-link",onClick:ta},(0,w.tZ)(y.n,{size:18,center:!0,className:"CPSCommonCard-link-icon"}),I)):(0,w.tZ)(i().Fragment,null,(0,w.tZ)("div",{className:"CPSCommonCard",onClick:ta,ref:e},(0,w.tZ)("div",{className:m()("CPSCommonCard-imageBox","CPSCommonCard-imageBox--".concat(K))},(0,w.tZ)("img",{className:"CPSCommonCard-image",src:j,alt:""}),(0,w.tZ)("div",{className:"CPSCommonCard-tag"},(0,w.tZ)("div",{className:X?"CPSCommonCard-tag-ADBox-cornerText":"CPSCommonCard-tag-ADBox-noCornerText"},(0,w.tZ)("div",{className:"CPSCommonCard-tag-ADTag"},v)),X&&(0,w.tZ)("div",{className:"CPSCommonCard-tag-imageTag"},X))),(0,w.tZ)("div",{className:"CPSCommonCard-info"},(0,w.tZ)("div",{className:"CPSCommonCard-title"},I),(0,w.tZ)("div",{className:"CPSCommonCard-subtitle"},(0,w.tZ)("div",{className:m()("CPSCommonCard-subtitle-text")},T),H===h.nw.ZhiXuanGoods&&(0,w.tZ)(S.Z,{className:"CPSCommonCard-subtitle-img",tags:O?[{type:"common",value:"",imgUrl:O}]:[]}),ti&&(0,w.tZ)(S.Z,{tags:tr})),!s()(l)&&(0,w.tZ)(S.Z,{tags:l}),(0,w.tZ)("div",{className:"CPSCommonCard-tool"},(0,w.tZ)("div",{className:"CPSCommonCard-toolLeft"},Y&&(0,w.tZ)(E,{price:$,prefix:J,suffix:Q,zhihuVipText:(null==te?void 0:te.vipText)||""})),(0,w.tZ)("div",{className:"CPSCommonCard-button"},M,(0,w.tZ)(x.N,{size:24,center:!0,css:function(t){var e;return{color:null===(e=t.colors)||void 0===e?void 0:e.GRD10A}}}))))),_&&(0,w.tZ)(B,{url:null==A?void 0:A.url,source:z,onClose:function(t){t.preventDefault(),t.stopPropagation(),k(!1)}}))})),tt=J((0,r.forwardRef)(function(t,e){var n=t.goods,o=t.tags,r=t.ADTag,a=n||{},l=a.title,c=a.subtitle,d=a.price,u=a.goodsImg,f=a.btnText,p=!s()(d),h=d||{},v=h.price,g=h.prefix,C=h.suffix;return(0,w.tZ)(i().Fragment,null,(0,w.tZ)("div",{className:"ZhiGoodsCard",ref:e},(0,w.tZ)("div",{className:"ZhiGoodsCard-imageBox"},(0,w.tZ)("img",{className:"ZhiGoodsCard-image",src:null==u?void 0:u.imgUrl,alt:""}),(0,w.tZ)("div",{className:"ZhiGoodsCard-tag"},(0,w.tZ)("div",{className:"ZhiGoodsCard-tag-ADTag"},r))),(0,w.tZ)("div",{className:"ZhiGoodsCard-info"},(0,w.tZ)("div",{className:"ZhiGoodsCard-title"},l),(0,w.tZ)("div",{className:m()("ZhiGoodsCard-subtitle")},c),!s()(o)&&(0,w.tZ)(S.Z,{tags:o}),(0,w.tZ)("div",{className:"ZhiGoodsCard-tool"},(0,w.tZ)("div",{className:"ZhiGoodsCard-toolLeft"},p&&(0,w.tZ)(E,{price:v,prefix:g,suffix:C,zhihuVipText:""})),(0,w.tZ)("div",{className:"ZhiGoodsCard-button"},f,(0,w.tZ)(x.N,{size:24,center:!0,css:function(t){var e;return{color:null===(e=t.colors)||void 0===e?void 0:e.GRD10A}}}))))))})),te=n(50112),tn=n(62641),to=n(80565),tr=function(t){return(0,w.tZ)("svg",(0,L.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 12",fill:"currentColor"},t),(0,w.tZ)("path",{d:"M5,0 C7.7615,0 10,2.074 10,4.632 C10,8 8.681,9.6805 6.043,11.657 C5.463,12.0915 4.6455,12.1135 4.041,11.722 L3.952,11.66 L3.766,11.5195 C1.2555,9.5815 0,8 0,4.632 C0,2.074 2.2385,0 5,0 Z M5,1.5 C3.0425,1.5 1.5,2.929 1.5,4.632 C1.5,7.1075 2.159,8.3245 4.368,10.0855 L4.672,10.3235 L4.8565,10.463 C4.926,10.508 5.033,10.5115 5.109,10.4765 L5.144,10.4565 C7.708,8.535 8.5,7.2275 8.5,4.631 C8.5,2.9295 6.9575,1.5 5,1.5 Z M5,3 C5.82842712,3 6.5,3.67157288 6.5,4.5 C6.5,5.32842712 5.82842712,6 5,6 C4.17157288,6 3.5,5.32842712 3.5,4.5 C3.5,3.67157288 4.17157288,3 5,3 Z"}))},ti={name:"gg4vpm",styles:"display:flex;justify-content:space-between;"},ta={name:"1q27zj9",styles:"flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"},tl=J((0,r.forwardRef)(function(t,e){var n=t.goods,o=t.goodsExtra,r=t.ADTag,i=n||{},a=i.title,l=i.subtitle,c=i.price,d=i.goodsImg,u=i.btnText,f=i.productType,p=!s()(c),v=c||{},m=v.price,g=v.prefix,C=v.suffix,y=(o||{}).meituan,Z=(0,tn.D)();return(0,w.tZ)("div",{className:"CPSMeituanCard",ref:e},(0,w.tZ)("div",{className:"CPSMeituanCard-imageBox"},(0,w.tZ)("img",{src:null==d?void 0:d.imgUrl,css:(0,te.Z)([{width:75,height:100,borderRadius:6,flexShrink:0,objectFit:"cover"},Z],"")}),(0,w.tZ)("div",{className:"CPSMeituanCard-tag"},(0,w.tZ)("div",{className:"CPSMeituanCard-tag-ADTag"},r))),(0,w.tZ)("div",{className:"CPSMeituanCard-main"},(0,w.tZ)("div",null,(0,w.tZ)("div",{css:ti},(0,w.tZ)("div",{css:function(t){return Object.assign({color:t.colors.GBK02A,fontSize:15,fontWeight:t.fontWeights.bold,lineHeight:1.2,maxHeight:36},(0,to.S)(2))}},a)),(0,w.tZ)("div",{css:function(t){return{color:t.colors.GBK05A,fontSize:12,marginTop:4,fontWeight:t.fontWeights.bold,height:16,lineHeight:"16px"}}},l," \xb7 ",h.LK[f])),(0,w.tZ)("div",null,(0,w.tZ)("div",{css:function(t){return{display:"flex",alignItems:"center",color:t.colors.GRD08A,marginTop:8,height:18,lineHeight:"18px"}}},(0,w.tZ)("div",{css:function(t){return{fontSize:15,fontWeight:t.fontWeights.bold}}},p&&(0,w.tZ)(E,{price:m,prefix:g,suffix:C,zhihuVipText:""})),(0,w.tZ)("div",{role:"button",css:function(t){var e;return{marginLeft:"auto",cursor:"pointer",fontSize:13,fontWeight:t.fontWeights.bold,color:null===(e=t.colors)||void 0===e?void 0:e.GRD10A}}},u,(0,w.tZ)(x.N,{size:16,center:!0,css:function(t){var e;return{color:null===(e=t.colors)||void 0===e?void 0:e.GRD10A}}}))),(0,w.tZ)("div",{css:function(t){return{display:"flex",alignItems:"center",marginTop:2,height:18,lineHeight:1,fontSize:12,color:t.colors.GBK06A,fontWeight:t.fontWeights.bold,overflow:"hidden",transform:"scale(0.92)",transformOrigin:"left"}}},(0,w.tZ)(tr,{width:"12",height:"12",css:(0,te.Z)({flexShrink:0,marginTop:-1,marginRight:2},"")}),(0,w.tZ)("span",{css:ta},null==y?void 0:y.area)))))})),tc=J((0,r.forwardRef)(function(t,e){var n=t.goods,o=t.goodsExtra,r=t.ADTag,i=n||{},a=i.title,l=i.subtitle,c=i.goodsImg,s=i.btnText,d=(c||{}).imgUrl,u=(o||{}).redPacket;return(0,w.tZ)("div",{className:"RedPacketCard",ref:e},(0,w.tZ)("div",{className:"RedPacketCard-imageBox"},(0,w.tZ)("img",{className:"RedPacketCard-image",src:d,alt:""}),(0,w.tZ)("div",{className:"RedPacketCard-tag"},(0,w.tZ)("div",{className:"RedPacketCard-tag-ADTag"},r))),(0,w.tZ)("div",{className:"RedPacketCard-info"},(0,w.tZ)("div",{className:"RedPacketCard-title"},a),(0,w.tZ)("div",{className:m()("RedPacketCard-subtitle")},l),(0,w.tZ)("div",{className:"RedPacketCard-tool"},(0,w.tZ)("div",{className:"RedPacketCard-toolLeft"},null==u?void 0:u.description),(0,w.tZ)("div",{className:"RedPacketCard-button"},s,(0,w.tZ)(x.N,{size:24,center:!0,css:function(t){var e;return{color:null===(e=t.colors)||void 0===e?void 0:e.GRD10A}}})))))})),ts=function(t){var e=t.position;return(0,w.tZ)("div",{className:"EducationCard-invalid",onClick:function(t){t.preventDefault(),t.stopPropagation()}},(0,w.tZ)("div",{className:m()("EducationCard-invalidButton","EducationCard-invalidButton-".concat(void 0===e?"bottom":e))},(0,w.tZ)(U.l,{size:17,center:!0}),(0,w.tZ)("span",{className:"EducationCard-invalidText"},"已失效")))},td=(0,r.memo)((0,r.forwardRef)(function(t,e){var n=t.component,o=t.className,r=t.id,i=t.skuId,a=t.imgUrl,l=t.title,c=t.trackInfo,s=t.ADTag,d=c||{},u=d.blockText,f=d.zaText,p=d.trackExtra;return(0,w.tZ)(C.eV,{block:u,content:{type:"GoodsRecommend",token:String(r),id:String(i)}},(0,w.tZ)(C.Wi,{shouldTrackClick:!0,zaAction:"OpenUrl",zaType:"Card",zaText:void 0===f||f,zaEventType:"Click",extra:void 0===p?{}:p,as:void 0===n?"a":n,ref:e,className:m()("EducationGoodsZIPCard",o),"data-draft-node":"block","data-draft-type":"mcn-link-card"},(0,w.tZ)(ts,{position:"center"}),(0,w.tZ)("div",{className:"EducationGoodsZIPCard-container"},(0,w.tZ)("div",{className:"EducationGoodsZIPCard-left"},(0,w.tZ)("img",{className:"EducationGoodsZIPCard-image",src:a,alt:""}),(0,w.tZ)("div",{className:"EducationGoodsZIPCard-tag"},(0,w.tZ)("div",{className:"EducationGoodsZIPCard-tag-ADTag"},s))),(0,w.tZ)("div",{className:"EducationGoodsZIPCard-right"},(0,w.tZ)("div",{className:"EducationGoodsZIPCard-title"},l),(0,w.tZ)("div",{className:"EducationGoodsZIPCard-icon"})))))})),tu=J((0,r.forwardRef)(function(t,e){var n=t.goods,o=t.goodsExtra,r=t.ADTag,i=n||{},a=i.title,l=i.subtitle,c=i.price,d=i.goodsImg,u=i.btnText,f=d||{},p=f.imgUrl,h=f.cornerText,v=!s()(c),g=c||{},C=g.price,y=g.prefix,Z=g.suffix,b=(o||{}).zhihu;return(0,w.tZ)("div",{className:"EducationCommonCard",ref:e},(0,w.tZ)(ts,null),(0,w.tZ)("div",{className:"EducationCommonCard-imageBox"},(0,w.tZ)("img",{className:"EducationCommonCard-image",src:p,alt:""}),(0,w.tZ)("div",{className:"EducationCommonCard-tag"},(0,w.tZ)("div",{className:h?"EducationCommonCard-tag-ADBox-cornerText":"EducationCommonCard-tag-ADBox-noCornerText"},(0,w.tZ)("div",{className:"EducationCommonCard-tag-ADTag"},r))," ",h&&(0,w.tZ)("div",{className:"EducationCommonCard-tag-imageTag"},h))),(0,w.tZ)("div",{className:"EducationCommonCard-info"},(0,w.tZ)("div",{className:"EducationCommonCard-title"},a),(0,w.tZ)("div",{className:m()("EducationCommonCard-subtitle")},l),(0,w.tZ)("div",{className:"EducationCommonCard-tool"},(0,w.tZ)("div",{className:"EducationCommonCard-toolLeft"},v&&(0,w.tZ)(E,{price:C,prefix:y,suffix:Z,zhihuVipText:(null==b?void 0:b.vipText)||""})),(0,w.tZ)("div",{className:"EducationCommonCard-button"},u,(0,w.tZ)(x.N,{size:24,center:!0})))))})),tf=(0,r.forwardRef)(function(t,e){var n,o=t.component,r=void 0===o?"a":o,i=t.className,a=t.position,l=t.id,c=t.trackInfo,s=t.goods,d=t.goodsExtra,u=t.onMouseDown,f=t.ADTag,p=s||{},v=p.title,m=p.skuId,g=p.goodsImg,C=p.source,y=p.productType,x=p.goodsUrl;return C===h.oN.zhiEducation&&(null==d?void 0:null===(n=d.education)||void 0===n?void 0:n.type)===h.Mi.Datum?(0,w.tZ)(td,{ADTag:f,ref:e,component:r,className:i,position:a,trackInfo:Object.assign({},c,{zaText:"教育课程资料模板"}),id:l,skuId:m,source:C,productType:y,imgUrl:null==g?void 0:g.imgUrl,title:v,url:null==x?void 0:x.url,onMouseDown:u}):(0,w.tZ)(tu,{ADTag:f,ref:e,component:r,className:i,position:a,trackInfo:Object.assign({},c,{zaText:"教育课程常规模板"}),id:l,goods:s,goodsExtra:d,onMouseDown:u})}),tp=function(t){var e=t.width,n=t.height;return(0,w.tZ)("svg",(0,L.Z)({width:void 0===e?"20":e,height:void 0===n?"20":n,viewBox:"0 0 20 20",fill:"none"},t),(0,w.tZ)("rect",{width:"20",height:"20",rx:"10",fill:"url(#zhihu_linear)"}),(0,w.tZ)("path",{d:"M14.6483 9.82166V7.30499L17.179 7.17565L17.3983 7.16159C17.5381 6.91469 17.6017 6.63193 17.5811 6.34894C17.5614 6.28146 17.5248 6.16898 17.4124 6.19429C17.0367 6.28555 16.6553 6.35132 16.2707 6.39112C15.534 6.47829 15.2106 6.50079 14.1899 6.5739C12.3959 6.70606 10.8156 6.76792 10.8156 6.76792C10.8155 6.86019 10.8341 6.95152 10.8701 7.03646C10.9062 7.1214 10.959 7.19819 11.0254 7.26224C11.0918 7.32629 11.1705 7.37629 11.2567 7.40925C11.3429 7.4422 11.4348 7.45743 11.527 7.45403C12.1344 7.42872 13.0258 7.38654 13.9256 7.34155V9.82166H10.4979C10.4979 10.0111 10.5731 10.1928 10.7071 10.3267C10.841 10.4606 11.0227 10.5359 11.2121 10.5359H13.9059V12.4396C13.9059 12.6814 13.7822 12.7629 13.5797 12.7686H12.5365C12.5809 12.9214 12.6572 13.0632 12.7605 13.1844C12.8637 13.3055 12.9915 13.4034 13.1354 13.4715C13.3671 13.5486 13.6127 13.5745 13.8553 13.5475C14.2208 13.5278 14.6483 13.3225 14.6483 12.5858V10.5359H17.657C17.748 10.5359 17.8352 10.4997 17.8996 10.4354C17.9639 10.3711 18.0001 10.2838 18.0001 10.1928V9.82166H14.6483Z",fill:"white"}),(0,w.tZ)("path",{d:"M12.2918 8.12052C12.2446 8.05472 12.1849 7.99887 12.1161 7.95618C12.0472 7.91349 11.9707 7.8848 11.8908 7.87174C11.8108 7.85868 11.7291 7.86151 11.6503 7.88008C11.5715 7.89864 11.4971 7.93257 11.4314 7.97993L11.3301 8.05304L12.4549 9.62771L13.0567 9.19467L12.2918 8.12052Z",fill:"white"}),(0,w.tZ)("path",{d:"M16.2229 8.06697L15.3793 9.17205L15.9923 9.61914L17.1986 8.02197L17.0974 7.94887C17.0325 7.89851 16.9582 7.86158 16.8789 7.84024C16.7996 7.8189 16.7168 7.81357 16.6354 7.82457C16.554 7.83556 16.4756 7.86266 16.4048 7.90427C16.334 7.94589 16.2721 8.0012 16.2229 8.06697Z",fill:"white"}),(0,w.tZ)("path",{d:"M9.75559 6.96472H6.46283V12.7123H7.27547L7.38233 13.4068L8.47616 12.7123H9.76121L9.75559 6.96472ZM8.3665 11.9981L7.72819 12.3917L7.66633 11.9868H7.20518V7.67895H9.01324V11.9981H8.3665Z",fill:"white"}),(0,w.tZ)("path",{d:"M5.8692 9.55164H4.67695C4.67695 9.42511 4.67695 9.29576 4.67695 9.16078V7.6789H6.03792V7.33022C6.03792 7.23376 5.99979 7.1412 5.93185 7.07273C5.8639 7.00426 5.77164 6.96542 5.67518 6.96468H3.55218C3.55798 6.94165 3.5655 6.91909 3.57468 6.89719C3.64779 6.67505 3.88117 6.00019 3.88117 6.00019C3.65236 5.99602 3.42772 6.06174 3.23725 6.18859C3.05287 6.30963 2.92201 6.49686 2.8717 6.7116C2.72829 7.10527 2.5905 7.48207 2.52302 7.70702C2.39367 8.06695 2.08155 8.69963 2.08155 8.69963C2.31657 8.69745 2.54812 8.64268 2.75922 8.53935C2.90078 8.45635 3.02279 8.34381 3.11693 8.2094C3.21107 8.07499 3.27513 7.92186 3.30473 7.76045C3.30473 7.73514 3.30473 7.70983 3.32723 7.6789H3.94304V9.16078C3.94304 9.29576 3.94304 9.42511 3.92617 9.55164H2.83233C2.6429 9.55164 2.46124 9.62689 2.32729 9.76083C2.19335 9.89478 2.1181 10.0764 2.1181 10.2659H3.85868C3.8226 10.5997 3.75096 10.9287 3.64497 11.2472C3.46502 11.7605 3.19349 12.2368 2.84358 12.6532C2.58024 12.9385 2.29844 13.2062 2 13.4546C2.24273 13.5419 2.50409 13.5643 2.75812 13.5194C3.01216 13.4745 3.25003 13.3639 3.44814 13.1987C3.84602 12.7565 4.14 12.231 4.30859 11.6606C4.45258 11.2024 4.55331 10.7316 4.60946 10.2546H6.20663V9.89469C6.20665 9.80468 6.17127 9.71826 6.10815 9.65409C6.04503 9.58991 5.95921 9.55312 5.8692 9.55164Z",fill:"white"}),(0,w.tZ)("path",{d:"M5.02604 11.0278L4.40179 11.4299L5.74589 13.4376C5.83897 13.2504 5.89982 13.0489 5.92585 12.8415C5.97024 12.6436 5.94335 12.4365 5.84993 12.2566L5.02604 11.0278Z",fill:"white"}),(0,w.tZ)("defs",null,(0,w.tZ)("linearGradient",{id:"zhihu_linear",x1:"-6.7082",y1:"29.9095",x2:"25.5036",y2:"-8.47649",gradientUnits:"userSpaceOnUse"},(0,w.tZ)("stop",{offset:"0.42",stopColor:"#0066FF"}),(0,w.tZ)("stop",{offset:"0.92",stopColor:"#00C4FF"}))))},th={jingdong:function(t){var e=t.width,n=t.height;return(0,w.tZ)("svg",(0,L.Z)({width:void 0===e?"20":e,height:void 0===n?"20":n,viewBox:"0 0 20 20",fill:"none"},t),(0,w.tZ)("rect",{width:"20",height:"20",rx:"5",fill:"#FF0C00"}),(0,w.tZ)("path",{d:"M9.22821 4.01082L8.55615 5.70148L10.5828 7.71767H13.6176L14.7727 6.74108C14.7727 6.74108 14.9408 6.41555 15.0983 6.05852L14.8672 5.02942L14.6572 4.89291L12.536 4.68289L11.5069 3.39127L9.22821 4.01082Z",fill:"#414141"}),(0,w.tZ)("path",{d:"M5.59495 6.03752C5.59495 6.27904 5.63695 6.53106 5.64745 6.78309C5.67895 7.22413 5.46893 7.64417 5.1014 7.88569C4.81787 8.09571 4.49234 8.24272 4.14581 8.32673C3.87278 8.40024 3.58926 8.24272 3.51575 7.9697C3.49475 7.87519 3.49475 7.78068 3.51575 7.68617C3.56826 7.45515 3.65226 7.22413 3.77828 7.02461C4.0618 6.52056 4.27182 5.98501 4.40834 5.41796C4.43984 5.31295 4.47134 5.20794 4.52385 5.11343C4.60785 4.94541 4.79687 4.85091 4.97539 4.90341C5.1119 4.94541 5.23791 4.99792 5.36392 5.06092C5.55294 5.15543 5.75246 5.27094 5.92048 5.37595C6.03599 5.26044 6.141 5.12393 6.26701 5.00842C6.67655 4.63038 7.15959 4.31535 7.67414 4.09483C8.48272 3.7063 9.3333 3.41227 10.2154 3.21275C10.6249 3.12874 11.045 3.07624 11.465 3.04474C11.9585 3.01323 12.4626 2.99223 12.9561 3.00273C13.6072 2.99223 14.2478 3.11824 14.8358 3.39127C15.1613 3.51728 15.4029 3.79031 15.4764 4.13684C15.5079 4.38886 15.5079 4.65139 15.4764 4.90341C15.4029 5.33395 15.2664 5.75399 15.0773 6.14253C15.0143 6.25804 14.9198 6.34204 14.8043 6.39455C14.5313 6.54156 14.2373 6.63607 13.9432 6.68858C13.1137 6.86709 12.2526 6.81459 11.444 6.53106C10.9715 6.34204 10.5514 6.04802 10.2154 5.68048C10.1839 5.63848 10.1419 5.59647 10.0999 5.56497C10.0474 5.54397 9.97386 5.52297 9.94235 5.56497C9.90035 5.60698 9.88985 5.65948 9.90035 5.71199C9.92135 5.77499 9.95285 5.8275 10.0054 5.8695C10.5094 6.42605 11.1605 6.80409 11.885 6.9721C12.7566 7.18212 13.6597 7.15062 14.5103 6.87759C14.5628 6.86709 14.6048 6.84609 14.6573 6.82509C14.7098 6.80409 14.7623 6.78309 14.8148 6.77258C14.7203 6.9196 14.6258 7.05611 14.5313 7.19262C13.8802 8.07471 12.9666 8.71527 11.9165 9.0198C11.234 9.20881 10.5199 9.20881 9.83734 9.0198C8.69274 8.75727 7.62164 8.23222 6.70805 7.48665C6.41402 7.25563 6.162 6.9721 5.97298 6.65707C5.89948 6.54156 5.84697 6.40505 5.80497 6.26854C5.77346 6.15303 5.73146 6.07952 5.63695 6.05852L5.59495 6.03752ZM13.9957 3.28626C13.8592 3.28626 13.7227 3.28626 13.5967 3.32826C13.3867 3.34926 13.1977 3.43327 13.0296 3.55928C12.9246 3.62229 12.8931 3.7588 12.9561 3.85331C12.9771 3.89532 13.0191 3.92682 13.0611 3.93732C13.1242 3.96882 13.1977 4.00033 13.2712 4.02133C13.5967 4.09483 13.9327 4.10534 14.2583 4.05283C14.4263 4.03183 14.5943 3.97932 14.7518 3.91632C14.8673 3.87431 14.9408 3.7693 14.9408 3.64329C14.9408 3.51728 14.8253 3.47528 14.7413 3.42277C14.4998 3.32826 14.2478 3.27576 13.9957 3.28626ZM10.1524 4.7774C10.3309 4.7879 10.4884 4.65139 10.4989 4.48337V4.47287C10.4884 4.29435 10.3414 4.15784 10.1629 4.15784C9.99486 4.13684 9.83734 4.26285 9.81634 4.43087C9.79534 4.59888 9.92135 4.7564 10.0894 4.7774H10.1524ZM11.654 12.2331H11.3915C11.3705 12.2331 11.339 12.1911 11.3285 12.1596C11.2655 11.9181 11.213 11.666 11.1395 11.414C11.108 11.3195 11.066 11.225 11.0135 11.141C10.9715 11.0465 10.8559 11.015 10.7614 11.057C10.7299 11.0675 10.7089 11.0885 10.6879 11.12C10.5934 11.2355 10.5094 11.3615 10.4569 11.5085C10.3834 11.708 10.3099 11.9181 10.2574 12.1281C10.2259 12.2121 10.2049 12.2541 10.1104 12.2436H9.93185C9.93185 11.8866 9.96336 11.54 9.97386 11.162C9.90035 11.1935 9.83734 11.225 9.77434 11.267C9.65883 11.3615 9.55382 11.456 9.44881 11.5505C9.25979 11.7396 9.06027 11.9391 8.90276 12.1386C8.78725 12.2646 8.75574 12.2751 8.55622 12.2331L9.24929 11.057C9.02877 11.0255 8.82925 10.8785 8.73474 10.6684C8.68224 10.5319 8.68224 10.3744 8.73474 10.2274C8.73474 10.2799 8.75574 10.3324 8.77674 10.3849C8.82925 10.6159 9.06027 10.7735 9.30179 10.7105C9.31229 10.7105 9.3333 10.7 9.3438 10.7C9.4173 10.679 9.48031 10.6264 9.52231 10.5634C9.75334 10.1749 9.96336 9.82837 10.1839 9.45034C10.2049 9.38733 10.2784 9.35583 10.3414 9.37683C10.6984 9.45034 11.0555 9.45034 11.4125 9.37683C11.486 9.35583 11.57 9.32432 11.654 9.29282V12.2331ZM7.38011 13.6507C7.34861 13.7452 7.17009 13.7662 6.48753 13.7662C5.80497 13.7662 5.64745 13.7872 5.64745 13.8818C5.64745 13.9763 5.92048 14.0078 7.65314 14.0078C9.3858 14.0078 9.65883 14.0078 9.65883 13.8818C9.65883 13.7557 9.50131 13.7662 8.77674 13.7662C8.04168 13.7662 7.89466 13.7452 7.89466 13.6507C7.89466 13.5562 7.81065 13.5352 7.66364 13.5352C7.54813 13.5142 7.44312 13.5562 7.38011 13.6507ZM11.1395 13.6507C11.108 13.7347 10.982 13.7662 10.6984 13.7662C10.4149 13.7662 10.3099 13.7977 10.3099 13.8818C10.3099 13.9658 10.3939 14.0078 10.6354 14.0078C10.8139 14.0078 10.9504 14.0078 10.9504 14.0498C10.8874 14.2283 10.8034 14.4068 10.7089 14.5748C10.6144 14.7533 10.5304 14.9424 10.4674 15.1314C10.4674 15.1839 10.7614 15.2154 11.234 15.2154H12.0005V15.8559C12.0005 16.4125 11.9795 16.5175 11.843 16.591C11.759 16.633 11.7065 16.717 11.6855 16.8115C11.6855 16.99 12.1791 16.8535 12.3891 16.612C12.5466 16.444 12.5676 16.318 12.5676 15.8139V15.2154H13.3657C14.0167 15.2154 14.1743 15.1944 14.1743 15.0999C14.1743 15.0054 14.0167 14.9844 13.4077 14.9634L12.6201 14.9319L12.5571 14.6063C12.5361 14.2808 12.5256 14.2703 12.2526 14.2703C11.9795 14.2703 11.9795 14.2703 11.9795 14.6273V14.9844H11.591C11.444 14.9949 11.297 14.9739 11.15 14.9319C11.171 14.7638 11.234 14.5958 11.318 14.4488L11.528 14.0183H12.9141C14.0902 14.0183 14.3003 14.0183 14.3003 13.8923C14.3003 13.7662 14.1007 13.7767 12.9771 13.7767C11.8535 13.7767 11.6645 13.7767 11.696 13.6612C11.7275 13.5457 11.696 13.5457 11.465 13.5457C11.234 13.5457 11.171 13.5877 11.1395 13.6612V13.6507ZM5.78396 14.7008C5.77346 14.8583 5.77346 15.0264 5.78396 15.1839C6.05699 15.2154 6.33002 15.2259 6.61354 15.2154H7.38011V15.6459C7.38011 16.2655 7.29611 16.5595 7.13859 16.612C7.05458 16.633 6.99158 16.7065 6.98108 16.7905C6.98108 16.969 7.44312 16.8745 7.67414 16.633C7.83166 16.486 7.86316 16.3915 7.86316 15.8349V15.2049H9.46981V14.2388H5.81547L5.78396 14.7008ZM8.99727 14.7008L8.97626 14.9213H6.33002L6.30901 14.7008L6.27751 14.4803H9.01827L8.99727 14.7008ZM6.08849 15.8559C6.01499 16.1185 5.90998 16.381 5.78396 16.6225L5.62645 16.885H5.79447C5.98348 16.885 6.37202 16.402 6.61354 15.8769C6.82356 15.4359 6.80256 15.3624 6.49803 15.3624C6.1935 15.3624 6.23551 15.3624 6.08849 15.8559ZM8.52472 15.4674C8.65073 15.8874 8.85025 16.276 9.12328 16.6225C9.21779 16.738 9.3438 16.8325 9.48031 16.8745C9.61682 16.8745 9.61682 16.8535 9.43831 16.528C9.30179 16.2865 9.20729 16.024 9.15478 15.7614C9.06027 15.3729 9.04977 15.3414 8.76624 15.3414C8.57723 15.3414 8.50372 15.3834 8.50372 15.4569L8.52472 15.4674ZM10.8349 15.4044C10.7929 15.5304 10.7614 15.6564 10.7404 15.7929C10.6879 16.045 10.6039 16.297 10.4779 16.528C10.3309 16.822 10.3099 16.9165 10.4044 16.9165C10.6249 16.9165 11.192 16.129 11.3705 15.5724C11.423 15.4149 11.402 15.3939 11.1395 15.3939C10.9925 15.3939 10.8454 15.4149 10.8244 15.4464L10.8349 15.4044ZM13.1032 15.3834C13.1557 15.5409 13.2187 15.6984 13.2922 15.8559C13.5022 16.3285 13.9432 16.8745 14.1112 16.8745C14.2793 16.8745 14.2583 16.8325 14.0797 16.591C13.9642 16.381 13.8697 16.15 13.7962 15.9189C13.6597 15.4359 13.6492 15.4149 13.3762 15.3939H13.0821L13.1032 15.3834Z",fill:"white"}))},taobao:function(t){var e=t.width,n=t.height;return(0,w.tZ)("svg",(0,L.Z)({width:void 0===e?"20":e,height:void 0===n?"20":n,viewBox:"0 0 20 20",fill:"none"},t),(0,w.tZ)("rect",{width:"20",height:"20",rx:"10",fill:"url(#taobao_linear)"}),(0,w.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.98534 4.51663C8.56471 4.67929 9.14261 4.84152 9.74546 5.01076C9.60093 5.29335 9.46111 5.56673 9.30772 5.86675C9.5272 5.80989 9.72485 5.75744 9.92314 5.70753C11.0549 5.42268 12.198 5.21103 13.3703 5.22297C14.1411 5.2308 14.898 5.32996 15.5947 5.69319C16.1319 5.97325 16.5625 6.36462 16.7299 6.96459C16.8227 7.29699 16.8737 7.647 16.8953 7.99208C16.9481 8.83475 17.0109 9.67973 16.9984 10.5227C16.9857 11.3745 16.9396 12.2327 16.8137 13.074C16.6388 14.2426 15.9198 14.9316 14.7625 15.1614C13.8395 15.3448 12.0392 15.0494 12.0174 15.0443C11.9957 15.0392 12.1075 14.3656 12.1909 14.0293C12.2465 13.805 12.4841 13.9334 12.7202 14.0628L12.8083 14.1107C12.8956 14.1572 12.9795 14.1978 13.0503 14.2138C13.408 14.2946 13.7616 14.2739 14.107 14.1616C14.6701 13.9783 15.0141 13.4554 15.0135 12.7997C15.0118 11.0896 15.01 9.37946 15.0056 7.66937C15.0053 7.5448 14.9941 7.41834 14.9705 7.29612C14.8415 6.62916 14.4475 6.25129 13.7779 6.12918C13.1662 6.01761 12.5619 6.0888 11.9699 6.2299C11.3628 6.3746 10.7679 6.57007 10.1678 6.74408C10.1379 6.75278 10.11 6.76851 10.0485 6.79505C10.3072 6.86764 10.5348 6.93144 10.7768 6.99928C10.6439 7.35036 10.4061 7.61775 10.1769 7.92376H14.4378V8.80198H12.0326C12.0326 9.14949 12.0319 9.47817 12.033 9.80688C12.0333 9.90554 12.1111 9.88067 12.1659 9.88078C12.7514 9.88217 13.337 9.88167 13.9225 9.88167H14.4275C14.4275 10.1542 14.4304 10.4126 14.4227 10.6706C14.422 10.6948 14.3545 10.7356 14.317 10.7369C14.122 10.7437 13.9267 10.7403 13.7315 10.7403C13.2203 10.7403 12.7091 10.7434 12.198 10.7381C12.0766 10.7368 12.0259 10.7628 12.028 10.8985C12.0358 11.4003 12.031 11.9023 12.0314 12.4041C12.0314 12.4494 12.0355 12.4947 12.0396 12.5797C12.2527 12.4845 12.4488 12.4076 12.6351 12.3116C13.038 12.104 13.036 12.1 12.9174 11.6655C12.8833 11.5408 12.8495 11.416 12.8121 11.2784C13.1857 11.1622 13.5555 11.0471 13.9404 10.9272C14.2548 11.6951 14.5665 12.4563 14.8844 13.2327C14.4171 13.4272 13.9617 13.6168 13.4957 13.8108C13.411 13.5022 13.3305 13.2087 13.2489 12.9116C13.0277 13.043 12.8186 13.1796 12.5986 13.2956C11.9007 13.6636 11.1518 13.8702 10.3692 13.9367C9.87058 13.9791 9.36798 13.994 8.86738 13.9901C7.95718 13.9831 7.34524 13.4135 7.23542 12.5056C7.1888 12.1202 7.1941 11.7374 7.25902 11.3544C7.27293 11.2724 7.31228 11.2437 7.38812 11.2438L8.96356 11.2453C8.97644 11.2453 8.98935 11.2523 9.02231 11.2619C9.00566 11.4524 8.98199 11.6444 8.97421 11.8369C8.9681 11.9889 8.96794 12.1436 8.98974 12.2935C9.01749 12.4842 9.12627 12.639 9.31196 12.6979C9.53392 12.7684 9.76598 12.8071 10.0135 12.8642V10.7405H7.57741V9.87891H8.33968C8.07156 9.64348 7.83646 9.43699 7.59573 9.22562C8.12455 8.63629 8.53326 7.97399 8.91891 7.29601C8.92954 7.27733 8.93581 7.25619 8.93414 7.22326C8.85952 7.26297 8.78133 7.29487 8.70217 7.32457L8.54332 7.38272C8.33187 7.46077 8.12591 7.54984 7.97491 7.7564C7.77325 8.03232 7.522 8.27241 7.28732 8.5233C7.25846 8.55414 7.18158 8.5801 7.15141 8.56359C6.76968 8.35479 6.39245 8.13778 6.00739 7.91905C7.00353 6.97753 7.52864 5.77571 7.98534 4.51663ZM4.37996 7.42292C4.61626 7.60089 4.8559 7.76114 5.07207 7.94845C5.4998 8.31904 5.92639 8.69248 6.33131 9.08751C6.72452 9.47112 6.78155 9.97108 6.70815 10.4856C6.58716 11.3337 6.27532 12.1201 5.90283 12.8863C5.80153 13.0947 5.6674 13.3755 5.5302 13.6643L5.44775 13.838C5.17328 14.4169 4.91036 14.9764 4.8972 15.0014C4.05618 14.4762 3.42378 14.0812 3 13.8166C3.22531 13.6015 3.44605 13.3961 3.66088 13.1846C4.23702 12.6176 4.81271 12.0497 5.30025 11.4013C5.46252 11.1855 5.61759 10.9623 5.67004 10.6914C5.76042 10.2244 5.54286 9.88458 5.17661 9.63877C4.72219 9.33387 4.25004 9.05544 3.78567 8.7654C3.72332 8.7265 3.66158 8.68665 3.58777 8.63975C3.85164 8.23447 4.1112 7.83571 4.37996 7.42292ZM9.5042 8.80645C9.43828 8.81091 9.35992 8.84144 9.31335 8.88689C9.03068 9.1624 8.75679 9.44686 8.4766 9.7249C8.43535 9.76581 8.37607 9.78851 8.32515 9.81966L8.36798 9.87177H10.0144V8.80268C9.83731 8.80268 9.67011 8.79515 9.5042 8.80645Z",fill:"white"}),(0,w.tZ)("path",{d:"M6.38895 5.69763C6.38781 5.04102 5.85116 4.50409 5.19203 4.50002C4.52979 4.496 3.99194 5.03608 3.99249 5.70466C3.99302 6.37831 4.5212 6.90755 5.19195 6.90654C5.85685 6.90554 6.39012 6.36696 6.38895 5.69763Z",fill:"#FDEB4F"}),(0,w.tZ)("defs",null,(0,w.tZ)("linearGradient",{id:"taobao_linear",x1:"20",y1:"4.1352",x2:"1.46101e-07",y2:"15.8648",gradientUnits:"userSpaceOnUse"},(0,w.tZ)("stop",{stopColor:"#FF8800"}),(0,w.tZ)("stop",{offset:"1",stopColor:"#FF5000"}))))},zhihu:tp,zhi_goods:tp,zhiGoods:tp},tv=J((0,r.forwardRef)(function(t,e){var n=t.id,o=t.goods,a=t.goodsExtra,l=t.ADTag,c=o||{},d=c.title,u=c.price,f=c.goodsImg,p=c.source,h=c.skuId,v=c.productType,m=!s()(u),C=u||{},y=C.price,Z=C.prefix,b=C.suffix,_=(a||{}).multipleGoods,k=(null==_?void 0:_.multipleSource)||[],S=th[k[0]||"zhi_goods"];return(0,r.useEffect)(function(){g.Z.trackCardShow(null,{id:10329,path:[{module_name:"".concat(n,"_").concat(h,"_").concat(p,"_").concat(v)}]})},[]),(0,w.tZ)("div",{className:"PolymericCard",ref:e,onClick:function(){g.Z.trackEvent(null,{id:10330,action:"OpenUrl",path:[{module_name:"".concat(n,"_").concat(h,"_").concat(p,"_").concat(v)}]})}},(0,w.tZ)("div",{className:"PolymericCard-imageBox"},(0,w.tZ)("img",{className:"PolymericCard-image",src:null==f?void 0:f.imgUrl,alt:""}),(0,w.tZ)("div",{className:"PolymericCard-tag"},(0,w.tZ)("div",{className:"PolymericCard-tag-ADTag"},l))),(0,w.tZ)("div",{className:"PolymericCard-main"},(0,w.tZ)("div",{className:"PolymericCard-title"},d),(0,w.tZ)("div",{className:"PolymericCard-tool"},m&&(0,w.tZ)(E,{isPromo:!0,price:y,prefix:Z,suffix:b}),!!k.length&&(0,w.tZ)("div",{className:"PolymericCard-sources"},k.length<=2?k.map(function(t){var e=th[t];return e?(0,w.tZ)(e,{key:t,className:"PolymericCard-sourceLogo"}):null}):(0,w.tZ)(i().Fragment,null,(0,w.tZ)(S,{className:"PolymericCard-sourceLogo"}),(0,w.tZ)("span",{className:"PolymericCard-sourceLength",style:{display:k.length>2?"inline-flex":"none"}},k.length-1)),(0,w.tZ)(x.N,{size:24,center:!0,css:function(t){var e;return{color:null===(e=t.colors)||void 0===e?void 0:e.GRD10A}}})))))})),tm="广告",tg=function(t,e){var n=(0,o._)((0,r.useState)({}),2),i=n[0],a=n[1],l=(0,o._)((0,r.useState)({}),2),c=l[0],v=l[1],m=(0,f.Z)().ZhihuHybrid,g=t.component,C=void 0===g?"a":g,y=t.className,x=t.id,Z=t.scenes,b=void 0===Z?h.eQ.Content:Z,_=t.position,k=void 0===_?h.uL.Content:_,E=t.fetcherOptions,S=t.refetchKey,L=t.originalData,N=t.originalBlockText,I=void 0===N?"":N,T=t.isAuthor,P=void 0===T||T,R=t.getUrl,A=t.onClick,M=t.onMouseDown,B=t.onData,z=t.isMiniContent,F=void 0!==z&&z;(0,r.useEffect)(function(){if(null!==S){if(L&&!s()(L[x])){a((0,d.camelizeKeys)(L[x])),B&&B((0,d.camelizeKeys)(L[x]));return}if(!F){var t=R?R(x):"/api/v4/mcn/v2/linkcard/".concat(x,"?scenes=").concat(b);(0,p._)(t,E).then(function(t){a((0,d.camelizeKeys)((null==t?void 0:t.data)||{})),B&&B((0,d.camelizeKeys)((null==t?void 0:t.data)||{}))}).catch(function(){})}}},[x,b,a,B,S,R,E,L,F]);var D=i.cardType,O=void 0===D?h.WK.CPSCommonCard:D,H=i.goods,G=void 0===H?{}:H,U=i.goodsExtra,V=void 0===U?{}:U,W=i.status,j=void 0===W?{}:W,K=i.bottomInfo,X=i.tags,Y=i.promoInfo,q=i.attachedInfoBytes,$=i.trackUrl,J=G||{},te=J.productType,tn=J.goodsUrl;(0,r.useEffect)(function(){i&&m&&u.Z.supportsAction("ad/getContentSign").then(function(t){t&&(0,u.Z)("ad/getContentSign").dispatch().then(function(t){var e=t.plugcb,n={};try{var o=new URL(e).searchParams;n.utm_division=["cid","adid","zoneid","sid"].map(function(t){return o.get(t)||""}).join("_"),n.utm_campaign=o.get("adsource")||""}catch(t){n.utm_division="___",n.utm_campaign=""}v(n)}).catch(function(){})})},[i,m]);var to=!!j[h.Ow.Fold]&&!P,tr=!1;if(s()(i)||to)return null;var ti=!!j[h.Ow.Fold]&&P;return(j[h.Ow.Invalid]&&(k===h.uL.Editor||te===h.fY.RedPacket)&&(tr=!0),O===h.WK.CPSCommonCard)?(0,w.tZ)(Q,{ref:e,ADTag:tm,component:C,className:y,position:k,scenes:b,utmInfo:c,trackInfo:{blockText:I||"goodsConsumptionCard_cpsCommonCard",trackExtra:{attachedInfoBytes:q,link:{url:null==tn?void 0:tn.url},configMap:Object.assign({},m?c:{})}},id:x,isInvalid:tr,isFolded:ti,goods:G,tags:X,bottomInfo:K,goodsExtra:V,promoInfo:Y||{},onClick:A,onMouseDown:M,trackUrl:$}):O===h.WK.ZhiGoodsCard?(0,w.tZ)(tt,{ref:e,ADTag:tm,component:C,className:y,position:k,scenes:b,utmInfo:c,trackInfo:{blockText:"goodsConsumptionCard_zhiGoodsCard",trackExtra:{attachedInfoBytes:q,link:{url:null==tn?void 0:tn.url},configMap:Object.assign({},m?c:{})}},id:x,isInvalid:tr,isFolded:ti,goods:G,tags:X,bottomInfo:K,goodsExtra:V,promoInfo:Y||{},onMouseDown:M,trackUrl:$}):O===h.WK.RedPacketCard?(0,w.tZ)(tc,{ref:e,ADTag:tm,component:C,className:y,position:k,trackInfo:{blockText:"goodsConsumptionCard_redPacketCard",trackExtra:{attachedInfoBytes:q,link:{url:null==tn?void 0:tn.url},configMap:Object.assign({},m?c:{})}},utmInfo:c,id:x,isInvalid:tr,isFolded:ti,goods:G,goodsExtra:V,onClick:A,onMouseDown:M,trackUrl:$}):O===h.WK.CPSMeituanCard?(0,w.tZ)(tl,{ref:e,ADTag:tm,component:C,className:y,position:k,trackInfo:{blockText:"goodsConsumptionCard_cpsMeituanCard",trackExtra:{attachedInfoBytes:q,link:{url:null==tn?void 0:tn.url},configMap:Object.assign({},m?c:{})}},utmInfo:c,id:x,isInvalid:tr,isFolded:ti,goods:G,goodsExtra:V,onMouseDown:M,trackUrl:$}):O===h.WK.EducationCard?(0,w.tZ)(tf,{ref:e,ADTag:tm,component:C,className:y,position:k,trackInfo:{blockText:I||"goodsConsumptionCard_educationCard",trackExtra:{attachedInfoBytes:q,link:{url:null==tn?void 0:tn.url},configMap:Object.assign({},m?c:{})}},utmInfo:c,id:x,isInvalid:tr,isFolded:ti,goods:G,goodsExtra:V,onMouseDown:M,trackUrl:$}):O===h.WK.PolymericCard?(0,w.tZ)(tv,{ref:e,ADTag:tm,component:C,className:y,position:k,scenes:b,utmInfo:c,trackInfo:{blockText:"goodsConsumptionCard_polymericCard",trackExtra:{attachedInfoBytes:q,link:{url:null==tn?void 0:tn.url},configMap:Object.assign({},m?c:{})}},id:x,isInvalid:tr,isFolded:ti,isPolymericCard:!0,goods:G,tags:X,bottomInfo:K,goodsExtra:V,promoInfo:Y||{},onClick:A,onMouseDown:M,trackUrl:$}):null};tg.prototype={id:l().number,scenes:l().oneOf([0,1,2,3]),fetcherOptions:l().object,position:l().oneOf(["editor","content"]),originalData:l().object,isAuthor:l().bool,getUrl:l().func,onClick:l().func};var tC=(0,r.forwardRef)(tg)},56270:function(t,e,n){"use strict";n.d(e,{T4:function(){return i},c5:function(){return r}});var o=function(t){return t>=10?String(t):"0".concat(t)},r=function(t){var e=0,n="00",r="00",i="00";return t<=0?{d:e,h:n,m:r,s:i}:(t>172800?(e=Math.floor(t/86400),n=Math.floor(t%86400/3600),r=Math.floor(t%86400%3600/60),i=Math.floor(t%86400%3600%60)):(n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=Math.floor(t%3600%60)),{d:e,h:o(n),m:o(r),s:o(i)})};function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.trimZero,o=e.onlyKeepUnit,r=String(t).padStart(2,"0").slice(-2);if(void 0!==o&&o){var i=t/100;return i<1e3?"".concat(Math.floor(i),".").concat(r):"".concat(Math.floor(i))}return void 0!==n&&n&&"00"===r?"".concat(Math.floor(t/100)):"".concat(Math.floor(t/100),".").concat(r)}},70617:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var o=n(20857),r=n(22107),i=n(94707),a=n(86325),l=n(49899),c=n(85626),s=n(87363),d=n.n(s),u=n(61533),f=n(15030),p=n(15697),h=n.n(p);function v(t,e){t&&(t.focus(e),(0,f._)(t,HTMLInputElement)&&t.select())}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},o=n(h()(e)),r=o.length;if(r){var i=o.indexOf(document.activeElement);-1===i?("prev"===t&&v(o[r-1]),"next"===t&&v(o[0])):("prev"===t&&v(o[(i-1+r)%r]),"next"===t&&v(o[(i+1)%r]))}}var g=n(39413),C=[],y=function(t){(0,a._)(n,t);var e=(0,c._)(n);function n(){for(var t,i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return(0,r._)(this,n),(t=e.call.apply(e,[this].concat((0,l._)(a)))).handleKeyDown=function(e){if(t.isTopLayer()){var n=t.props.onKeyDown;if(n&&n(e),!e.defaultPrevented&&e.keyCode===g.V.TAB){e.preventDefault();var r=(0,u.findDOMNode)((0,o._)(t));m(e.shiftKey?"prev":"next",r,function(t){return t.filter(function(t){return"true"===t.contentEditable||!t.closest("[contentEditable]")})})}}},t}return(0,i._)(n,[{key:"componentDidMount",value:function(){C.push(this),window.addEventListener("keydown",this.handleKeyDown,!0),this.enterFocusZone()}},{key:"componentWillUnmount",value:function(){C.splice(C.indexOf(this),1),window.removeEventListener("keydown",this.handleKeyDown,!0),this.leaveFocusZone()}},{key:"enterFocusZone",value:function(){var t=this;this.prevActiveElement=document.activeElement,this.timeout=window.setTimeout(function(){var e=(0,u.findDOMNode)(t);e&&!e.contains(document.activeElement)&&m("next",e)},100)}},{key:"leaveFocusZone",value:function(){clearTimeout(this.timeout),this.prevActiveElement&&!this.prevActiveElement.closest("[contentEditable]")&&v(this.prevActiveElement)}},{key:"isTopLayer",value:function(){return C[C.length-1]===this}},{key:"render",value:function(){return s.Children.only(this.props.children)}}]),n}(d().Component)},51924:function(t,e,n){"use strict";n.d(e,{Z:function(){return E}});var o,r=n(22107),i=n(94707),a=n(86325),l=n(49899),c=n(85626),s=n(14168),d=n.n(s),u=n(87363),f=n(61533),p=n(82644),h=n(25628),v=n.n(h),m=n(72137),g=n(39413),C=n(70617),y=n(44610),x=n(87462),Z=n(63366),b=n(41402),_=function(t){var e=t.children,n=t.className,o=t.direction,r=(0,Z.Z)(t,["children","className","direction"]);return(0,b.tZ)("div",(0,x.Z)({className:v()("ModalButtonGroup",n,"ModalButtonGroup--".concat(o))},r),e)};_.defaultProps={direction:"vertical"},_.propTypes={children:d().node,direction:d().oneOf(["vertical","horizontal"])};var w=[],k=function(t){(0,a._)(n,t);var e=(0,c._)(n);function n(){for(var t,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(0,r._)(this,n),(t=e.call.apply(e,[this].concat((0,l._)(i)))).state={transparent:!1},t.handleKeydown=function(e){var n=t.props,o=n.hotKeyClosable,r=n.onClose;e.keyCode===g.V.ESCAPE&&o&&r&&r(e)},t.handleBackdropClick=function(e){var n=t.props,o=n.maskClosable,r=n.onClose;o&&r&&r(e)},t.handleButtonClick=function(e){var n=t.props.onClose;n&&n(e)},t}return(0,i._)(n,[{key:"componentDidMount",value:function(){this.props.children&&this.handleShow()}},{key:"componentDidUpdate",value:function(t){var e=t.children,n=this.props.children;!e&&n?this.handleShow():e&&!n&&this.handleHide()}},{key:"componentWillUnmount",value:function(){this.props.children&&this.handleHide()}},{key:"handleShow",value:function(){var t=w[w.length-1];t&&t.setState({transparent:!0}),w.push(this),w.length>0&&(clearTimeout(o),m.Cp())}},{key:"handleHide",value:function(){w.pop();var t=w[w.length-1];t&&t.setState({transparent:!1}),w.length<=0&&(o=setTimeout(function(){m.$Z()},300))}},{key:"render",value:function(){var t=this.props,e=t.size,n=t.spread,o=t.title,r=t.subtitle,i=t.footer,a=t.closeButton,l=void 0===a?(0,b.tZ)("div",{className:"ModalWindow-closeButton",onClick:this.handleButtonClick},(0,b.tZ)(p.HN,{className:"ModalWindow-closeIcon"})):a,c=t.buttonGroupOnly,s=t.className,d=t.children,u=t.onScroll,f=t.contentClassName,h=void 0===f?"":f,m=t.backDropClassName,g=void 0===m?"":m,x=this.state.transparent;return(0,b.tZ)(y.Z,{transitionName:"ModalWindow",timeout:300},d&&(0,b.tZ)(C.Z,{onKeyDown:this.handleKeydown},(0,b.tZ)("div",{className:v()("ModalWindow-wrapper",{"ModalWindow-wrapper--transparent":x})},(0,b.tZ)("div",{className:v()("ModalWindow-backdrop",g),onClick:this.handleBackdropClick}),(0,b.tZ)("div",{className:v()("ModalWindow","ModalWindow--".concat(e),s),tabIndex:0,onClick:function(t){t.preventDefault(),t.stopPropagation()}},(0,b.tZ)("div",{className:"ModalWindow-inner",onScroll:u},o&&(0,b.tZ)("h3",{className:v()("ModalWindow-title",{"ModalWindow-title--simple":!r&&c})},o),r&&(0,b.tZ)("div",{className:"ModalWindow-subtitle"},r),(0,b.tZ)("div",{className:v()("ModalWindow-content",{"ModalWindow-content--spread":n||"fullPage"===e&&!o&&!r},h)},d),i&&(0,b.tZ)("div",{className:"ModalWindow-footer"},i)),l))))}}]),n}(u.Component);k.propTypes={size:d().oneOf(["default","large","fullPage","small"]),spread:d().bool,title:d().node,subtitle:d().node,footer:d().node,closeButton:d().node,buttonGroupOnly:d().bool,hotKeyClosable:d().bool,maskClosable:d().bool,onClose:d().func,onScroll:d().func,contentClassName:d().string},k.defaultProps={size:"default",spread:!1,buttonGroupOnly:!1,hotKeyClosable:!0,maskClosable:!0},k.open=function(t){var e=document.createElement("div");document.body.appendChild(e);var n=!1,o=function(){n||(n=!0,r())};"function"==typeof t&&(t=t(o));var r=function(){(0,f.render)((0,u.cloneElement)(t,{children:null}),e),setTimeout(function(){(0,f.unmountComponentAtNode)(e),e.parentNode.removeChild(e)},300)};(0,f.render)(t.props.onClose?t:(0,u.cloneElement)(t,{onClose:o}),e)};var E=k},44610:function(t,e,n){"use strict";n.d(e,{Z:function(){return W}});var o,r,i,a,l,c,s,d,u,f=n(22107),p=n(94707),h=n(86325),v=n(49899),m=n(85626),g=n(87363),C=n.n(g),y=n(87462),x=n(63366),Z=n(94578);function b(t,e){return t.replace(RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var _=n(61533),w=n.n(_),k={disabled:!1},E=C().createContext(null),S="unmounted",L="exited",N="entering",I="entered",T="exiting",P=(o=C().Component,r=function(t,e){n=o.call(this,t,e)||this;var n,r,i=e&&!e.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(r=L,n.appearStatus=N):r=I:r=t.unmountOnExit||t.mountOnEnter?S:L,n.state={status:r},n.nextCallback=null,n},(0,Z.Z)(r,o),r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===S?{status:L}:null},(i=r.prototype).componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==N&&n!==I&&(e=N):(n===N||n===I)&&(e=T)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,n,o=this.props.timeout;return t=e=n=o,null!=o&&"number"!=typeof o&&(t=o.exit,e=o.enter,n=void 0!==o.appear?o.appear:e),{exit:t,enter:e,appear:n}},i.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===N?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===L&&this.setState({status:S})},i.performEnter=function(t){var e=this,n=this.props.enter,o=this.context?this.context.isMounting:t,r=this.props.nodeRef?[o]:[w().findDOMNode(this),o],i=r[0],a=r[1],l=this.getTimeouts(),c=o?l.appear:l.enter;if(!t&&!n||k.disabled){this.safeSetState({status:I},function(){e.props.onEntered(i)});return}this.props.onEnter(i,a),this.safeSetState({status:N},function(){e.props.onEntering(i,a),e.onTransitionEnd(c,function(){e.safeSetState({status:I},function(){e.props.onEntered(i,a)})})})},i.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:w().findDOMNode(this);if(!e||k.disabled){this.safeSetState({status:L},function(){t.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:T},function(){t.props.onExiting(o),t.onTransitionEnd(n.exit,function(){t.safeSetState({status:L},function(){t.props.onExited(o)})})})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,e.nextCallback=null,t(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:w().findDOMNode(this),o=null==t&&!this.props.addEndListener;if(!n||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=r[0],a=r[1];this.props.addEndListener(i,a)}null!=t&&setTimeout(this.nextCallback,t)},i.render=function(){var t=this.state.status;if(t===S)return null;var e=this.props,n=e.children,o=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,x.Z)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return C().createElement(E.Provider,{value:null},"function"==typeof n?n(t,o):C().cloneElement(C().Children.only(n),o))},r);function R(){}P.contextType=E,P.propTypes={},P.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:R,onEntering:R,onEntered:R,onExit:R,onExiting:R,onExited:R},P.UNMOUNTED=S,P.EXITED=L,P.ENTERING=N,P.ENTERED=I,P.EXITING=T;var A=function(t,e){return t&&e&&e.split(" ").forEach(function(e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=b(t.className,e):t.setAttribute("class",b(t.className&&t.className.baseVal||"",e))})},M=(a=C().Component,l=function(){for(var t,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=a.call.apply(a,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1];t.removeClasses(r,"exit"),t.addClass(r,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1];t.addClass(r,i?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1]?"appear":"enter";t.removeClasses(r,i),t.addClass(r,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,o="string"==typeof n,r=o?(o&&n?n+"-":"")+e:n[e],i=o?r+"-active":n[e+"Active"],a=o?r+"-done":n[e+"Done"];return{baseClassName:r,activeClassName:i,doneClassName:a}},t},(0,Z.Z)(l,a),(c=l.prototype).addClass=function(t,e,n){var o,r=this.getClassNames(e)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===n&&i&&(r+=" "+i),"active"===n&&t&&t.scrollTop,r&&(this.appliedClasses[e][n]=r,o=r,t&&o&&o.split(" ").forEach(function(e){var n,o;return n=t,o=e,void(n.classList?n.classList.add(o):(n.classList?o&&n.classList.contains(o):-1!==(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+o+" "))||("string"==typeof n.className?n.className=n.className+" "+o:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+o)))}))},c.removeClasses=function(t,e){var n=this.appliedClasses[e],o=n.base,r=n.active,i=n.done;this.appliedClasses[e]={},o&&A(t,o),r&&A(t,r),i&&A(t,i)},c.render=function(){var t=this.props,e=(t.classNames,(0,x.Z)(t,["classNames"]));return C().createElement(P,(0,y.Z)({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},l);M.defaultProps={classNames:""},M.propTypes={};var B=n(97326);function z(t,e){var n=Object.create(null);return t&&g.Children.map(t,function(t){return t}).forEach(function(t){n[t.key]=e&&(0,g.isValidElement)(t)?e(t):t}),n}function F(t,e,n){return null!=n[e]?n[e]:t.props[e]}var D=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},O=(s=C().Component,d=function(t,e){var n,o=(n=s.call(this,t,e)||this).handleExited.bind((0,B.Z)(n));return n.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},n},(0,Z.Z)(d,s),(u=d.prototype).componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},u.componentWillUnmount=function(){this.mounted=!1},d.getDerivedStateFromProps=function(t,e){var n,o,r=e.children,i=e.handleExited;return{children:e.firstRender?z(t.children,function(e){return(0,g.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:F(e,"appear",t),enter:F(e,"enter",t),exit:F(e,"exit",t)})}):(Object.keys(o=function(t,e){var n,o=function(n){return n in e?e[n]:t[n]};t=t||{},e=e||{};var r=Object.create(null),i=[];for(var a in t)a in e?i.length&&(r[a]=i,i=[]):i.push(a);var l={};for(var c in e){if(r[c])for(n=0;n<r[c].length;n++){var s=r[c][n];l[r[c][n]]=o(s)}l[c]=o(c)}for(n=0;n<i.length;n++)l[i[n]]=o(i[n]);return l}(r,n=z(t.children))).forEach(function(e){var a=o[e];if((0,g.isValidElement)(a)){var l=e in r,c=e in n,s=r[e],d=(0,g.isValidElement)(s)&&!s.props.in;c&&(!l||d)?o[e]=(0,g.cloneElement)(a,{onExited:i.bind(null,a),in:!0,exit:F(a,"exit",t),enter:F(a,"enter",t)}):c||!l||d?c&&l&&(0,g.isValidElement)(s)&&(o[e]=(0,g.cloneElement)(a,{onExited:i.bind(null,a),in:s.props.in,exit:F(a,"exit",t),enter:F(a,"enter",t)})):o[e]=(0,g.cloneElement)(a,{in:!1})}}),o),firstRender:!1}},u.handleExited=function(t,e){var n=z(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState(function(e){var n=(0,y.Z)({},e.children);return delete n[t.key],{children:n}}))},u.render=function(){var t=this.props,e=t.component,n=t.childFactory,o=(0,x.Z)(t,["component","childFactory"]),r=this.state.contextValue,i=D(this.state.children).map(n);return(delete o.appear,delete o.enter,delete o.exit,null===e)?C().createElement(E.Provider,{value:r},i):C().createElement(E.Provider,{value:r},C().createElement(e,o,i))},d);O.propTypes={},O.defaultProps={component:"div",childFactory:function(t){return t}};var H=n(41402),G=function(t){(0,h._)(n,t);var e=(0,m._)(n);function n(t){var o;return(0,f._)(this,n),o=e.call(this,t),"undefined"!=typeof document&&(o.element=document.createElement("div")),o}return(0,p._)(n,[{key:"componentDidMount",value:function(){this.element&&document.body.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){this.element&&(document.body.appendChild(this.element),this.element=null)}},{key:"render",value:function(){if(this.element){var t=this.props,e=t.onRef,n=(0,x.Z)(t,["onRef"]);return(0,_.createPortal)((0,H.tZ)("div",(0,y.Z)({ref:e},n)),this.element)}return null}}]),n}(g.Component),U=function(t,e){t.addEventListener("transitionend",e,!1),t.addEventListener("transitioncancel",e,!1)},V=function(t){(0,h._)(n,t);var e=(0,m._)(n);function n(){for(var t,o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return(0,f._)(this,n),(t=e.call.apply(e,[this].concat((0,v._)(r)))).state={shouldMountPortal:!1,hasChildren:!1},t.handleExited=function(){t.setState(function(t){t:t.hasChildren})},t}return(0,p._)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.portalClassName,o=e.transitionName,r=e.onAfterEnter,i=e.timeout,a=e.children,l=this.state,c=l.shouldMountPortal,s=l.hasChildren,d={appear:"".concat(o,"-enter"),appearActive:"".concat(o,"-enter-active"),enter:"".concat(o,"-enter"),enterActive:"".concat(o,"-enter-active"),enterDone:"".concat(o,"-enter-done"),exit:"".concat(o,"-leave"),exitActive:"".concat(o,"-leave-active"),exitDone:"".concat(o,"-leave-done")};return c&&(0,H.tZ)(G,{className:n},(0,H.tZ)(O,null,s&&g.Children.map(a,function(e,n){return e&&(0,H.tZ)(M,{key:n,timeout:i,classNames:d,appear:!0,onExited:t.handleExited,onEntering:r,addEndListener:U},e)})))}}]),n}(g.Component);V.getDerivedStateFromProps=function(t,e){var n=g.Children.toArray(t.children).some(Boolean),o=e.hasChildren;return!o&&n?{shouldMountPortal:!0,hasChildren:n}:o&&!n?{hasChildren:n}:null};var W=V},39413:function(t,e,n){"use strict";n.d(e,{V:function(){return o}});var o={TAB:9,ESCAPE:27,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40}},76759:function(t,e,n){"use strict";var o=n(94009),r=n(87363),i=n(9478),a=n.n(i),l=n(17132),c=n.n(l);e.Z=function(t){var e=(0,o._)((0,r.useState)(t||{}),2),n=e[0],i=e[1];return(0,r.useEffect)(function(){(a()(t)||(null==t?void 0:t.iOS)===void 0)&&i(c()(navigator.userAgent)||{})},[]),n}},5655:function(t,e,n){"use strict";n.d(e,{_:function(){return o}});var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,Object.assign({credentials:"include",headers:{"X-Requested-With":"Fetch"}},e)).then(function(t){return t.json()})}},35829:function(t,e,n){"use strict";n.d(e,{R:function(){return v}});var o=n(17132),r=n.n(o),i=n(74135),a=n(87804),l=n(90270),c=n(20330),s={jingdong:{IOS:"6.0",ANDROID:"6.0"},taobao:{IOS:"6.15",ANDROID:"6.15"},pinduoduo:{IOS:"6.28",ANDROID:"6.29"},meituanhotel:{IOS:"6.37",ANDROID:"6.37"},suning:{IOS:"6.51",ANDROID:"6.51"},youzan:{IOS:"6.53",ANDROID:"6.53"}},d=n(82525),u=n(5655),f={iOS:"https://apps.apple.com/cn/app/id432274380",Android:"market://details?id=com.zhihu.android"},p=function(t){var e=t.callback,n=t.version,o=void 0===n?"8.33.0":n,i=t.isAlertPage,l=r()(navigator.userAgent);if(!l.Zhihu){e();return}var c=void 0!==i&&i&&l.Android?{title:"温馨提示",content:"您的客户端版本过低，请前往应用商店升至最新版",dismiss:"关闭"}:{title:"温馨提示",content:"当前客户端版本低，请升级客户端",affirm:"升级",dismiss:"取消"};a.Z.ready().then(function(){(0,a.Z)("base/getHybridConfig").dispatch().then(function(t){if(t){var n=t["x-app-version"],r=void 0===n?"":n;r&&r<o?(0,a.Z)("ui/showAlert").dispatch(c).then(function(t){"AFFIRM"===t.result&&(l.Android?(0,a.Z)("ad/eCommerceOpen").dispatch({deeplinkUrl:f.Android}):(0,a.Z)("base/openURL").dispatch({url:f.iOS}))}).catch(function(){}):e()}})},function(t){e()})},h=n(51753),v=function(t){var e,n=t.element,o=t.id,f=t.url,v=t.source,m=t.scenes,g=void 0===m?c.eQ.Content:m,C=t.utmInfo,y=void 0===C?{}:C,x=t.appSchemaIos,Z=void 0===x?"":x,b=t.appSchemaAndroid,_=void 0===b?"":b,w=t.isOpenPopup,k=void 0!==w&&w,E=t.extraInfo,S=void 0===E?{}:E,L=t.trackEvent,N=t.onClick,I=t.isAlertPage,T=t.trackUrl,P=t.zhiExtraData,R=T||{},A=R.click,M=void 0===A?[]:A;R.view;var B=r()(navigator.userAgent),z=B||{},F=z.Zhihu,D=z.ZhihuHybrid,O=z.iOS,H=z.Mobile,G=z.Tablet,U=z.Safari,V=[c.oN.zhihu,c.oN.zhiGoods,c.oN.zhiEducation].includes(v),W="https://www.zhihu.com/grapp/select/method?id=".concat(o),j=c.TP[v],K=s[j],X=(null==S?void 0:null===(e=S.configMap)||void 0===e?void 0:e.tempId)||"";if(V){var Y=f.replace("zh_nav_right=empty","zh_nav_right=share");(0,d.Y)(Y);return}if(!k&&(v===c.oN.jingdong||v===c.oN.youzan)){var q=new URLSearchParams(window.location.search),$=q.get("utmCampaign")||"",J=q.get("utmId")||"",Q=new URLSearchParams(Object.assign({},(0,i.decamelizeKeys)(Object.assign({scenes:g},y)),{utm_campaign:$,utm_id:J}));(0,u._)("/api/v4/mcn/linkcard/".concat(o,"/url?").concat(Q.toString())).then(function(t){var e=(0,i.camelizeKeys)(null==t?void 0:t.data)||{},n=e.appSchemaAndroid,r=e.appSchemaIos,l=e.traceId,s=e.url||f;if(l&&L&&L({block:"goodsCard_orderTrace",action:"OpenUrl",eventType:"Click",elementLocation:{type:"Block",moduleId:"goods_card_order_trace",text:"订单来源追踪",content:{id:l,type:"GoodsRecommend"}}},{link:{url:String(s)},configMap:{id:String(o),url:String(f),traceId:String(l),tempId:String(X)}}),(0,h.o)(M,P,l),v===c.oN.jingdong){(0,d.Y)(s,{hybridOpenAction:"mcn/openURL",params:{type:j,scenes:g,url:(O?r:n)||s,fallbackUrl:s}});return}if(v===c.oN.youzan){if(F||D){(0,u._)("/api/v4/me").then(function(t){"guest"!==((0,i.camelizeKeys)(null==t?void 0:t.data)||{}).userType?(0,a.Z)("base/openURL").dispatch({url:s}):(0,a.Z)("account/showLoginDialog").dispatch({next:location.href}).catch(function(t){(null==t?void 0:t.message)&&(0,a.Z)("ui/showToast").dispatch({text:null==t?void 0:t.message})})}).catch(function(){(0,a.Z)("base/openURL").dispatch({url:s})});return}(0,d.Y)(s)}}).catch(function(){});return}if((0,h.o)(M,P),F||D){if(k){var tt=(0,l.FI)(B,{IOS:"7.8.0",ANDROID:"7.4.0"})?O?"zhihu://goods/bottom_sheet_hybrid?height=627&url=".concat(encodeURIComponent(W)):"https://www.zhihu.com/goods/bottom_sheet_hybrid?height=627&url=".concat(encodeURIComponent(W)):W+"&zh_forcehybrid=1&zh_hide_nav_bar=true&zh_hide_tab_bar=true";(0,a.Z)("base/openURL").dispatch({url:tt});return}if(v===c.oN.taobao){p({callback:function(){return a.Z.supportsAction("mcn/openURL").then(function(t){if(!t||!j||!(0,l.FI)(B,K)){(0,a.Z)("base/openURL").dispatch({url:f});return}(0,a.Z)("mcn/openURL").dispatch({id:o,type:j,scenes:Number(g),url:(O?Z:_)||f,fallbackUrl:f})}).catch(function(){})},isAlertPage:void 0!==I&&I});return}a.Z.supportsAction("mcn/openURL").then(function(t){if(!t||!j||!(0,l.FI)(B,K)){(0,a.Z)("base/openURL").dispatch({url:f});return}(0,a.Z)("mcn/openURL").dispatch({id:o,type:j,scenes:Number(g),url:(O?Z:_)||f,fallbackUrl:f})}).catch(function(){})}else if(H||G)window.location.href=k?W:f;else{if(k){"function"==typeof N&&N(n,{id:o,url:f,source:v,scenes:g,utmInfo:y,appSchemaIos:Z,appSchemaAndroid:_});return}if((v===c.oN.pinduoduo||v===c.oN.suning&&(null==S?void 0:S.isSuningPingou))&&"function"==typeof N){N(n,{id:o,url:f,source:v,scenes:g,utmInfo:y,appSchemaIos:Z,appSchemaAndroid:_});return}U?window.open().location.href=f:window.open(f,"_blank")}}},51753:function(t,e,n){"use strict";n.d(e,{o:function(){return p}});var o,r=n(57045),i=n(87804),a=(o={os:"",pc:"",platform:0},function(t){if(t)return t.Android?(o.os="android",o.platform=1):t.iOS?(o.os="ios",o.platform=2):(o.os="pc",t.isAppleDevice?(o.pc="mac",o.platform=3):(o.pc="windows",o.platform=4)),o;if(o.os||"undefined"==typeof window)return o;var e=navigator.userAgent;return/iPhone|iPod|iPad/i.test(e)?(o.os="ios",o.platform=1):/android/i.test(e)?(o.os="android",o.platform=2):(o.os="pc",/Macintosh|OS X 10/i.test(e)?(o.pc="mac",o.platform=3):/Windows/i.test(e)&&(o.pc="windows",o.platform=4)),o}),l=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return function(n){return!e||t?t:n}},c=function(t,e){var n=e||{},o=n.cid,r=void 0===o?"":o,i=n.adid,a=void 0===i?"":i,c=n.zoneid,s=void 0===c?"":c,d=n.sid,u=void 0===d?"":d,f=n.ts,p=void 0===f?"":f,h=n.campaignid,v=void 0===h?"":h,m=n.os,g=void 0===m?0:m,C=n.cbed,y=void 0===C?"":C,x=n.mixinfo,Z=void 0===x?"":x,b=n.dynamictitle,_=void 0===b?"":b,w=n.traceId,k=void 0===w?"":w;return t.replace("__ZONEID__",l(s)).replace("__ADID__",l(a)).replace("__CREATIVEID__",l(r)).replace("__SESSIONID__",l(u)).replace("__TS__",l(p)).replace("__CAMPAIGNID__",l(v)).replace("__OS__",g).replace("__CBED__",l(y)).replace("__MIXINFO__",l(Z)).replace("__DYNAMICTITLE__",l(_)).replace("__TRACEID__",l(k))},s=function(t){if("string"!=typeof t||0===t.length)return{};var e=t.substr(t.indexOf("?")+1);return r.parse(e)},d=function(t){try{return JSON.parse(t)}catch(t){return{}}},u=function(t){if(!t)return{};var e=(d(t)||{}).parameters,n=s(void 0===e?"":e).plugcb,o=void 0===n?"":n;return o&&o.length?s(o):{}},f=function(t,e,n){var o=u(e),r=a().platform;t.forEach(function(t){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Promise.race([new Promise(function(e,n){var o=new Image;o.onload=e,o.addEventListener("error",n),o.src=t}).catch(function(t){console.warn("zhihu-advert request error: ",t)}),new Promise(function(t){return setTimeout(t,e)})])}(c(t,Object.assign({os:r,ts:parseInt(Date.now()/1e3),traceId:n},o)),500)})};function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"__TRACEID__";if(t&&(Array.isArray(t)||(t=[t]),t.length)){if(["android","ios"].includes(a().os)){i.Z.supportsAction("ad/sendContentPluginTracks").then(function(o){if(t=t.map(function(t){return t.replace("__TRACEID__",n)}),o){(0,i.Z)("ad/sendContentPluginTracks").dispatch({tracks:t}).catch(function(){f(t,e,n)});return}f(t,e,n)});return}f(t,e,n)}}},82525:function(t,e,n){"use strict";n.d(e,{Y:function(){return a}});var o=n(17132),r=n.n(o),i=n(87804),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.target,o=void 0===n?"_blank":n,a=e.hybridOpenAction,l=void 0===a?"base/openURL":a,c=e.params,s=void 0===c?{}:c;if("undefined"!=typeof window){var d=r()(navigator.userAgent)||{},u=d.Zhihu,f=d.ZhihuHybrid,p=d.Safari,h=d.Mobile;u||f?i.Z.supportsAction(l).then(function(e){if(!e){"base/openURL"===l?p?window.location.href=t:window.open(t,o):(0,i.Z)("base/openURL").dispatch({url:t});return}(0,i.Z)(l).dispatch(Object.assign({url:t},s)).catch(function(t){(null==t?void 0:t.message)&&(0,i.Z)("ui/showToast").dispatch({text:null==t?void 0:t.message})})}):h?window.location.href=t:p?window.location.href=t:window.open(t,o)}}},28753:function(t,e,n){"use strict";n.d(e,{Z:function(){return l},f:function(){return c}});var o=n(87363),r=n.n(o),i=n(30851),a=Object.assign;function l(t){var e;return r().createElement(i.Z,a(a({width:"24",height:"24",viewBox:"0 0 24 24"},t),{className:"function"==typeof(e=t.className)?e():"ZDI ZDI--ArrowDownSmall24"+(e?" "+e:"")}),r().createElement("path",{fillRule:"evenodd",d:"M17.776 10.517a.875.875 0 0 1-.248 1.212l-5.05 3.335a.875.875 0 0 1-.964 0L6.47 11.73a.875.875 0 1 1 .965-1.46l4.56 3.015 4.568-3.016a.875.875 0 0 1 1.212.248Z",clipRule:"evenodd"}))}function c(t){return r().createElement(l,a(a({},t),{className:function(){return"Zi Zi--ArrowDown"+(t.className?" "+t.className:"")}}))}},7753:function(t,e,n){"use strict";n.d(e,{ZP:function(){return l},xY:function(){return c}});var o=n(87363),r=n.n(o),i=n(30851),a=Object.assign;function l(t){var e;return r().createElement(i.Z,a(a({width:"16",height:"16",viewBox:"0 0 16 16"},t),{className:"function"==typeof(e=t.className)?e():"ZDI ZDI--ArrowRight16"+(e?" "+e:"")}),r().createElement("path",{fillRule:"evenodd",d:"M6.252 2.328a.75.75 0 0 1 1.04.213l3.334 5.05a.75.75 0 0 1 0 .826L7.292 13.46a.75.75 0 0 1-1.251-.828L9.1 8.004 6.04 3.367a.75.75 0 0 1 .212-1.039Z",clipRule:"evenodd"}))}function c(t){return r().createElement(l,a(a({},t),{className:function(){return"ZDI ZDI--Arrow12"+(t.className?" "+t.className:"")}}))}},50220:function(t,e,n){"use strict";n.d(e,{l:function(){return c}});var o=n(87363),r=n.n(o),i=n(30851),a=Object.assign;function l(t){var e;return r().createElement(i.Z,a(a({width:"24",height:"24",viewBox:"0 0 24 24"},t),{className:"function"==typeof(e=t.className)?e():"ZDI ZDI--ForbidFill24"+(e?" "+e:"")}),r().createElement("path",{fillRule:"evenodd",d:"M16.346 18.113a7.5 7.5 0 0 1-10.46-10.46l10.46 10.46Zm1.767-1.767L7.654 5.886a7.5 7.5 0 0 1 10.46 10.46ZM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Z",clipRule:"evenodd"}))}function c(t){return r().createElement(l,a(a({},t),{className:function(){return"Zi Zi--Ban"+(t.className?" "+t.className:"")}}))}},7629:function(t,e,n){"use strict";n.d(e,{GI:function(){return c},ZP:function(){return l},n:function(){return s}});var o=n(87363),r=n.n(o),i=n(30851),a=Object.assign;function l(t){var e;return r().createElement(i.Z,a(a({width:"24",height:"24",viewBox:"0 0 24 24"},t),{className:"function"==typeof(e=t.className)?e():"ZDI ZDI--Link24"+(e?" "+e:"")}),r().createElement("path",{fillRule:"evenodd",d:"M5.327 18.883a3.005 3.005 0 0 1 0-4.25l2.608-2.607a.75.75 0 1 0-1.06-1.06l-2.608 2.607a4.505 4.505 0 0 0 6.37 6.37l2.608-2.607a.75.75 0 0 0-1.06-1.06l-2.608 2.607a3.005 3.005 0 0 1-4.25 0Zm5.428-11.799a.75.75 0 0 0 1.06 1.06L14.48 5.48a3.005 3.005 0 0 1 4.25 4.25l-2.665 2.665a.75.75 0 0 0 1.061 1.06l2.665-2.664a4.505 4.505 0 0 0-6.371-6.372l-2.665 2.665Zm5.323 2.117a.75.75 0 1 0-1.06-1.06l-7.072 7.07a.75.75 0 0 0 1.061 1.06l7.071-7.07Z",clipRule:"evenodd"}))}function c(t){return r().createElement(l,a(a({},t),{className:function(){return"Zi Zi--Link"+(t.className?" "+t.className:"")}}))}function s(t){return r().createElement(l,a(a({},t),{className:function(){return"Zi Zi--InsertLink"+(t.className?" "+t.className:"")}}))}},51695:function(t,e,n){"use strict";n.d(e,{ZP:function(){return l},_N:function(){return c},yc:function(){return s}});var o=n(87363),r=n.n(o),i=n(30851),a=Object.assign;function l(t){var e;return r().createElement(i.Z,a(a({width:"24",height:"24",viewBox:"0 0 24 24"},t),{className:"function"==typeof(e=t.className)?e():"ZDI ZDI--PencilPaper24"+(e?" "+e:"")}),r().createElement("path",{d:"M4.352 6.804A2.554 2.554 0 0 1 6.905 4.25h6.072a.875.875 0 0 0 0-1.75H6.905a4.304 4.304 0 0 0-4.303 4.304v10.142a4.304 4.304 0 0 0 4.303 4.304h10.143a4.304 4.304 0 0 0 4.304-4.304v-6.071a.875.875 0 0 0-1.75 0v6.071a2.554 2.554 0 0 1-2.554 2.554H6.905a2.554 2.554 0 0 1-2.553-2.554V6.804Z"}),r().createElement("path",{d:"M20.595 4.731a.875.875 0 1 0-1.237-1.237l-7.763 7.762a.875.875 0 1 0 1.238 1.238l7.762-7.763Z"}))}function c(t){return r().createElement(l,a(a({},t),{className:function(){return"Zi Zi--WriteArticle"+(t.className?" "+t.className:"")}}))}function s(t){return r().createElement(l,a(a({},t),{className:function(){return"Zi Zi--EditSurround"+(t.className?" "+t.className:"")}}))}},78842:function(t,e,n){"use strict";n.d(e,{D:function(){return c}});var o=n(87363),r=n.n(o),i=n(30851),a=Object.assign;function l(t){var e;return r().createElement(i.Z,a(a({width:"24",height:"24",viewBox:"0 0 24 24"},t),{className:"function"==typeof(e=t.className)?e():"ZDI ZDI--PlayFill24"+(e?" "+e:"")}),r().createElement("path",{d:"M18.2 10.96a1.2 1.2 0 0 1 0 2.08L6.8 19.62a1.2 1.2 0 0 1-1.8-1.04V5.419A1.2 1.2 0 0 1 6.8 4.38l11.4 6.582Z"}))}function c(t){return r().createElement(l,a(a({},t),{className:function(){return"Zi Zi--Play"+(t.className?" "+t.className:"")}}))}},94845:function(t){"use strict";var e=function(t,e){if(!Number.isFinite(t))return null;var n=Math.abs(t),a=e&&e.thousandsSeparator||"",l=e&&e.unitSeparator||"",c=e&&void 0!==e.decimalPlaces?e.decimalPlaces:2,s=!!(e&&e.fixedDecimals),d=e&&e.unit||"";d&&i[d.toLowerCase()]||(d=n>=i.pb?"PB":n>=i.tb?"TB":n>=i.gb?"GB":n>=i.mb?"MB":n>=i.kb?"KB":"B");var u=(t/i[d.toLowerCase()]).toFixed(c);return s||(u=u.replace(r,"$1")),a&&(u=u.replace(o,a)),u+l+d},n=function(t){if("number"==typeof t&&!isNaN(t))return t;if("string"!=typeof t)return null;var e,n=a.exec(t),o="b";return n?(e=parseFloat(n[1]),o=n[4].toLowerCase()):(e=parseInt(t,10),o="b"),Math.floor(i[o]*e)};t.exports=function(t,o){return"string"==typeof t?n(t):"number"==typeof t?e(t,o):null},t.exports.format=e,t.exports.parse=n;var o=/\B(?=(\d{3})+(?!\d))/g,r=/(?:\.0*|(\.[^0]+)0+)$/,i={b:1,kb:1024,mb:1048576,gb:1073741824,tb:1099511627776,pb:0x4000000000000},a=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i},48887:function(t,e,n){var o,r,i,a,l,c,s,d,u,f,p=n(74185);o=function(){},r=function(t,e){for(var n=e.length,o=0;o<n;++o)c(t,e[o])},i=function(t,e){t[e]=!0},a=function(t,e){if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]")){t[e.toString()]=!0;return}for(var n in e)s.call(e,n)&&(t[n]=!!e[n])},l=function(t,e){for(var n=e.split(d),o=n.length,r=0;r<o;++r)t[n[r]]=!0},c=function(t,e){if(e){var n=void 0===e?"undefined":p._(e);"string"===n?l(t,e):Array.isArray(e)?r(t,e):"object"===n?a(t,e):"number"===n&&i(t,e)}},o.prototype=Object.create(null),s=({}).hasOwnProperty,d=/\s+/,u=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=new o;r(i,e);var a=[];for(var l in i)i[l]&&a.push(l);return a.join(" ")},t.exports?(u.default=u,t.exports=u):void 0===(f=(function(){return u}).apply(e,[]))||(t.exports=f)},68159:function(t,e,n){"use strict";n.d(e,{FP:function(){return s},Wn:function(){return f},aO:function(){return d}}),(r=a||(a={})).PLAY="event/dom/play",r.PLAYING="event/dom/playing",r.PAUSE="event/dom/pause",r.ENDED="event/dom/ended",r.TIMEUPDATE="event/dom/timeupdate",r.ERROR="event/dom/error",r.WAITING="event/dom/waiting",r.CANPLAY="event/dom/canplay",r.LOADEDDATA="event/dom/loadeddata",r.PROGRESS="event/dom/progress",(i=l||(l={})).QUALITY_CHANGE="event/player/quality-change",i.CHANGE_QUALITY_START="event/player/quality-change-start",i.CHANGE_QUALITY_SUCCESS="event/player/quality-change-success",i.CHANGE_QUALITY_FAIL="event/player/quality-change-fail",i.PLAYBACK_RATE_CHANGE="event/player/rate-change",i.REQUEST_PLAY="event/player/request-play",i.PLAY_REJECTED="event/player/play-rejected",i.REQUEST_PAUSE="event/player/request-pause",i.PLAY_COUNT="event/player/play-count",i.PLAY_FAILED="event/player/play-failed",i.ENTER_FULLSCREEN="event/player/enter-fullscreen",i.EXIT_FULLSCREEN="event/player/exit-fullscreen",i.ENTER_PAGE_FULLSCREEN="event/player/enter-page-fullscreen",i.EXIT_PAGE_FULLSCREEN="event/player/exit-page-fullscreen",i.ENTER_PIP="event/player/enter-pip",i.EXIT_PIP="event/player/exit-pip",i.SHOW_CONTROLLER="event/player/show-controller",i.HIDE_CONTROLLER="event/player/hide-controller",i.HOVER_PROGRESS_DOT="event/player/hover-progress-dot",i.LEAVE_PROGRESS_DOT="event/player/leave-progress-dot",i.SUBSCRIPTION_READY="event/player/subscription-ready";var o,r,i,a,l,c,s=Object.assign(Object.assign(Object.assign({},a),l),{DOM:a,PLAYER:l});(o=c||(c={})).PLAY="action/player/play",o.PAUSE="action/player/pause",o.SET_VOLUME="action/player/set-volume",o.ENTER_FULLSCREEN="action/player/enter-fullscreen",o.EXIT_FULLSCREEN="action/player/exit-fullscreen",o.ENTER_PAGE_FULLSCREEN="event/player/enter-page-fullscreen",o.EXIT_PAGE_FULLSCREEN="event/player/exit-page-fullscreen",o.ENTER_PIP="action/player/enter-pip",o.EXIT_PIP="action/player/exit-pip",o.TIME_UPDATE="action/player/time-update",o.SHOW_CONTROLLER="action/player/show-controller";var d=Object.assign(Object.assign({},c),{PLAYER:c}),u="griffith";function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=new Set;return{subscribeMessage:function(r,i){var a="function"==typeof r,l=a?r:i,c=a?void 0:r;function s(o){var r=o.origin,i="*"===e||e===r,s=o.data||{},d=s.from,f=s.id,p=s.payload;if(i&&d===u&&(!n||t===f)&&p){var h=p.name,v=p.data;if(!h||"function"!=typeof l)return;a?l(h,v,o.source):c===h&&l(v,o.source)}}window.addEventListener("message",s);var d={unsubscribe:function(){window.removeEventListener("message",s),o.delete(d)}};return o.add(d),d},dispatchMessage:function(n,o){for(var r,i=arguments.length,a=Array(i>2?i-2:0),l=2;l<i;l++)a[l-2]=arguments[l];null===(r=null==n?void 0:n.postMessage)||void 0===r||r.call(n,{from:u,id:t,payload:{name:o,data:a[0]}},e||"*")},dispose:function(){o.forEach(function(t){return t.unsubscribe()})}}}},9478:function(t,e,n){var o=n(90392),r=n(60607),i=n(67782),a=n(58116),l=n(61337),c=n(91714),s=n(23793),d=n(49329),u=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(l(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||d(t)||i(t)))return!t.length;var e=r(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(s(t))return!o(t).length;for(var n in t)if(u.call(t,n))return!1;return!0}},75554:function(t,e,n){"use strict";var o=n(74185),r=function(t){var e=new c,n=0|t;function o(t){try{return Promise.resolve(t.fn.apply(t.self,t.args)).then(r,i)}catch(t){i(t)}}function r(t){return a(),t}function i(t){throw a(),t}function a(){var t=e.shift();t?t.resolve(t):n=(0|n)+1}return function(t,a,c){return(0|n)!=0?(n=(0|n)-1,new Promise(function(e){e(t.apply(a,c))}).then(r,i)):new Promise(function(n){e.push(new l(n,t,a,c))}).then(o)}},i=function(t,e){var n=r(0|t);return function(){for(var t=Array(arguments.length),o=0;o<arguments.length;o++)t[o]=arguments[o];return n(e,this,t)}},a=function(t){var e=r(0|t);return function(t){if("function"!=typeof t)throw TypeError("Expected throat fn to be a function but got "+(void 0===t?"undefined":o._(t)));for(var n=Array(arguments.length-1),r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e(t,this,n)}},l=function(t,e,n,o){this.resolve=t,this.fn=e,this.self=n||null,this.args=o},c=function(){this._s1=[],this._s2=[],this._shiftBlock=this._pushBlock=Array(s),this._pushIndex=0,this._shiftIndex=0};t.exports=function(t,e){if("function"==typeof t){var n=e;e=t,t=n}if("number"!=typeof t)throw TypeError("Expected throat size to be a number but got "+(void 0===t?"undefined":o._(t)));if(void 0!==e&&"function"!=typeof e)throw TypeError("Expected throat fn to be a function but got "+(void 0===e?"undefined":o._(e)));return"function"==typeof e?i(0|t,e):a(0|t)},t.exports.default=t.exports;var s=64;c.prototype.push=function(t){this._pushIndex===s&&(this._pushIndex=0,this._s1[this._s1.length]=this._pushBlock=Array(s)),this._pushBlock[this._pushIndex++]=t},c.prototype.shift=function(){if(this._shiftIndex===s){this._shiftIndex=0;var t=this._s2;if(0===t.length){var e=this._s1;if(0===e.length)return;this._s1=t,t=this._s2=e.reverse()}this._shiftBlock=t.pop()}if(this._pushBlock!==this._shiftBlock||this._pushIndex!==this._shiftIndex){var n=this._shiftBlock[this._shiftIndex];return this._shiftBlock[this._shiftIndex++]=null,n}}},29404:function(t,e,n){"use strict";var o=n(87363),r=n.n(o)().createContext(null);e.Z=r},81622:function(t,e,n){"use strict";var o=n(87363),r=n(41402);function i(t){var e=t.className,n=t.children,i=t.onEvent,a=(0,o.useCallback)(function(t){i(t)||t.stopPropagation()},[i]);return(0,r.tZ)("div",{className:e,onBeforeInput:a,onBlur:a,onCompositionEnd:a,onCompositionStart:a,onCopy:a,onCut:a,onDragEnd:a,onDragEnter:a,onDragLeave:a,onDragOver:a,onDragStart:a,onDrop:a,onFocus:a,onInput:a,onKeyDown:a,onKeyPress:a,onKeyUp:a,onMouseUp:a,onPaste:a,onSelect:a,onClick:a},n)}i.defaultProps={onEvent:function(){return!1}},e.Z=i},97457:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var o=n(22107),r=n(94707),i=n(86325),a=n(49899),l=n(85626),c=n(14168),s=n.n(c),d=n(87363),u=n(59189),f=n(41402),p=function(t){(0,i._)(n,t);var e=(0,l._)(n);function n(){for(var t,r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return(0,o._)(this,n),(t=e.call.apply(e,[this].concat((0,a._)(i)))).state={shown:!1},t.handleChange=function(e){!t.state.shown&&(e.isIntersecting||e.intersectionRatio>0)&&t.setState({shown:!0})},t}return(0,r._)(n,[{key:"render",value:function(){var t=this.props,e=t.placeholder,n=t.rootMargin,o=t.children;return this.state.shown?o:(0,f.tZ)(u.Z,{rootMargin:n,onChange:this.handleChange,threshold:[0,.1]},e||(0,f.tZ)("div",{style:{height:"1px"}}))}}]),n}(d.Component);p.propTypes={placeholder:s().element,rootMargin:s().string},p.defaultProps={rootMargin:"200px"};var h=p},51985:function(t,e,n){"use strict";n.d(e,{T:function(){return E}});var o=n(71728),r=n(87462),i=n(50112),a=n(87363),l=n.n(a),c=n(87641),s=n(89042),d=n(28753),u=n(64137),f=n(25628),p=n.n(f),h=n(80565),v=n(26257),m=n(74314),g=n(41402),C={name:"16fhh0i",styles:"&+.Catalog-FirstLevelTitle{margin-top:12px;}&+.Catalog-SecondLevelTitle{margin-top:6px;}"},y={name:"160ybly",styles:"cursor:pointer;align-items:center;"},x=function(t){var e=t.children,n=t.pl,a=t.targetId,l=t.handleScroll,d=t.index,u=(0,o._)(t,["children","pl","targetId","handleScroll","index"]);return(0,g.tZ)(c.Text,(0,r.Z)({flexShrink:0,display:"flex",alignItems:"center",color:"GBK02A",fontSize:"12px",height:"20px",lineHeight:"19px",css:C},u),(0,g.tZ)(c.Flex,{pl:n,css:y,"data-catalog-target-id":a,"data-za-detail-view-id":"9745","data-za-detail-view-action":"Click","data-za-detail-view-name":"正文",onClick:function(t){l(t,d)}},(0,g.tZ)(c.Text,{css:(0,i.Z)([(0,h.S)(1),{pointerEvents:"none",wordBreak:"break-all"}],""),dangerouslySetInnerHTML:{__html:e}}),(0,g.tZ)(s.W,{size:"20px",css:function(t){var e;return{color:null===(e=t.colors)||void 0===e?void 0:e.GBK08A,flex:"0 0 auto",pointerEvents:"none"}}})))},Z={name:"16fhh0i",styles:"&+.Catalog-FirstLevelTitle{margin-top:12px;}&+.Catalog-SecondLevelTitle{margin-top:6px;}"},b=function(t){var e=t.className,n=(0,o._)(t,["className"]);return(0,g.tZ)(x,(0,r.Z)({className:p()(e,"Catalog-FirstLevelTitle"),fontWeight:"bold",css:Z},n))},_={name:"q7f27s",styles:"&+.Catalog-FirstLevelTitle{margin-top:12px;}&+.Catalog-SecondLevelTitle{margin-top:0px;}"},w={name:"4g6ai3",styles:"cursor:pointer;"},k={name:"eg4v4b",styles:"margin-top:1px;"},E=l().forwardRef(function(t,e){var n=t.isFold,o=t.onClick,r=n?d.f:u.v,i=n?"展开目录":"收起目录";return(0,g.tZ)(l().Fragment,null,!!n&&(0,g.tZ)("div",{className:"bottom-shadow",css:function(t){return{position:"absolute",bottom:"25px",width:"100%",height:"40px",background:"linear-gradient(to bottom, ".concat(t.colorMod(t.colors.GBK99A).alpha(0),", ").concat(t.colors.GBK99A,")")}}}),(0,g.tZ)(c.Flex,{justifyContent:"center"},(0,g.tZ)(c.Flex,{ref:e,alignItems:"center",justifyContent:"center",height:"25px",fontSize:"12px",color:"GBL05A",css:w,onClick:o},i,(0,g.tZ)(r,{size:18,css:k}))))}),S={1:b,2:function(t){var e=t.className,n=(0,o._)(t,["className"]);return(0,g.tZ)(x,(0,r.Z)({className:p()(e,"Catalog-SecondLevelTitle"),pl:"10px",css:_},n))}},L={name:"7cjcr7",styles:"& .Catalog-wrapper{position:relative;}"},N={name:"npr4z8",styles:"margin-bottom:18px !important;margin-top:0px !important;"};e.Z=function(t){var e=t.catalog,n=t.className,o=t.canFold,r=t.inEditor,i=t.scrollOffset,l=void 0===i?0:i,s=o&&!r&&(null==e?void 0:e.length)>3,d=(0,a.useCallback)(function(t,e){if(r){var n=document.querySelector(".DraftEditor-editorContainer");if(n){var o=Array.from(n.querySelectorAll("h2,h3"))[e];o&&requestAnimationFrame(function(){return(0,m.TS)(o,l)})}}},[r,l]);return null!=e&&e.length?(0,g.tZ)(c.Box,{className:p()(n,"Catalog"),mb:"48px",css:L,"data-za-detail-view-name":"正文"},(0,g.tZ)("h2",{css:N},"目录"),(0,g.tZ)(c.Box,{className:"Catalog-wrapper"},(0,g.tZ)(c.Flex,{className:"Catalog-content",flexDirection:"column",fontSize:"12px",overflow:"hidden",height:s?"84px":"auto"},e.map(function(t){var e=t.titleLevel,n=t.text,o=t.targetId,r=t.index;if(t.status===v.YZ.removed)return null;var i=S[e]||b;return(0,g.tZ)(i,{key:String([o,r]),targetId:o,handleScroll:d,index:r},n)})),!!s&&(0,g.tZ)(E,{isFold:!0}))):r?(0,g.tZ)(c.Flex,{flexDirection:"column",alignItems:"center",mb:"18px"},(0,g.tZ)(c.Box,{size:"160px",mb:"10px"},(0,g.tZ)(c.Image,{size:"100%",src:"https://pic1.zhimg.com/v2-acf70e51e6f95a027a65a9209fd6a330_r.png"})),(0,g.tZ)(c.Text,{color:"GBK06A",fontSize:"17px",lineHeight:"24px",textAlign:"center"},"在内容中设置标题将会在此处同步展示")):null}},63062:function(t,e,n){"use strict";var o=n(87363),r=n.n(o),i=n(95769),a=n.n(i),l=n(41402);e.Z=function(t){var e=t.referenceList,n=t.onClick,o=t.listRef;return(0,l.tZ)(r().Fragment,null,(0,l.tZ)("h2",null,"参考"),(0,l.tZ)("ol",{className:"ReferenceList",onClick:n,ref:o},a()(e,"refKey").map(function(t){var n=e.filter(function(e){return e.refKey===t.refKey}),o=n.length>1?(0,l.tZ)(r().Fragment,null,(0,l.tZ)("span",{className:"ReferenceList-backHint","aria-label":"back"},"^"),n.map(function(t,e){var n="".concat(t.refKey,"_").concat(e);return(0,l.tZ)("sup",{key:n,className:"ReferenceList-backLink"},(0,l.tZ)("a",{href:"#".concat(n),"data-reference-link":!0},"abcdefghijklmnopqrstuvwxyz"[e%26]))})):(0,l.tZ)("a",{className:"ReferenceList-backLink",href:"#".concat(t.refKey,"_0"),"aria-label":"back","data-reference-link":!0},"^");return(0,l.tZ)("li",{id:t.refKey,key:t.refKey,tabIndex:0},o,t.text&&(0,l.tZ)("span",null,t.text),t.text&&t.url&&"\xa0",t.url&&(0,l.tZ)("a",{href:t.url,className:"external",target:"_blank",rel:"noopener noreferrer"},t.url))})))}},72080:function(t,e,n){"use strict";n.d(e,{UC:function(){return u},f1:function(){return f}}),n(87363);var o=n(25352),r=n(37831),i=n(26257),a=n(67045),l=n(51985),c=n(41402),s=/<(h2|h3)[^>]*>(.*?)<\/\1>/g,d={h2:1,h3:2},u=function(t){return d[t]},f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t)return{catalog:[],html:t};var o=[];return e=e||"editor",n="function"==typeof n?n:function(){return String(n)},t=t.replace(s,function(t,r){var l,c,s,d,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",p=f.replace(a.U,"").replace(/<[^>]*>/g,""),h=u(r),v=(l=e,c=o.length,"h_".concat(l||"editor","_").concat(c)),m=(null===(s=t.match(/(data-into-catalog-status=\\{0,1}"\S{1,}\\{0,1}")/))||void 0===s?void 0:null===(d=s[0])||void 0===d?void 0:d.indexOf(i.YZ.removed))>-1?i.YZ.removed:"";return o.push({text:p,titleLevel:h,Tag:r,targetId:v,status:m}),n({text:p,titleLevel:h,targetId:v,Tag:r,originText:f,status:m})}),{catalog:o,html:t}},p=function(t){var e=t.originText,n=t.targetId,o=t.Tag,i=t.status;return(0,r.renderToStaticMarkup)((0,c.tZ)(o,{id:n,"data-into-catalog-status":i,dangerouslySetInnerHTML:{__html:e}}))};e.ZP=function(t,e){return function(n,i){var a=i.sourceId,s=i.theme,d=i.shouldShowCatalog,u=i.shouldFoldCatalog;if(!n||!d)return n;var h=f(n,a,p),v=h.catalog,m=h.html;return v.length?(e&&(e.current=v),t)?m:(0,r.renderToStaticMarkup)((0,c.tZ)(o.f6,{theme:s},(0,c.tZ)(l.Z,{catalog:v,canFold:u}))).concat(m):m}}},67045:function(t,e,n){"use strict";n.d(e,{U:function(){return l}}),n(87363);var o=n(37831),r=n(74314),i=n(63062),a=n(41402),l=/<sup\b([^>]*data-draft-type="reference"[^>]*)>(.*?)<\/sup>/g,c=function(t,e){if(!t)return t;var n=t,c=[];return(n=n.replace(l,function(t,n){var i=(0,r.fN)(n,{decodeValue:!0}),l=i["data-text"],s=void 0===l?"":l,d=i["data-url"],u=void 0===d?"":d,f=i["data-numero"],p=e?"ref_".concat(e,"_").concat(f):"ref_".concat(f),h=c.filter(function(t){return t.refKey===p}),v="".concat(p,"_").concat(h.length);c.push({refKey:p,text:s,url:u,numero:f});var m=[s,u].filter(Boolean).join(" ");return(0,o.renderToStaticMarkup)((0,a.tZ)("sup",{"data-text":s,"data-url":u,"data-numero":f,"data-draft-node":"inline","data-draft-type":"reference","data-tooltip":m,"data-tooltip-preset":"white","data-tooltip-classname":"ztext-referene-tooltip"},(0,a.tZ)("a",{className:"ztext-referene-tooltip",id:v,href:"#".concat(p),"data-reference-link":!0,"aria-labelledby":p},"[",f,"]")))}),c.length)?n=n.concat((0,o.renderToStaticMarkup)((0,a.tZ)(i.Z,{referenceList:c}))):n};e.Z=function(t){return function(e){return c(e,t)}}},74314:function(t,e,n){"use strict";n.d(e,{KV:function(){return i},TS:function(){return s},cx:function(){return l},fN:function(){return r},p1:function(){return a},sK:function(){return c}});var o=/([-\w]+)(="([^"]+)"|='([^']+)')?/g,r=function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.decodeValue,i=void 0!==r&&r,l={};e=o.exec(t);){var c=e[1],s=e[3]||e[4];l[c]=(i?a(s):s)||""}return l},i=function(t){if(!t)return null;try{return JSON.parse(t)}catch(t){return null}};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/&amp;/g,"&").replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#34;/g,'"').replace(/&#13;/g,"\r")}function l(){return Math.max(window.innerHeight/10,100)}var c=function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var n=document.defaultView.getComputedStyle(e);if([n.overflow,n.overflowY,n.overflowX].some(function(t){return"scroll"===t||"auto"===t}))return e;e=e.parentNode||e.parentElement}return window};function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=c(t),r=t.getBoundingClientRect().top+(o.pageYOffset||o.scrollTop||0)-(n?l():0)-e;o.scrollTo({top:r,behavior:"smooth"})}},2930:function(t,e,n){"use strict";n.d(e,{o:function(){return k},Z:function(){return T}});var o=n(22107),r=n(94707),i=n(86325),a=n(49899),l=n(85626),c=n(14168),s=n.n(c),d=n(87363),u=n(25628),f=n.n(u),p=n(17132),h=n.n(p),v=n(87628),m=n(10481),g=n(51695),C=n(81622),y=n(41402),x=function(t){(0,i._)(n,t);var e=(0,l._)(n);function n(){for(var t,r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return(0,o._)(this,n),(t=e.call.apply(e,[this].concat((0,a._)(i)))).state={isInputing:!1,value:t.props.value||""},t.handleChange=function(e){t.setState({value:(0,m.j2)(e.target.value,30)})},t}return(0,r._)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.value&&t.value!==this.state.value&&this.setState({value:t.value})}},{key:"render",value:function(){var t=this,e=this.state,n=e.isInputing,o=e.value,r=this.props.onChange,i=!n&&!o,a=!n&&o;return(0,y.tZ)("div",{className:"Editable-VideoTitleInput-container"},(0,y.tZ)(C.Z,null,(0,y.tZ)("div",{className:f()("Editable-VideoTitleInput-innerContainer",{"Editable-VideoTitleInput-innerContainer--isBeforeIconShown":i}),onClick:function(){return t.setState({isInputing:!0})}},i&&(0,y.tZ)(g.yc,{className:"Editable-VideoTitleInput-beforeIcon",center:!0}),!n&&(0,y.tZ)("div",{className:f()("Editable-VideoTitleInput-value",{"Editable-VideoTitleInput-value--noContent":!o})},o||"好的标题可以获得更多的推荐及关注者"),n&&(0,y.tZ)("input",{className:"Editable-VideoTitleInput",value:o,ref:function(t){t&&t.focus()},placeholder:"标题长度不超过 15 个字",onChange:this.handleChange,onBlur:function(e){t.setState({isInputing:!1}),r(e.target.value)}}),a&&(0,y.tZ)(g.yc,{className:"Editable-VideoTitleInput-afterIcon",center:!0}))))}}]),n}(d.Component),Z=n(97457),b=n(78842),_=n(94845),w=n.n(_),k=function(t){var e=t.className;return(0,y.tZ)("svg",{viewBox:"0 0 72 72",className:e},(0,y.tZ)("circle",{cx:"36",cy:"36",fill:"#fff",fillOpacity:".95",r:"36"}),(0,y.tZ)("path",{d:"M50.835 37.06L29.477 49.97a1.203 1.203 0 0 1-1.664-.43 1.25 1.25 0 0 1-.17-.631V23.091c0-.682.543-1.234 1.213-1.234.219 0 .433.06.62.173l21.359 12.91a1.245 1.245 0 0 1 0 2.12z",fill:"#444",fillRule:"nonzero"}))},E=function(){return(0,y.tZ)("div",{className:"VideoCardPlayButton"},(0,y.tZ)(k,{className:"VideoCardPlayButton-icon"}))},S=function(t){var e=t.fileSize;return(0,y.tZ)("div",{className:"VideoCardPlayButton-withFileSize--outer"},(0,y.tZ)("span",{className:"VideoCardPlayButton-withFileSize"},(0,y.tZ)(b.D,{center:!0,size:14}),e?w()(e,{decimalPlaces:1,unit:"MB"}):"流量播放"))},L={name:"u03n1e",styles:"position:relative;height:100%;&::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0, 0, 0, 0.05);}"};function N(t){var e=t.thumbnail,n=t.isLens,o=t.canPlay;return n||o?e&&"string"==typeof e?(0,y.tZ)("div",{css:L},(0,y.tZ)("img",{src:e,alt:"视频封面"})):e||null:(0,y.tZ)(k,{className:"VideoCard-playIcon VideoCard-playIcon--nonLens"})}var I=function(t){(0,i._)(n,t);var e=(0,l._)(n);function n(){for(var t,r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return(0,o._)(this,n),(t=e.call.apply(e,[this].concat((0,a._)(i)))).state={isMobile:!1,playerShown:!1,playerLoading:!1},t.handlePlay=function(e){e.preventDefault();var n=t.props,o=n.interactive,r=n.isConverting,i=n.isLens,a=n.playerUrl,l=n.onPlayFailed,c=n.onLensPlay,s=n.onBeforePlay;if(o&&!r){if(!a&&l){l();return}if(s){Promise.resolve(s()).then(function(e){!1!==e&&t.play()});return}i&&c&&c()||t.play()}},t.handlePlayerLoad=function(){t.loadingCount--,0===t.loadingCount&&t.setState({playerLoading:!1})},t}return(0,r._)(n,[{key:"componentDidMount",value:function(){this.setState({isMobile:h()(navigator.userAgent).Mobile})}},{key:"canPlay",value:function(){return this.props.isLens}},{key:"inlinePlayer",value:function(){var t=this.props,e=t.interactive,n=t.isLens,o=t.onLensPlay,r=t.onBeforePlay;return e&&n&&!(o||r)}},{key:"showContent",value:function(){var t=this.props,e=t.content,n=t.isLens,o=t.title;return!t.isVideoTitleEditable&&(!n||!!(e||o))}},{key:"showDescription",value:function(){var t=this.props.isLens;return this.showContent()&&!t}},{key:"play",value:function(){var t=this.props.onPlay;this.loadingCount=2,this.setState({playerShown:!0,playerLoading:!0}),setTimeout(this.handlePlayerLoad,1e3),t&&t()}},{key:"renderContent",value:function(){var t=this.props,e=t.interactive,n=t.isLens,o=t.title,r=t.thumbnail,i=t.source,a=t.url,l=t.showPlayButton,c=t.usePlayButtonWithFileSize,s=t.fileSize,d=t.rightBottomButton,u=t.leftBottomButton,p=t.isVideoTitleEditable,h=t.onVideoTitleChange,v=t.isConverting,m=t.content,g=this.canPlay(),C=this.inlinePlayer(),Z=(0,y.tZ)(N,{thumbnail:r,isLens:n,canPlay:g}),b=l&&!v&&(c?(0,y.tZ)(S,{fileSize:s}):(0,y.tZ)(E,null)),_=(0,y.tZ)("div",{className:"VideoCard-layout"},g?(0,y.tZ)("div",{className:"VideoCard-video"},(0,y.tZ)("div",{className:"VideoCard-video-content"},C?this.renderPlayer():(0,y.tZ)("div",{className:f()("VideoCard-thumbnail",{"VideoCard-thumbnail--placeholder":!r}),onClick:this.handlePlay},Z,b,d,u))):(0,y.tZ)("div",{className:"VideoCard-poster"},Z),this.showContent()&&(m||(0,y.tZ)("div",{className:"VideoCard-content"},(0,y.tZ)("div",{className:"VideoCard-title"},o),this.showDescription()&&(0,y.tZ)("div",{className:"VideoCard-description"},i&&(0,y.tZ)("span",{className:"VideoCard-source"},i),(0,y.tZ)("span",{className:"VideoCard-badge"},"视频")))),p&&(0,y.tZ)(x,{value:o,onChange:h}));return n?_:e?(0,y.tZ)("a",{className:"VideoCard-link",href:a,target:"_blank",rel:"noopener noreferrer"},_):(0,y.tZ)("div",{className:"VideoCard-link"},_)}},{key:"renderPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.props,n=e.source,o=e.playerUrl,r=e.onIframeRef,i=e.useMSE,a=e.zaProps;return(0,y.tZ)(Z.Z,{placeholder:(0,y.tZ)("div",{className:"VideoCard-player"})},(0,y.tZ)("div",{className:"VideoCard-player"},(0,y.tZ)(v.Z,{type:"video",ref:r,src:"".concat(o),iframeProps:{onLoad:this.handlePlayerLoad,allowFullScreen:!0},griffithProps:{autoplay:t&&"lens"===n,useMSE:i},zaProps:a})))}},{key:"render",value:function(){var t=this.props,e=t.interactive,n=t.isConverting,o=t.isVideoAnswer,r=this.state,i=r.isMobile,a=r.playerShown,l=r.playerLoading;return(0,y.tZ)("div",{className:f()("VideoCard",{"VideoCard--converting":n,"VideoCard--interactive":e,"VideoCard--mobile":i,"is-videoAnswer":o})},this.renderContent(),a&&(0,y.tZ)("div",{className:f()("VideoCard-overlay",{"is-loading":l})},this.renderPlayer(!0)),(0,y.tZ)("div",{className:f()("VideoCard-mask",{"is-shown":l})}))}}]),n}(d.Component);I.propTypes={interactive:s().bool,showPlayButton:s().bool,usePlayButtonWithFileSize:s().bool,isVideoAnswer:s().bool,fileSize:s().number,onPlay:s().func,onPlayFailed:s().func,onLensPlay:s().func,onBeforePlay:s().func,rightBottomButton:s().oneOfType([s().element,s().string]),leftBottomButton:s().oneOfType([s().element,s().string]),thumbnail:s().oneOfType([s().element,s().string]),content:s().object,zaProps:s().object},I.defaultProps={interactive:!0,showPlayButton:!0};var T=I}}]);
//# sourceMappingURL=shared-0b43bf3e67dbb6b623fe8ec6c5d091d1b549b2dc.ecc26a2a06697b591274.js.map